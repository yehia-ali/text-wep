"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[6868],{38140:(L,f,a)=>{a.d(f,{Y:()=>i});var t=a(65879),m=a(96814),e=a(89515),p=a(824),E=a(52081),_=a(56223),h=a(76472),M=a(3131);function C(s,T){if(1&s&&(t.TgZ(0,"p",10),t._uU(1),t.ALo(2,"arabicNumbers"),t.ALo(3,"translate"),t.qZA()),2&s){const r=t.oxw();t.xp6(1),t.Oqu(null!=r.meta&&r.meta.pageSize?t.lcZ(2,1,null==r.meta?null:r.meta.pageSize):t.lcZ(3,3,"unlimited"))}}function O(s,T){if(1&s){const r=t.EpF();t.TgZ(0,"input",11),t.NdJ("ngModelChange",function(o){t.CHM(r);const D=t.oxw();return t.KtG(D.limit=o)})("ngModelChange",function(){t.CHM(r);const o=t.oxw();return t.KtG(o.changeLimit())}),t.qZA()}if(2&s){const r=t.oxw();t.Q6J("ngModel",r.limit)}}function I(s,T){1&s&&(t.TgZ(0,"p",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"record")))}function A(s,T){if(1&s){const r=t.EpF();t.TgZ(0,"pagination-controls",13),t.NdJ("pageChange",function(o){t.CHM(r);const D=t.oxw();return t.KtG(D.pageChanged(o))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.qZA()}2&s&&t.Q6J("maxSize",7)("directionLinks",!0)("previousLabel",t.lcZ(1,4,"previous"))("nextLabel",t.lcZ(2,6,"next"))}const x=[[["","filters",""]],[["","content",""]]],U=function(s,T){return{height:s,"max-width":T}},u=["[filters]","[content]"];let i=(()=>{class s{constructor(){this.pageChange=new t.vpe,this.limitChanged=new t.vpe,this.hasTitle=!1,this.admin=!1,this.limit=15,this.hasCard=!1,this.extraHeight=0,this.service=(0,t.f3M)(M.P)}changeLimit(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.limit<1&&(this.limit=15),this.limitChanged.emit(this.limit)},500)}pageChanged(r){this.pageChange.emit(r)}static{this.\u0275fac=function(d){return new(d||s)}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["layout-with-filters"]],inputs:{meta:"meta",hasTitle:"hasTitle",admin:"admin",limit:"limit",hasCard:"hasCard",extraHeight:"extraHeight"},outputs:{pageChange:"pageChange",limitChanged:"limitChanged"},standalone:!0,features:[t.jDz],ngContentSelectors:u,decls:21,vars:20,consts:[[1,"layout-with-filters","w-100","rounded","bg-white","border",3,"ngStyle"],[1,"filters","border-bottom","px-1","pb-1","pt-25"],["magicScroll","",1,"content","relative"],[1,"pagination-content","flex","aic","jcsr","py-1","bg-white","border-top"],[1,"flex","aic"],["class","ml-75 primary",4,"ngIf"],["type","number","class","input ml-75 limit text-center","min","1",3,"ngModel","ngModelChange",4,"ngIf"],["class","ml-50 primary",4,"ngIf"],[3,"maxSize","directionLinks","previousLabel","nextLabel","pageChange",4,"ngIf"],[1,"primary"],[1,"ml-75","primary"],["type","number","min","1",1,"input","ml-75","limit","text-center",3,"ngModel","ngModelChange"],[1,"ml-50","primary"],[3,"maxSize","directionLinks","previousLabel","nextLabel","pageChange"]],template:function(d,o){1&d&&(t.F$t(x),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA(),t.TgZ(3,"div",2),t.Hsn(4,1),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,C,4,5,"p",5),t.YNc(11,O,1,1,"input",6),t.YNc(12,I,3,3,"p",7),t.qZA(),t.YNc(13,A,3,8,"pagination-controls",8),t.TgZ(14,"p"),t._uU(15),t.ALo(16,"translate"),t.TgZ(17,"span",9),t._uU(18),t.ALo(19,"arabicNumbers"),t.ALo(20,"translate"),t.qZA()()()()),2&d&&(t.Q6J("ngStyle",t.WLB(17,U,o.hasTitle?"calc(100vh - 14.5rem)":o.hasCard?"calc(100vh - 27.7rem)":"calc(100vh - 11rem)",o.service.withSubMenu.value?"calc(100vw - 277px)":"calc(100vw - 92px)")),t.xp6(8),t.hij("",t.lcZ(9,9,"pagination_per_page")," "),t.xp6(2),t.Q6J("ngIf",!o.admin),t.xp6(1),t.Q6J("ngIf",o.admin),t.xp6(1),t.Q6J("ngIf",null==o.meta?null:o.meta.pageSize),t.xp6(1),t.Q6J("ngIf",(null==o.meta?null:o.meta.totalItems)>15),t.xp6(2),t.hij("",t.lcZ(16,11,"pagination_total_records")," "),t.xp6(3),t.AsE("",t.lcZ(19,13,null==o.meta?null:o.meta.totalItems)," ",t.lcZ(20,15,"record"),""))},dependencies:[m.ez,m.O5,m.PC,e.aw,e.X$,p.h,E.m,_.u5,_.Fj,_.wV,_.JJ,_.qQ,_.On,h.JX,h.LS],styles:[".layout-with-filters[_ngcontent-%COMP%]{overflow:hidden;box-shadow:0 1px 38px #0000001a,0 2px 4px -1px #0000000f}.layout-with-filters[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{z-index:999}.layout-with-filters[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:calc(100% - 137px)}.layout-with-filters[_ngcontent-%COMP%]   .pagination-content[_ngcontent-%COMP%]{height:58px}.limit[_ngcontent-%COMP%]{width:5rem;padding:1.1rem .5rem}"]})}}return s})()},28591:(L,f,a)=>{a.d(f,{T:()=>y});var t=a(96814),m=a(52081),e=a(65879);function p(n,c){1&n&&e._UZ(0,"i",13)}function E(n,c){1&n&&e._UZ(0,"i",14)}function _(n,c){1&n&&e._UZ(0,"i",15)}function h(n,c){1&n&&e._UZ(0,"i",13)}function M(n,c){1&n&&e._UZ(0,"i",14)}function C(n,c){1&n&&e._UZ(0,"i",15)}function O(n,c){1&n&&e._UZ(0,"i",13)}function I(n,c){1&n&&e._UZ(0,"i",14)}function A(n,c){1&n&&e._UZ(0,"i",15)}function x(n,c){1&n&&e._UZ(0,"i",13)}function U(n,c){1&n&&e._UZ(0,"i",14)}function u(n,c){1&n&&e._UZ(0,"i",15)}function i(n,c){1&n&&e._UZ(0,"i",13)}function s(n,c){1&n&&e._UZ(0,"i",14)}function T(n,c){1&n&&e._UZ(0,"i",15)}function r(n,c){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5),e.YNc(2,p,1,0,"i",6),e.YNc(3,E,1,0,"i",7),e.YNc(4,_,1,0,"i",8),e.qZA(),e.TgZ(5,"div",9),e.YNc(6,h,1,0,"i",6),e.YNc(7,M,1,0,"i",7),e.YNc(8,C,1,0,"i",8),e.qZA(),e.TgZ(9,"div",10),e.YNc(10,O,1,0,"i",6),e.YNc(11,I,1,0,"i",7),e.YNc(12,A,1,0,"i",8),e.qZA(),e.TgZ(13,"div",11),e.YNc(14,x,1,0,"i",6),e.YNc(15,U,1,0,"i",7),e.YNc(16,u,1,0,"i",8),e.qZA(),e.TgZ(17,"div",12),e.YNc(18,i,1,0,"i",6),e.YNc(19,s,1,0,"i",7),e.YNc(20,T,1,0,"i",8),e.qZA()()),2&n){const l=e.oxw();e.xp6(2),e.Q6J("ngIf",l.rate<.5),e.xp6(1),e.Q6J("ngIf",l.rate>=.5&&l.rate<1),e.xp6(1),e.Q6J("ngIf",l.rate>=1),e.xp6(2),e.Q6J("ngIf",l.rate<1.5),e.xp6(1),e.Q6J("ngIf",l.rate>=1.5&&l.rate<2),e.xp6(1),e.Q6J("ngIf",l.rate>=2),e.xp6(2),e.Q6J("ngIf",l.rate<2.5),e.xp6(1),e.Q6J("ngIf",l.rate>=2.5&&l.rate<3),e.xp6(1),e.Q6J("ngIf",l.rate>=3),e.xp6(2),e.Q6J("ngIf",l.rate<3.5),e.xp6(1),e.Q6J("ngIf",l.rate>=3.5&&l.rate<4),e.xp6(1),e.Q6J("ngIf",l.rate>=4),e.xp6(2),e.Q6J("ngIf",l.rate<4.5),e.xp6(1),e.Q6J("ngIf",l.rate>=4.5&&l.rate<5),e.xp6(1),e.Q6J("ngIf",l.rate>=5)}}const d=function(n){return{warning:n}};function o(n,c){if(1&n&&e._UZ(0,"i",16),2&n){const l=e.oxw();e.Q6J("ngClass",e.VKq(1,d,l.rate))}}function D(n,c){if(1&n&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const l=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,l.rate,"1.1-1"))}}function g(n,c){1&n&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"arabicNumbers"),e.ALo(3,"arabicNumbers"),e.qZA()),2&n&&(e.xp6(1),e.AsE("",e.lcZ(2,2,0),".",e.lcZ(3,4,0),""))}const P=function(n){return{"gap-x-1":n}};let y=(()=>{class n{constructor(){this.rate=1,this.size="",this.type="large",this.displayNumber=!0}static{this.\u0275fac=function(Z){return new(Z||n)}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["rate"]],inputs:{rate:"rate",size:"size",type:"type",displayNumber:"displayNumber"},standalone:!0,features:[e.jDz],decls:5,vars:10,consts:[[3,"ngClass"],["class","rate flex aic",4,"ngIf"],["class","bx bxs-star mr-50",3,"ngClass",4,"ngIf"],["class","fs-15",4,"ngIf"],[1,"rate","flex","aic"],[1,"rate-1","img"],["class","bx bx-star",4,"ngIf"],["class","bx bxs-star-half warning",4,"ngIf"],["class","bx bxs-star warning",4,"ngIf"],[1,"rate-2","img"],[1,"rate-3","img"],[1,"rate-4","img"],[1,"rate-5","img"],[1,"bx","bx-star"],[1,"bx","bxs-star-half","warning"],[1,"bx","bxs-star","warning"],[1,"bx","bxs-star","mr-50",3,"ngClass"],[1,"fs-15"]],template:function(Z,v){1&Z&&(e.TgZ(0,"div",0),e.YNc(1,r,21,15,"div",1),e.YNc(2,o,1,3,"i",2),e.YNc(3,D,3,4,"p",3),e.YNc(4,g,4,6,"p",3),e.qZA()),2&Z&&(e.Gre("flex aic ",v.size,""),e.Q6J("ngClass",e.VKq(8,P,"large"==v.type)),e.xp6(1),e.Q6J("ngIf","large"==v.type),e.xp6(1),e.Q6J("ngIf","small"==v.type),e.xp6(1),e.Q6J("ngIf",(v.displayNumber||"small"==v.type)&&v.rate),e.xp6(1),e.Q6J("ngIf",(v.displayNumber||"small"==v.type)&&!v.rate))},dependencies:[t.ez,t.mk,t.O5,t.JJ,m.m],encapsulation:2})}}return n})()},49939:(L,f,a)=>{a.d(f,{z:()=>T});var t=a(65879),m=a(96814),e=a(16676),E=a(65619),_=a(23680),h=a(73445),M=a(56223),C=a(38034),O=a(89515),I=a(2032),A=a(64170);function x(r,d){1&r&&(t.TgZ(0,"label",7),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"date")))}const U=function(r){return{"w-15r":r}};let i,u=document.dir;i="rtl"===u?"ar-EG":"en-GB";const s={parse:{dateInput:"MMMM/YYYY"},display:{dateInput:"MMMM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"MMMM YYYY",monthYearA11yLabel:"MMMM YYYY"}};let T=(()=>{class r{constructor(){this.displayLabel=!0,this.onChange=new t.vpe,this.date=new M.NI(e()),this.now=new Date}ngOnChanges(o){o.selectedDate&&this.date.setValue(e(o.selectedDate.currentValue))}ngOnInit(){this.selectedDate&&(this.selectedDate instanceof E.X?this.selectedDate.subscribe(o=>{o&&this.date.setValue(e(o))}):this.date.setValue(e(this.selectedDate)))}setMonthAndYear(o,D){const g=this.date.value;g.month(o.month()),g.year(o.year()),this.date.setValue(g);const P=new Date(g._d).getFullYear(),y=(new Date(g._d).getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});let n=new Date(g._d.getFullYear(),g._d.getMonth()+1,0).getDate();this.start_date_key?.next(`${P}-${y}-01`),this.end_date_key?.next(`${P}-${y}-${n}`),this.onChange.emit(g._d),D.close()}static{this.\u0275fac=function(D){return new(D||r)}}static{this.\u0275cmp=t.Xpm({type:r,selectors:[["month-filter"]],inputs:{start_date_key:"start_date_key",displayLabel:"displayLabel",end_date_key:"end_date_key",selectedDate:"selectedDate",max:"max",min:"min"},outputs:{onChange:"onChange"},standalone:!0,features:[t._Bn([{provide:_.Ad,useValue:i},{provide:_._A,useClass:h.t7,deps:[_.Ad,h.o8]},{provide:_.sG,useValue:s}]),t.TTD,t.jDz],decls:7,vars:9,consts:[[1,"start-date",3,"ngClass"],["class","fs-13",4,"ngIf"],[1,"flex","aic","relative",3,"click"],[1,"input",3,"formControl","matDatepicker","min","max"],["matSuffix","",1,"picker-icon",3,"for"],["startView","multi-year","panelClass","example-month-picker",3,"monthSelected"],["picker",""],[1,"fs-13"]],template:function(D,g){if(1&D){const P=t.EpF();t.TgZ(0,"div",0),t.YNc(1,x,3,3,"label",1),t.TgZ(2,"div",2),t.NdJ("click",function(){t.CHM(P);const n=t.MAs(6);return t.KtG(n.open())}),t._UZ(3,"input",3)(4,"mat-datepicker-toggle",4),t.TgZ(5,"mat-datepicker",5,6),t.NdJ("monthSelected",function(n){t.CHM(P);const c=t.MAs(6);return t.KtG(g.setMonthAndYear(n,c))}),t.qZA()()()}if(2&D){const P=t.MAs(6);t.Q6J("ngClass",t.VKq(7,U,g.displayLabel)),t.xp6(1),t.Q6J("ngIf",g.displayLabel),t.xp6(2),t.Q6J("formControl",g.date)("matDatepicker",P)("min",g.min)("max",g.max),t.xp6(1),t.Q6J("for",P)}},dependencies:[m.ez,m.mk,m.O5,C.FA,C.Mq,C.hl,C.nW,O.aw,O.X$,I.c,A.R9,M.UX,M.Fj,M.JJ,M.oH],styles:[".picker-icon[_ngcontent-%COMP%]{position:absolute;inset-inline-end:0}.clear[_ngcontent-%COMP%]{position:absolute;inset-inline-end:4rem;top:50%;transform:translateY(-50%);line-height:0}.example-month-picker[_ngcontent-%COMP%]   .mat-calendar-period-button[_ngcontent-%COMP%]{pointer-events:none}.example-month-picker[_ngcontent-%COMP%]   .mat-calendar-arrow[_ngcontent-%COMP%]{display:none}"]})}}return r})()},59466:(L,f,a)=>{a.d(f,{i:()=>e});var t=a(65879),m=a(96814);let e=(()=>{class p{constructor(){this.up=new t.vpe,this.down=new t.vpe}ngOnInit(){}sortUp(){this.up.emit(0)}sortDown(){this.down.emit(1)}static{this.\u0275fac=function(h){return new(h||p)}}static{this.\u0275cmp=t.Xpm({type:p,selectors:[["sorting"]],outputs:{up:"up",down:"down"},standalone:!0,features:[t.jDz],decls:3,vars:0,consts:[[1,"flex-column-center"],[1,"bx","bx-chevron-up","fs-18","pointer",3,"click"],[1,"bx","bx-chevron-down","fs-18","pointer",3,"click"]],template:function(h,M){1&h&&(t.TgZ(0,"div",0)(1,"i",1),t.NdJ("click",function(){return M.sortUp()}),t.qZA(),t.TgZ(2,"i",2),t.NdJ("click",function(){return M.sortDown()}),t.qZA()())},dependencies:[m.ez],styles:[".bx[_ngcontent-%COMP%]{line-height:.6}"]})}}return p})()},88492:(L,f,a)=>{a.d(f,{K:()=>m});var t=a(65879);let m=(()=>{class e{constructor(){this.lang=localStorage.getItem("language")}transform(E){return new Intl.PluralRules("ar-EG").select(E)}static{this.\u0275fac=function(_){return new(_||e)}}static{this.\u0275pipe=t.Yjl({name:"defineDays",type:e,pure:!0,standalone:!0})}}return e})()},3131:(L,f,a)=>{a.d(f,{P:()=>e});var t=a(65619),m=a(65879);let e=(()=>{class p{constructor(){this.withSubMenu=new t.X(!0)}static{this.\u0275fac=function(h){return new(h||p)}}static{this.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},80905:(L,f,a)=>{a.d(f,{D:()=>A});var t=a(65619),m=a(83620),e=a(94664),p=a(37398),E=a(56223),_=a(20553),h=a(16676),C=a(38826),O=a(65879),I=a(69862);let A=(()=>{class x{constructor(u){this.http=u,this.teamReport=new t.X([]),this.teamReportValue=[],this.search=new t.X(""),this.searchValue="",this.loading=new t.X(!0),this.meta=new t.X({}),this.currentPage=new t.X(1),this.currentPageValue=1,this.limit=new t.X(15),this.startDateFrom=new t.X(this.getFirstDayOfMonth((new Date).getFullYear(),(new Date).getMonth())),this.startDateTo=new t.X(new Date),this.startDateFromValue="",this.startDateToValue="",this.selectedDate=new t.X(new E.NI(h())),this.selectedDateValue="",this.teamReport.subscribe(i=>this.teamReportValue=i),this.search.subscribe(i=>this.searchValue=i),this.meta.subscribe(i=>this.metaValue=i),this.currentPage.subscribe(i=>this.currentPageValue=i),this.startDateFrom.subscribe(i=>this.startDateFromValue=i),this.startDateTo.subscribe(i=>this.startDateToValue=i),this.selectedDate.subscribe(i=>this.selectedDateValue=i),this.limit.subscribe(i=>this.limitValue=i),this.search.pipe((0,m.b)(700),(0,e.w)(()=>this.getTeamReport())).subscribe()}getTeamReport(){this.loading.next(!0);const u=new URL(`${_.N.apiUrl}api/Tasks/GetMyTeamReport`);return this.currentPageValue&&u.searchParams.append("page",this.currentPageValue),u.searchParams.append("limit",this.limitValue),this.searchValue&&u.searchParams.append("search",this.searchValue),this.startDateFromValue&&u.searchParams.append("startDateFrom",(0,C.r)(this.startDateFromValue)),this.startDateToValue&&u.searchParams.append("startDateTo",(0,C.r)(this.startDateToValue)),this.http.get(`${u}`).pipe((0,p.U)(i=>{this.loading.next(!1);let s=i.data;i.data.items.forEach(d=>{d.actual=Math.round(d.workingHours.actual/60),d.required=Math.round(d.workingHours.required/60)}),this.meta.next({pageSize:s.pageSize,totalItems:s.totalItems,totalPages:s.totalPages,totalUnSeen:s.totalUnSeen,currentPage:s.currentPage}),this.currentPage.next(s.currentPage),this.teamReport.next(s.items)}))}getFirstDayOfMonth(u,i){return new Date(u,i,1)}static{this.\u0275fac=function(i){return new(i||x)(O.LFG(I.eN))}}static{this.\u0275prov=O.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()}}]);