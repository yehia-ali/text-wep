"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[5822],{31788:(E,C,r)=>{r.d(C,{S:()=>_});var a=r(96814),v=r(64190),e=r(55006),h=r(65879);let _=(()=>{class b{constructor(){this.padding="p-2"}static{this.\u0275fac=function(x){return new(x||b)}}static{this.\u0275cmp=h.Xpm({type:b,selectors:[["section-content"]],inputs:{padding:"padding"},standalone:!0,features:[h.jDz],decls:3,vars:3,template:function(x,S){1&x&&(h._UZ(0,"user-navbar"),h.TgZ(1,"div"),h._UZ(2,"router-outlet"),h.qZA()),2&x&&(h.xp6(1),h.Gre("content ",S.padding,""))},dependencies:[a.ez,v.lC,e.o]})}}return b})()},61158:(E,C,r)=>{r.d(C,{z:()=>Z});var a=r(65879),v=r(96814),e=r(824),h=r(64190),_=r(89515);let b=(()=>{class m{constructor(){this.text=""}static{this.\u0275fac=function(u){return new(u||m)}}static{this.\u0275cmp=a.Xpm({type:m,selectors:[["section-title"]],inputs:{text:"text"},standalone:!0,features:[a.jDz],decls:4,vars:3,consts:[[1,"section-title","py-1","border-bottom"],[1,"text-center","fs-20","primary"]],template:function(u,p){1&u&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&u&&(a.xp6(2),a.Oqu(a.lcZ(3,1,p.text)))},dependencies:[v.ez,_.aw,_.X$],encapsulation:2})}}return m})();var T=r(17476);function g(m,I){if(1&m&&a._UZ(0,"img",12),2&m){const l=a.oxw(2).$implicit;a.Q6J("ngSrc",l.img)}}function x(m,I){if(1&m&&a._UZ(0,"i"),2&m){const l=a.oxw(2).$implicit;a.Gre("bx ",l.icon,"")}}function S(m,I){if(1&m&&(a.TgZ(0,"a",8),a.YNc(1,g,1,1,"img",9),a.YNc(2,x,1,3,"i",10),a.TgZ(3,"p",11),a._uU(4),a.ALo(5,"translate"),a.qZA()()),2&m){const l=a.oxw().$implicit;a.Q6J("routerLink",l.link),a.xp6(1),a.Q6J("ngIf",l.img),a.xp6(1),a.Q6J("ngIf",l.icon),a.xp6(2),a.Oqu(a.lcZ(5,4,l.title))}}function N(m,I){if(1&m&&(a.ynx(0),a.YNc(1,S,6,6,"a",7),a.BQk()),2&m){const l=I.$implicit,u=a.oxw();a.xp6(1),a.Q6J("ngIf",u.shouldDisplayLink(l))}}let Z=(()=>{class m{constructor(){this.list=[],this.sectionTitle="",this.rolesSer=(0,a.f3M)(T.f)}shouldDisplayLink(l){if(!this.rolesSer.rolesLoaded$.value)return!1;const u=this.rolesSer.getUserRoles(),p=!l.roles||0===l.roles.length||l.roles.some(f=>u.includes(f)),y=l.excludeRoles&&l.excludeRoles.some(f=>u.includes(f));return p&&!y}static{this.\u0275fac=function(u){return new(u||m)}}static{this.\u0275cmp=a.Xpm({type:m,selectors:[["sub-sidebar"]],inputs:{list:"list",sectionTitle:"sectionTitle"},standalone:!0,features:[a.jDz],decls:11,vars:8,consts:[["magicScroll","",1,"sub-sidebar","h-100v","bg-white","border-right","p-1"],[1,"mt-1","primary","fs-25","bold","text-center"],[2,"color","#65C7C3"],[1,"content"],[3,"text"],[1,"items-list","py-2","ml-50"],[4,"ngFor","ngForOf"],["class","item flex aic gap-x-1 img rounded-tl-5 rounded-bl-5","routerLinkActive","active primary-image-container",3,"routerLink",4,"ngIf"],["routerLinkActive","active primary-image-container",1,"item","flex","aic","gap-x-1","img","rounded-tl-5","rounded-bl-5",3,"routerLink"],["alt","Taskedin logo","width","16","height","16","class","convert-image-color",3,"ngSrc",4,"ngIf"],[3,"class",4,"ngIf"],[1,"fs-14"],["alt","Taskedin logo","width","16","height","16",1,"convert-image-color",3,"ngSrc"]],template:function(u,p){1&u&&(a.TgZ(0,"div",0)(1,"p",1),a._uU(2),a.ALo(3,"translate"),a.TgZ(4,"span",2),a._uU(5),a.ALo(6,"translate"),a.qZA()(),a.TgZ(7,"div",3),a._UZ(8,"section-title",4),a.TgZ(9,"div",5),a.YNc(10,N,2,1,"ng-container",6),a.qZA()()()),2&u&&(a.xp6(2),a.Oqu(a.lcZ(3,4,"_tasked")),a.xp6(3),a.Oqu(a.lcZ(6,6,"_in")),a.xp6(3),a.Q6J("text",p.sectionTitle),a.xp6(2),a.Q6J("ngForOf",p.list))},dependencies:[v.ez,v.sg,v.O5,e.h,v.Zd,h.Od,h.rH,b,_.aw,_.X$],styles:[".sub-sidebar[_ngcontent-%COMP%]{width:195px}.item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px}.item.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary)}"]})}}return m})()},9004:(E,C,r)=>{r.d(C,{D:()=>I});var a=r(65879),v=r(96814),e=r(70468),h=r(54807),_=r(56223),b=r(89515),T=r(24110);function g(l,u){if(1&l&&a._UZ(0,"filter-label",3),2&l){const p=a.oxw();a.Q6J("key",p.label)}}function x(l,u){if(1&l&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"slice"),a.qZA()),2&l){const p=a.oxw().items;a.xp6(1),a.hij("",a.Dn7(2,1,p[0].name,0,10),"...")}}function S(l,u){if(1&l&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&l){const p=a.oxw().items;a.xp6(1),a.Oqu(p[0].name)}}function N(l,u){if(1&l&&(a.TgZ(0,"div",12)(1,"span",13),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&l){const p=a.oxw().items;a.xp6(2),a.AsE("",p.length-1," ",a.lcZ(3,2,"more"),"...")}}function Z(l,u){if(1&l){const p=a.EpF();a.TgZ(0,"div",6)(1,"span",7)(2,"span",8),a.YNc(3,x,3,5,"span",9),a.YNc(4,S,2,1,"span",9),a.qZA()(),a.TgZ(5,"span",10),a.NdJ("click",function(){const f=a.CHM(p);return a.KtG((0,f.clear)(f.items[0]))}),a._uU(6,"\xd7"),a.qZA()(),a.YNc(7,N,4,4,"div",11)}if(2&l){const p=u.items;a.xp6(3),a.Q6J("ngIf",p[0].name.length>=10),a.xp6(1),a.Q6J("ngIf",p[0].name.length<10),a.xp6(3),a.Q6J("ngIf",p.length>1)}}function m(l,u){if(1&l&&(a.TgZ(0,"ng-select",4),a.ALo(1,"async"),a.YNc(2,Z,8,3,"ng-template",5),a.qZA()),2&l){const p=a.oxw();a.Gre("",p.width," icon-input"),a.s9C("formControlName",p.formControlName),a.Q6J("items",a.lcZ(1,8,p.service.departments$))("clearSearchOnAdd",!0)("multiple",p.multiable)("closeOnSelect",p.closeOnSelect)}}let I=(()=>{class l{constructor(){this.label="departments",this.labelVisibilty=!0,this.width="w-24r",this.multiable=!0,this.selectedDepartment=this.multiable?[]:null,this.closeOnSelect=!1,this.formControlName=null,this.valueChanged=new a.vpe,this.service=(0,a.f3M)(T.U)}onChange(){this.valueChanged.emit(this.selectedDepartment)}static{this.\u0275fac=function(y){return new(y||l)}}static{this.\u0275cmp=a.Xpm({type:l,selectors:[["departments-form"]],inputs:{label:"label",labelVisibilty:"labelVisibilty",width:"width",multiable:"multiable",selectedDepartment:"selectedDepartment",closeOnSelect:"closeOnSelect",formControlName:"formControlName"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[a._Bn([],[{provide:_.gN,useExisting:_.sg}]),a.jDz],decls:3,vars:2,consts:[[1,"departments-filter"],[3,"key",4,"ngIf"],["bindLabel","name","bindValue","id","appendTo","body",3,"class","items","clearSearchOnAdd","multiple","closeOnSelect","formControlName",4,"ngIf"],[3,"key"],["bindLabel","name","bindValue","id","appendTo","body",3,"items","clearSearchOnAdd","multiple","closeOnSelect","formControlName"],["ng-multi-label-tmp",""],[1,"ng-value","flex","aic"],[1,"ng-value-label"],[1,"flex","aic","fs-10"],[4,"ngIf"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["class","ng-value rounded-2",4,"ngIf"],[1,"ng-value","rounded-2"],[1,"ng-value-label","fs-10"]],template:function(y,f){1&y&&(a.TgZ(0,"div",0),a.YNc(1,g,1,1,"filter-label",1),a.YNc(2,m,3,10,"ng-select",2),a.qZA()),2&y&&(a.xp6(1),a.Q6J("ngIf",f.labelVisibilty),a.xp6(1),a.Q6J("ngIf",f.formControlName))},dependencies:[v.ez,v.O5,v.Ov,v.OU,e.r,h.A0,h.w9,h.zB,_.u5,_.JJ,b.aw,b.X$,_.UX,_.u],encapsulation:2})}}return l})()},26579:(E,C,r)=>{r.r(C),r.d(C,{CompanyModule:()=>bt});var a=r(96814),v=r(64190),e=r(65879),h=r(17476),_=r(31788),b=r(61158);let T=(()=>{class n{constructor(){this.rolesSer=(0,e.f3M)(h.f),this.sidebarList=[{img:"assets/images/sub-sidebar/company-profile.svg",link:"profile",title:"profile"},{img:"assets/images/sub-sidebar/departments.svg",link:"departments",title:"departments"},{img:"assets/images/main-sidebar/users.svg",link:"all-users",title:"all_users"},{img:"assets/images/sub-sidebar/hierarchy.svg",link:"user-hierarchy",title:"hierarchy"}]}ngOnInit(){this.rolesSer.isManager.subscribe(t=>{t&&this.sidebarList.push({img:"assets/images/sub-sidebar/requests.svg",link:"requests",title:"requests"})})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["company"]],decls:4,vars:1,consts:[[1,"flex"],["sectionTitle","space",3,"list"],[1,"flex-auto"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"sub-sidebar",1),e.TgZ(2,"div",2),e._UZ(3,"section-content"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("list",o.sidebarList))},dependencies:[_.S,b.z]})}}return n})();var g=r(56223),x=r(20553),S=r(75411),N=r(824),Z=r(1350),m=r(54807),I=r(58964),l=r(82458),u=r(1428),p=r(65619),y=r(37398),f=r(69862);let M=(()=>{class n{constructor(t){this.http=t,this.companyProfile=new p.X({})}getIndustries(){return this.http.get(`${x.N.apiUrl}api/Industry/GetAll`)}updateImage(t){return this.http.put(`${x.N.apiUrl}api/Space/UpdateSpaceLogo`,t)}updateProfile(t){return this.http.put(`${x.N.apiUrl}api/Space/EditMySpaceProfile`,t)}getCompanyProfile(){return this.http.get(`${x.N.apiUrl}api/Space/GetMySpaceProfile`).pipe((0,y.U)(t=>(this.companyProfile.next(t.data),t.data)))}static{this.\u0275fac=function(i){return new(i||n)(e.LFG(f.eN))}}static{this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var U=r(99758),V=r(14653),W=r(52081),D=r(89515),ee=r(83628);function te(n,c){if(1&n&&(e.TgZ(0,"div",18),e._UZ(1,"img",19),e.TgZ(2,"span"),e._uU(3),e.qZA()()),2&n){const t=c.item,i=e.oxw();e.xp6(1),e.Q6J("src",i.api+t.countryFlag,e.LSH),e.xp6(2),e.Oqu("en"==i.lang?t.enName:t.arName)}}function ne(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e._UZ(2,"submit-button",22),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.form.invalid||t.loading),e.xp6(1),e.Q6J("loading",t.loading)}}const ie=function(n){return{unclickable:n}};let ae=(()=>{class n{constructor(t,i,o,s,d,X,F){this.service=t,this.rolesSer=i,this.alertSer=o,this.fb=s,this.countrySer=d,this.arabicNumbers=X,this.translate=F,this.isAdmin=!1,this.loading=!1,this.lang=localStorage.getItem("language")||"en",this.countries=[],this.industries=[],this.api=x.N.apiUrl,this.employees=[{value:1,text:this.arabicNumbers.transform(1)+"-"+this.arabicNumbers.transform(10)+" "+this.translate.instant("employee")},{value:2,text:this.arabicNumbers.transform(11)+"-"+this.arabicNumbers.transform(200)+" "+this.translate.instant("employee")},{value:3,text:this.arabicNumbers.transform(201)+"-"+this.arabicNumbers.transform(500)+" "+this.translate.instant("employee")},{value:4,text:this.arabicNumbers.transform(501)+"-"+this.arabicNumbers.transform(1e3)+" "+this.translate.instant("employee")},{value:5,text:this.arabicNumbers.transform(1e3)+"+ "+this.translate.instant("employee")}],this.form=this.fb.group({name:["",g.kI.required],countryId:[null,g.kI.required],hrEmail:["",g.kI.required],numberOfEmployees:[null,g.kI.required]})}ngOnInit(){this.rolesSer.canAccessAdmin.subscribe(t=>{this.isAdmin=t,this.isAdmin||(this.f.name.disable(),this.f.hrEmail.disable())}),this.service.companyProfile.subscribe(t=>{this.company=t,t.id&&this.form.patchValue({name:t.name,hrEmail:t.hrEmail,numberOfEmployees:t.numberOfEmployees,countryId:t.country.id})}),this.service.getCompanyProfile().subscribe(),this.countrySer.getCountries().subscribe(t=>this.countries=t),this.service.getIndustries().subscribe(t=>this.industries=t.data.items)}updateImage(t){this.alertSer.showAlert("file_uploading","bg-primary",5e6);let i=new FormData;i.append("uploadedFile",t),this.service.updateImage(i).subscribe(o=>{o.success&&(this.alertSer.showAlert("profile_updated"),this.service.getCompanyProfile().subscribe())})}submit(){this.loading=!0,this.service.updateProfile(this.form.value).subscribe(t=>{t.success&&this.alertSer.showAlert("profile_updated"),this.loading=!1})}get f(){return this.form.controls}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(M),e.Y36(h.f),e.Y36(U.c),e.Y36(g.qu),e.Y36(V.K),e.Y36(W.m),e.Y36(D.sK))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["profile"]],standalone:!0,features:[e.jDz],decls:25,vars:23,consts:[["magicScroll","",1,"profile-settings","p-3","h-100"],[1,"update-image","mb-4","inline-block",3,"ngClass"],[3,"img","updateable","file"],[3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-xl-6"],["key","company_name",3,"control","maxLength"],["type","text","formControlName","name","maxlength","50",1,"input"],[3,"control"],["key","country",3,"control"],["appendTo","body","id","basicSelect1","formControlName","countryId","bindLabel","enName","bindValue","id",1,"select-input",3,"items","readonly"],["ng-option-tmp","","ng-label-tmp",""],[1,"flex","aic","jcsb"],["key","hr_email",3,"control"],["type","text","formControlName","hrEmail",1,"input"],["key","number_of_employees",3,"control"],["bindLabel","text","bindValue","value","appendTo","body","formControlName","numberOfEmployees",1,"select-input",3,"items","readonly","multiple","closeOnSelect","clearSearchOnAdd"],["class","flex aic jcfe mt-2",4,"ngIf"],[1,"flex","aic"],["width","25","alt","",1,"mr-1",3,"src"],[1,"flex","aic","jcfe","mt-2"],[1,"bg-primary","white","clickable-btn","rounded","py-1","submit",3,"disabled","click"],["text","save",3,"loading"]],template:function(i,o){1&i&&(e.TgZ(0,"layout")(1,"div",0)(2,"div",1)(3,"upload-image",2),e.NdJ("file",function(d){return o.updateImage(d)}),e.qZA()(),e.TgZ(4,"form",3)(5,"div",4)(6,"div",5),e._UZ(7,"input-label",6)(8,"input",7)(9,"input-error",8),e.qZA(),e.TgZ(10,"div",5),e._UZ(11,"input-label",9),e.TgZ(12,"ng-select",10),e.YNc(13,te,4,2,"ng-template",11),e.qZA(),e._UZ(14,"input-error",8),e.qZA(),e.TgZ(15,"div",5)(16,"div",12),e._UZ(17,"input-label",13),e.qZA(),e._UZ(18,"input",14)(19,"input-error",8),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"input-label",15)(22,"ng-select",16)(23,"input-error",8),e.qZA()(),e.YNc(24,ne,3,2,"div",17),e.qZA()()()),2&i&&(e.xp6(2),e.Q6J("ngClass",e.VKq(21,ie,!o.isAdmin)),e.xp6(1),e.Q6J("img",null==o.company?null:o.company.logo)("updateable",o.isAdmin),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("control",o.f.name)("maxLength",50),e.xp6(2),e.Q6J("control",o.f.name),e.xp6(2),e.Q6J("control",o.f.countryId),e.xp6(1),e.Q6J("items",o.countries)("readonly",!o.isAdmin),e.xp6(2),e.Q6J("control",o.f.countryId),e.xp6(3),e.Q6J("control",o.f.hrEmail),e.xp6(2),e.Q6J("control",o.f.hrEmail),e.xp6(2),e.Q6J("control",o.f.numberOfEmployees),e.xp6(1),e.Q6J("items",o.employees)("readonly",!o.isAdmin)("multiple",!1)("closeOnSelect",!0)("clearSearchOnAdd",!0),e.xp6(1),e.Q6J("control",o.f.numberOfEmployees),e.xp6(1),e.Q6J("ngIf",o.isAdmin))},dependencies:[a.ez,a.mk,a.O5,S.u,ee.I,N.h,g.UX,g._Y,g.Fj,g.JJ,g.JL,g.nD,g.sg,g.u,Z.i,m.A0,m.w9,m.ir,m.mR,I.w,l.w,u.$],styles:[".submit[_ngcontent-%COMP%]{width:15rem!important}"]})}}return n})();var w=r(92596),Q=r(45843),z=r(57105),H=r(65668),L=r(32296),P=r(96271),Y=r(17700),oe=r(58048);function re(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addDepartment())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"create_department")))}function se(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.editDepartment(o))}),e.ALo(1,"translate"),e._UZ(2,"i",16),e.qZA()}2&n&&e.Q6J("matTooltip",e.lcZ(1,1,"edit"))}function ce(n,c){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"p"),e._uU(4),e.qZA(),e.YNc(5,se,3,3,"button",11),e.qZA(),e.TgZ(6,"div",12)(7,"user-image",13),e.NdJ("click",function(i){return i.stopImmediatePropagation()}),e.qZA(),e.TgZ(8,"p",14),e._uU(9),e.qZA()()()()),2&n){const t=c.$implicit,i=e.oxw(2);e.xp6(4),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",i.isAdmin),e.xp6(2),e.Q6J("dim",35)("img",t.managerImageUrl)("id",t.managerId),e.xp6(2),e.Oqu(t.managerName)}}function le(n,c){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,ce,10,6,"div",7),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.departments)("ngForTrackBy",t.trackBy)}}function de(n,c){1&n&&e._UZ(0,"not-found")}function pe(n,c){1&n&&e._UZ(0,"loading")}let me=(()=>{class n{constructor(t,i,o){this.dialog=t,this.service=i,this.rolesSer=o,this.departments=[],this.loading=!0,this.isAdmin=!1}ngOnInit(){this.rolesSer.canAccessAdmin.subscribe(t=>this.isAdmin=t),this.service.departments.subscribe(t=>{this.departments=t,this.departments.length>0&&(this.loading=!1)}),0===this.departments.length&&this.getDepartments()}getDepartments(){this.loading=!0,this.source$=this.service.getDepartments().subscribe(()=>this.loading=!1)}addDepartment(){this.dialog.open(P.W,{panelClass:"small-dialog",data:{title:"add_department",btn:"save",createMode:!0}})}editDepartment(t){this.dialog.open(P.W,{panelClass:"small-dialog",data:{title:"edit_department",btn:"save",department:t}})}trackBy(t,i){return i.id}ngOnDestroy(){this.source$.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(Y.uw),e.Y36(oe._),e.Y36(h.f))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["departments"]],standalone:!0,features:[e.jDz],decls:6,vars:4,consts:[["magicScroll","",1,"departments","h-100","p-3","relative"],["class","flex aic jcfe w-100",4,"ngIf"],["class","flex-grid gap-y-2 mt-2",4,"ngIf"],[4,"ngIf"],[1,"flex","aic","jcfe","w-100"],["mat-raised-button","","color","primary",1,"fs-16","py-1","px-2",3,"click"],[1,"flex-grid","gap-y-2","mt-2"],["class","col-xl-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-xl-6"],[1,"department-card","bg-gray","rounded","p-2"],[1,"flex","aic","jcsb"],["class","clickable-btn",3,"matTooltip","click",4,"ngIf"],[1,"manager","mt-1","flex","aic"],[3,"dim","img","id","click"],[1,"fs-15","ml-1"],[1,"clickable-btn",3,"matTooltip","click"],[1,"bx","bxs-edit","fs-22","primary"]],template:function(i,o){1&i&&(e.TgZ(0,"layout")(1,"div",0),e.YNc(2,re,4,3,"div",1),e.YNc(3,le,2,2,"div",2),e.YNc(4,de,1,0,"not-found",3),e.YNc(5,pe,1,0,"loading",3),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("ngIf",o.isAdmin),e.xp6(1),e.Q6J("ngIf",o.departments.length>0),e.xp6(1),e.Q6J("ngIf",o.departments&&0==o.departments.length&&!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[a.ez,a.sg,a.O5,N.h,w.AV,w.gM,D.aw,D.X$,Q.l,z.w,H.N,u.$,L.ot,L.lW]})}}return n})();var he=r(95247),ge=r(83318),ue=r(95509);let fe=(()=>{class n{constructor(t){this.http=t,this.spaceRequests=new p.X([])}getSpaceRequests(){return this.http.get(`${x.N.apiUrl}api/Space/GetSpacePendingProfiles`).pipe((0,y.U)(t=>{let i=t.data.items;return this.spaceRequests.next(i),i}))}approveOrRejectSpace(t){return this.http.put(`${x.N.apiUrl}api/UserProfile/UpdateApproveState`,t)}static{this.\u0275fac=function(i){return new(i||n)(e.LFG(f.eN))}}static{this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ve(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"user-image",5),e.TgZ(3,"p"),e._uU(4),e.qZA()(),e.TgZ(5,"div",6)(6,"div",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.rejectSpaceRequest(s.id))}),e.ALo(7,"translate"),e._UZ(8,"i",8),e.qZA(),e.TgZ(9,"div",9),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.approveSpaceRequest(s.id))}),e.ALo(10,"translate"),e._UZ(11,"i",10),e.qZA()()()}if(2&n){const t=c.$implicit;e.xp6(2),e.Q6J("img",t.imageUrl),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("matTooltip",e.lcZ(7,4,"reject")),e.xp6(3),e.Q6J("matTooltip",e.lcZ(10,6,"approve"))}}function _e(n,c){if(1&n&&(e.ynx(0),e.YNc(1,ve,12,8,"div",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.requests)("ngForTrackBy",t.trackBy)}}function be(n,c){1&n&&e._UZ(0,"not-found")}function xe(n,c){1&n&&e._UZ(0,"loading")}let Ce=(()=>{class n{constructor(t,i,o,s){this.service=t,this.alert=i,this.dialog=o,this.rolesSer=s,this.requests=[],this.loading=!1,this.dir=document.dir,this.canAccessAdmin=!1}ngOnInit(){this.rolesSer.canAccessAdmin.subscribe(t=>this.canAccessAdmin=t),this.service.spaceRequests.subscribe(t=>{this.requests=t,this.requests.length>0&&(this.loading=!1)}),0==this.requests.length&&this.getRequests()}getRequests(){this.loading=!0,this.service.getSpaceRequests().subscribe(()=>{this.loading=!1})}approveSpaceRequest(t){this.service.approveOrRejectSpace({id:t,isApproved:!0}).subscribe(o=>{o.success?(this.alert.showAlert("space_accepted"),this.service.getSpaceRequests().subscribe()):this.canAccessAdmin&&this.dialog.open(ue.k,{panelClass:"manage-subscription-dialog"})})}rejectSpaceRequest(t){this.dialog.open(ge.v,{panelClass:"confirmation-dialog",data:{id:t,message:"space_message",btn_name:"confirm",classes:"bg-primary white"}}).afterClosed().subscribe(o=>{o&&this.service.approveOrRejectSpace({id:t,isApproved:!1}).subscribe(d=>{this.alert.showAlert("space_rejected"),this.service.getSpaceRequests().subscribe()})})}trackBy(t,i){return i.taskId}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(fe),e.Y36(U.c),e.Y36(Y.uw),e.Y36(h.f))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["requests"]],standalone:!0,features:[e.jDz],decls:5,vars:3,consts:[["magicScroll","",1,"space-requests","relative","h-100"],[4,"ngIf"],["class","space-request flex aic jcsb p-2 border-bottom",4,"ngFor","ngForOf","ngForTrackBy"],[1,"space-request","flex","aic","jcsb","p-2","border-bottom"],[1,"start","flex","aic","gap-x-1"],[3,"img"],[1,"end","flex","aic","gap-x-2"],[1,"reject","action","bg-danger","rounded-50","pointer","flex-center",3,"matTooltip","click"],[1,"bx","bx-x","fs-25"],[1,"approve","action","bg-success","rounded-50","pointer","flex-center",3,"matTooltip","click"],[1,"bx","bx-check","fs-25"]],template:function(i,o){1&i&&(e.TgZ(0,"layout")(1,"div",0),e.YNc(2,_e,2,2,"ng-container",1),e.YNc(3,be,1,0,"not-found",1),e.YNc(4,xe,1,0,"loading",1),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("ngIf",o.requests.length>0),e.xp6(1),e.Q6J("ngIf",!o.loading&&0==o.requests.length),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[a.ez,a.sg,a.O5,u.$,N.h,Q.l,D.aw,D.X$,w.AV,w.gM,z.w,H.N]})}}return n})();var ye=r(82186),j=r(32801),A=r(86825),O=r(85219),q=r(82076),J=r(76005),R=r(35837),Te=r(78645);const Ae=["pOrganizationChartNode",""];function Ie(n,c){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.node.label)}}function De(n,c){1&n&&e.GkF(0)}const B=function(n){return{$implicit:n}};function Se(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,De,1,0,"ng-container",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.chart.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,B,t.node))}}const k=function(){return{display:"inline"}};function Ne(n,c){1&n&&e._UZ(0,"ChevronDownIcon",11),2&n&&(e.Q6J("styleClass","p-node-toggler-icon")("ngStyle",e.DdM(3,k)),e.uIk("data-pc-section","nodeTogglerIcon"))}function Ze(n,c){1&n&&e._UZ(0,"ChevronUpIcon",11),2&n&&(e.Q6J("styleClass","p-node-toggler-icon")("ngStyle",e.DdM(3,k)),e.uIk("data-pc-section","nodeTogglerIcon"))}function Oe(n,c){if(1&n&&(e.ynx(0),e.YNc(1,Ne,1,4,"ChevronDownIcon",10),e.YNc(2,Ze,1,4,"ChevronUpIcon",10),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.node.expanded),e.xp6(1),e.Q6J("ngIf",!t.node.expanded)}}function Ee(n,c){}function Ue(n,c){1&n&&e.YNc(0,Ee,0,0,"ng-template")}function we(n,c){if(1&n&&(e.TgZ(0,"span",12),e.YNc(1,Ue,1,0,null,7),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("ngStyle",e.DdM(4,k)),e.uIk("data-pc-section","nodeTogglerIcon"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.chart.togglerIconTemplate)("ngTemplateOutletContext",e.VKq(5,B,t.node.expanded))}}function Me(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.toggleNode(o,s.node))})("keydown.enter",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.toggleNode(o,s.node))})("keydown.space",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.toggleNode(o,s.node))}),e.YNc(1,Oe,3,2,"ng-container",0),e.YNc(2,we,2,7,"span",9),e.qZA()}if(2&n){const t=e.oxw(2);e.uIk("data-pc-section","nodeToggler"),e.xp6(1),e.Q6J("ngIf",!t.chart.togglerIconTemplate),e.xp6(1),e.Q6J("ngIf",t.chart.togglerIconTemplate)}}function Je(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"td"),e._UZ(2,"div",4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("data-pc-section","lineCell")("colspan",t.colspan),e.xp6(1),e.uIk("data-pc-section","lineDown")}}const $=function(n){return{"p-organizationchart-line-top":n}};function ke(n,c){if(1&n&&(e.TgZ(0,"td",14),e._uU(1,"\xa0"),e.qZA(),e.TgZ(2,"td",15),e._uU(3,"\xa0"),e.qZA()),2&n){const i=c.last;e.Q6J("ngClass",e.VKq(4,$,!c.first)),e.uIk("data-pc-section","lineLeft"),e.xp6(2),e.Q6J("ngClass",e.VKq(6,$,!i)),e.uIk("data-pc-section","lineRight")}}function Fe(n,c){if(1&n&&(e.ynx(0),e.YNc(1,ke,4,8,"ng-template",13),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function Qe(n,c){if(1&n&&(e.TgZ(0,"td",16),e._UZ(1,"table",17),e.qZA()),2&n){const t=c.$implicit;e.uIk("data-pc-section","nodeCell"),e.xp6(1),e.Q6J("node",t)}}const ze=function(n,c){return{"p-organizationchart-node-content":!0,"p-organizationchart-selectable-node":n,"p-highlight":c}};function He(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"tbody")(1,"tr")(2,"td")(3,"div",1),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onNodeClick(o,s.node))}),e.YNc(4,Ie,2,1,"div",0),e.YNc(5,Se,2,4,"div",0),e.YNc(6,Me,3,3,"a",2),e.qZA()()(),e.TgZ(7,"tr",3)(8,"td"),e._UZ(9,"div",4),e.qZA()(),e.TgZ(10,"tr",3),e.YNc(11,Je,3,3,"ng-container",0),e.YNc(12,Fe,2,1,"ng-container",0),e.qZA(),e.TgZ(13,"tr",5),e.YNc(14,Qe,2,2,"td",6),e.qZA()()}if(2&n){const t=e.oxw();e.uIk("data-pc-section","body"),e.xp6(1),e.uIk("data-pc-section","row"),e.xp6(1),e.uIk("colspan",t.colspan)("data-pc-section","cell"),e.xp6(1),e.Tol(t.node.styleClass),e.Q6J("ngClass",e.WLB(26,ze,t.chart.selectionMode&&!1!==t.node.selectable,t.isSelected())),e.uIk("data-pc-section","node"),e.xp6(1),e.Q6J("ngIf",!t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.chart.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.leaf),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.uIk("data-pc-section","lines"),e.xp6(1),e.uIk("data-pc-section","lineCell")("colspan",t.colspan),e.xp6(1),e.uIk("data-pc-section","lineDown"),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.uIk("data-pc-section","lines"),e.xp6(1),e.Q6J("ngIf",t.node.children&&1===t.node.children.length),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.children.length>1),e.xp6(1),e.Q6J("ngClass",!t.leaf&&t.node.expanded?"p-organizationchart-node-visible":"p-organizationchart-node-hidden")("@childState","in"),e.uIk("data-pc-section","nodes"),e.xp6(1),e.Q6J("ngForOf",t.node.children)}}function Le(n,c){if(1&n&&e._UZ(0,"table",2),2&n){const t=e.oxw();e.Q6J("node",t.root)}}const Pe=function(n){return{"p-organizationchart p-component":!0,"p-organizationchart-preservespace":n}};let Ye=(()=>{class n{cd;node;root;first;last;chart;subscription;constructor(t,i){this.cd=i,this.chart=t,this.subscription=this.chart.selectionSource$.subscribe(()=>{this.cd.markForCheck()})}get leaf(){if(this.node)return 0!=this.node.leaf&&!(this.node.children&&this.node.children.length)}get colspan(){if(this.node)return this.node.children&&this.node.children.length?2*this.node.children.length:null}onNodeClick(t,i){this.chart.onNodeClick(t,i)}toggleNode(t,i){i.expanded=!i.expanded,i.expanded?this.chart.onNodeExpand.emit({originalEvent:t,node:this.node}):this.chart.onNodeCollapse.emit({originalEvent:t,node:this.node}),t.preventDefault()}isSelected(){return this.chart.isSelected(this.node)}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(e.Y36((0,e.Gpc)(()=>K)),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:n,selectors:[["","pOrganizationChartNode",""]],hostAttrs:[1,"p-element"],inputs:{node:"node",root:"root",first:"first",last:"last"},attrs:Ae,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass","click"],["tabindex","0","class","p-node-toggler",3,"click","keydown.enter","keydown.space",4,"ngIf"],[1,"p-organizationchart-lines",3,"ngClass"],[1,"p-organizationchart-line-down"],[1,"p-organizationchart-nodes",3,"ngClass"],["colspan","2",4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"p-node-toggler",3,"click","keydown.enter","keydown.space"],["class","p-node-toggler-icon",3,"ngStyle",4,"ngIf"],[3,"styleClass","ngStyle",4,"ngIf"],[3,"styleClass","ngStyle"],[1,"p-node-toggler-icon",3,"ngStyle"],["ngFor","",3,"ngForOf"],[1,"p-organizationchart-line-left",3,"ngClass"],[1,"p-organizationchart-line-right",3,"ngClass"],["colspan","2"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(i,o){1&i&&e.YNc(0,He,15,29,"tbody",0),2&i&&e.Q6J("ngIf",o.node)},dependencies:function(){return[a.mk,a.sg,a.O5,a.tP,a.PC,J.v,R.g,n]},styles:["@layer primeng{.p-organizationchart-table{border-spacing:0;border-collapse:separate;margin:0 auto}.p-organizationchart-table>tbody>tr>td{text-align:center;vertical-align:top;padding:0 .75rem}.p-organizationchart-node-content{display:inline-block;position:relative}.p-organizationchart-node-content .p-node-toggler{position:absolute;bottom:-.75rem;margin-left:-.75rem;z-index:2;left:50%;-webkit-user-select:none;user-select:none;cursor:pointer;width:1.5rem;height:1.5rem}.p-organizationchart-node-content .p-node-toggler .p-node-toggler-icon{position:relative;top:.25rem}.p-organizationchart-line-down{margin:0 auto;height:20px;width:1px}.p-organizationchart-line-right,.p-organizationchart-line-left{border-radius:0}.p-organizationchart-selectable-node{cursor:pointer}.p-organizationchart .p-organizationchart-node-hidden{display:none}.p-organizationchart-preservespace .p-organizationchart-node-hidden{visibility:hidden;display:inherit}}\n"],encapsulation:2,data:{animation:[(0,A.X$)("childState",[(0,A.SB)("in",(0,A.oB)({opacity:1})),(0,A.eR)("void => *",[(0,A.oB)({opacity:0}),(0,A.jt)(150)]),(0,A.eR)("* => void",[(0,A.jt)(150,(0,A.oB)({opacity:0}))])])]}})}return n})(),K=(()=>{class n{el;cd;value;style;styleClass;selectionMode;preserveSpace=!0;get selection(){return this._selection}set selection(t){this._selection=t,this.initialized&&this.selectionSource.next(null)}selectionChange=new e.vpe;onNodeSelect=new e.vpe;onNodeUnselect=new e.vpe;onNodeExpand=new e.vpe;onNodeCollapse=new e.vpe;templates;templateMap;togglerIconTemplate;selectionSource=new Te.x;_selection;initialized;selectionSource$=this.selectionSource.asObservable();constructor(t,i){this.el=t,this.cd=i}get root(){return this.value&&this.value.length?this.value[0]:null}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{"togglericon"===t.getType()?this.togglerIconTemplate=t.template:this.templateMap[t.getType()]=t.template}),this.initialized=!0}getTemplateForNode(t){return this.templateMap?t.type?this.templateMap[t.type]:this.templateMap.default:null}onNodeClick(t,i){let o=t.target;if((!o.className||!q.p.hasClass(o,"p-node-toggler")&&!q.p.hasClass(o,"p-node-toggler-icon"))&&this.selectionMode){if(!1===i.selectable)return;let s=this.findIndexInSelection(i),d=s>=0;"single"===this.selectionMode?d?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=i,this.onNodeSelect.emit({originalEvent:t,node:i})):"multiple"===this.selectionMode&&(d?(this.selection=this.selection.filter((X,F)=>F!=s),this.onNodeUnselect.emit({originalEvent:t,node:i})):(this.selection=[...this.selection||[],i],this.onNodeSelect.emit({originalEvent:t,node:i}))),this.selectionChange.emit(this.selection),this.selectionSource.next(null)}}findIndexInSelection(t){let i=-1;if(this.selectionMode&&this.selection)if("single"===this.selectionMode)i=this.selection==t?0:-1;else if("multiple"===this.selectionMode)for(let o=0;o<this.selection.length;o++)if(this.selection[o]==t){i=o;break}return i}isSelected(t){return-1!=this.findIndexInSelection(t)}static \u0275fac=function(i){return new(i||n)(e.Y36(e.SBq),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:n,selectors:[["p-organizationChart"]],contentQueries:function(i,o,s){if(1&i&&e.Suo(s,O.jx,4),2&i){let d;e.iGM(d=e.CRH())&&(o.templates=d)}},hostAttrs:[1,"p-element"],inputs:{value:"value",style:"style",styleClass:"styleClass",selectionMode:"selectionMode",preserveSpace:"preserveSpace",selection:"selection"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse"},decls:2,vars:8,consts:[[3,"ngStyle","ngClass"],["class","p-organizationchart-table","pOrganizationChartNode","",3,"node",4,"ngIf"],["pOrganizationChartNode","",1,"p-organizationchart-table",3,"node"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Le,1,1,"table",1),e.qZA()),2&i&&(e.Tol(o.styleClass),e.Q6J("ngStyle",o.style)("ngClass",e.VKq(6,Pe,o.preserveSpace)),e.uIk("data-pc-section","root"),e.xp6(1),e.Q6J("ngIf",o.root))},dependencies:[a.mk,a.O5,a.PC,Ye],encapsulation:2})}return n})(),je=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[a.ez,J.v,R.g,O.m8,O.m8]})}return n})();function qe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",6),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.displayedData(s.number))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=c.$implicit,i=e.oxw();e.Gre("hir-filter mr-1 pointer py-1 px-1 ",i.selectedHirFilter==t.number?"primary active":"",""),e.xp6(1),e.Oqu(e.lcZ(2,4,t.name))}}function Re(n,c){if(1&n&&(e.TgZ(0,"div",20),e._UZ(1,"app-img-title",21),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("imgSrc",t.imageUrl)("imgSize",40)}}function Be(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ( ",t.code," )")}}function $e(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"i",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.getData(o.id))}),e.qZA()}}function Ke(n,c){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,Re,2,2,"div",14),e.TgZ(2,"div",15)(3,"h3",16),e._uU(4),e.qZA(),e.TgZ(5,"p",17),e._uU(6),e.qZA(),e.YNc(7,Be,2,1,"p",18),e.YNc(8,$e,1,0,"i",19),e.qZA()()),2&n){const t=c.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.userMode),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.jobTitle," "),e.xp6(1),e.Q6J("ngIf",i.userMode&&t.code),e.xp6(1),e.Q6J("ngIf",!t.loaded&&t.subCount>0)}}function Ge(n,c){if(1&n&&(e.TgZ(0,"div",9)(1,"div",10)(2,"p-organizationChart",11),e.YNc(3,Ke,9,5,"ng-template",12),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("value",t.userChartData)}}function Xe(n,c){1&n&&e.GkF(0)}const G=function(n){return{$implicit:n}};function Ve(n,c){if(1&n&&(e.ynx(0),e.YNc(1,Xe,1,0,"ng-container",26),e.BQk()),2&n){const t=c.$implicit;e.oxw();const i=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,G,t))}}const We=function(n,c){return{"bx-minus-circle":n,"bx-plus-circle":c}};function et(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"span",32),e._uU(2),e.qZA(),e.TgZ(3,"i",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.toggleNode(o))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij("( ",t.subCount," )"),e.xp6(1),e.Q6J("ngClass",e.WLB(2,We,t.isOpen,!t.isOpen))}}function tt(n,c){1&n&&e.GkF(0)}function nt(n,c){if(1&n&&(e.ynx(0),e.YNc(1,tt,1,0,"ng-container",26),e.BQk()),2&n){const t=c.$implicit;e.oxw(3);const i=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,G,t))}}function it(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,nt,2,4,"ng-container",24),e.qZA()),2&n){const t=e.oxw().$implicit;e.Gre("children ml-5 pl-2 level-",t.level,""),e.xp6(1),e.Q6J("ngForOf",t.children)}}function at(n,c){if(1&n&&(e.TgZ(0,"div")(1,"div",27),e._UZ(2,"app-img-title",28),e.qZA(),e.YNc(3,et,4,5,"div",29),e.qZA(),e.YNc(4,it,2,4,"div",30)),2&n){const t=c.$implicit,i=e.oxw(2);e.Gre("flex aic jcsb px-75 py-75 level-",t.level," shadow rounded vertical-chart-item mb-1"),e.xp6(2),e.Q6J("imgSrc",t.imageUrl)("noImage",!i.userMode)("imgSize",35)("title",t.name+(t.code?" ( "+t.code+" )":""))("subTitle",(t.jobTitle||"-")+(t.departmentName?" ( "+t.departmentName+" )":"")),e.xp6(1),e.Q6J("ngIf",t.subCount>0),e.xp6(1),e.Q6J("ngIf",t.isOpen&&t.children&&t.children.length>0)}}function ot(n,c){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,Ve,2,4,"ng-container",24),e.YNc(2,at,5,10,"ng-template",null,25,e.W1O),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.userChartData)}}const st=[{path:"",component:T,title:"Taskedin - Company",children:[{path:"profile",component:ae},{path:"departments",component:me},{path:"hierarchy",component:he.HierarchyComponent},{path:"user-hierarchy",component:(()=>{class n{toggleNode(t){t.isOpen=!t.isOpen,t.isOpen&&!t.loaded&&this.getData(t.id)}constructor(t,i){this.service=t,this.translate=i,this.selectedHirFilter=1,this.userMode=!0,this.placeMode=!1,this.departmentMode=!1,this.language=localStorage.getItem("language")||"en",this.userChartData=[],this.vertical=!0,this.typeFilterList=[{number:1,name:"users"},{number:2,name:"departments"},{number:3,name:"places"},{number:4,name:"job_title"},{number:5,name:"levels"}],this.loadInitialData()}ngOnInit(){}changeView(){this.vertical=!this.vertical,setTimeout(()=>{const t=document.getElementById("h-chart-content"),i=document.querySelector(".p-organizationchart-table");t&&i&&t.scrollTo({left:i.offsetWidth/2-t.offsetWidth/2,behavior:"smooth"})},0)}loadInitialData(){const t=new f.LE;this.service.getUserHierarchy(t).subscribe(i=>{this.userChartData=i.map(o=>this.convertToUnifiedData(o)),i.length>0&&this.getData(i[0]?.manager?.id)})}loadDepartmentData(){const t=new f.LE;this.service.getDepartmentHierarchy(t).subscribe(i=>{const o=i.items?i.items.map(s=>this.convertToUnifiedData(s)):[];this.userChartData=[{name:this.translate.instant("company"),jobTitle:"-",subCount:i.items.length,children:o,expanded:!0,level:1,loaded:!1}]})}loadJobTitleData(){const t=new f.LE;this.service.getJobTitleHierarchy(t).subscribe(i=>{const o=i?i.map(s=>this.convertToUnifiedData(s)):[];this.userChartData=[{name:this.translate.instant("company"),jobTitle:"-",subCount:i.length,children:o,expanded:!0,level:1,loaded:!1}]})}loadPlaceData(){const t=new f.LE;this.service.getPlacesHierarchy(t).subscribe(i=>{const o=i?i.map(s=>this.convertToUnifiedData(s)):[];this.userChartData=[{name:this.translate.instant("company"),jobTitle:"-",subCount:i.length,children:o,expanded:!0,level:1,loaded:!1}]})}loadLevelData(){const t=new f.LE;this.service.getLevelsHierarchy(t).subscribe(i=>{const o=i?i.map(s=>this.convertToUnifiedData(s)):[];this.userChartData=[{name:this.translate.instant("company"),jobTitle:"-",subCount:i.length,children:o,expanded:!0,level:1,loaded:!1}]})}displayedData(t){this.userChartData=[],this.userMode=!1,this.departmentMode=!1,this.placeMode=!1,this.selectedHirFilter=t,setTimeout(()=>{1===t?(this.userMode=!0,this.loadInitialData()):2===t?(this.departmentMode=!0,this.loadDepartmentData()):3===t?(this.placeMode=!0,this.loadPlaceData()):4===t?(this.jobTitleMode=!0,this.loadJobTitleData()):5===t&&(this.levelsMode=!0,this.loadLevelData())},0)}getData(t){if(null==t)return;let i=new f.LE;this.userMode?(i=i.set("managerId",t),this.service.getUserHierarchy(i).subscribe(o=>{const s=this.findNodeById(this.userChartData,t);s&&(s.loaded=!0,s.children=[...s.children,...o.map(d=>({...this.convertToUnifiedData(d),level:(s.level||1)+1,expanded:!0,loaded:!1}))],this.userChartData=[...this.userChartData])})):this.departmentMode?(i=i.set("Department",t),this.service.getDepartmentHierarchy(i).subscribe(o=>{const s=this.findNodeById(this.userChartData,t);s&&(s.loaded=!0,s.children=[...s.children,...o.items.map(d=>({...this.convertToUnifiedData(d),level:(s.level||1)+1,expanded:!0,loaded:!1}))],this.userChartData=[...this.userChartData])})):this.placeMode?(i=i.set("ParentId",t),this.service.getPlacesHierarchy(i).subscribe(o=>{const s=this.findNodeById(this.userChartData,t);s&&(s.loaded=!0,s.children=[...s.children,...o.map(d=>({...this.convertToUnifiedData(d),level:(s.level||1)+1,expanded:!0,loaded:!1}))],this.userChartData=[...this.userChartData])})):this.jobTitleMode?(i=i.set("ParentId",t),this.service.getJobTitleHierarchy(i).subscribe(o=>{const s=this.findNodeById(this.userChartData,t);s&&(s.loaded=!0,s.children=[...s.children,...o.map(d=>({...this.convertToUnifiedData(d),level:(s.level||1)+1,expanded:!0,loaded:!1}))],this.userChartData=[...this.userChartData])})):this.levelsMode&&(i=i.set("ParentId",t),this.service.getLevelsHierarchy(i).subscribe(o=>{const s=this.findNodeById(this.userChartData,t);s&&(s.loaded=!0,s.children=[...s.children,...o.map(d=>({...this.convertToUnifiedData(d),level:(s.level||1)+1,expanded:!0,loaded:!1}))],this.userChartData=[...this.userChartData])}))}findNodeById(t,i){for(let o of t){if(o.id===i)return o;if(o.children&&o.children.length>0){const s=this.findNodeById(o.children,i);if(s)return s}}return null}convertToUnifiedData(t){return this.departmentMode?{id:t.id,name:t.name,jobTitle:t.managerJobTitle,subCount:t.subCount,children:[],expanded:!0,level:1,loaded:!1}:this.placeMode?{name:"ar"===this.language?t.nameAr:t.nameEn,jobTitle:t.managerName+(t.managerJobTitle?" ( "+t.managerJobTitle+" ) ":""),id:t.id,subCount:t.subsCount,children:[],expanded:!0,level:1,loaded:!1}:this.levelsMode?{name:"ar"===this.language?t.nameAr:t.nameEn,jobTitle:t.managerName+(t.managerJobTitle?" ( "+t.managerJobTitle+" ) ":"-"),id:t.id,subCount:t.subsCount,children:[],expanded:!0,level:1,loaded:!1}:this.userMode?{id:t.manager?.id,name:t.manager?.name,jobTitle:t.manager?.jobTitle,imageUrl:t.manager?.imageUrl,subCount:t.userCount,code:t.manager.code,departmentName:t.manager.departmentName,children:[],expanded:!0,level:1,loaded:!1}:this.jobTitleMode?{id:t?.id,name:"ar"===this.language?t.nameAr:t.nameEn,jobTitle:t?.description,subCount:t?.subCount,children:[],expanded:!0,level:1,loaded:!1}:{}}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(ye._),e.Y36(D.sK))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["user-hierarchy"]],decls:11,vars:9,consts:[[1,"rounded","shadow","bg-white","pt-50","relative"],[1,"mx-50","mb-1","simibold","bg-light-danger","p-1","rounded"],[1,"mb-1","filters","text-right","border-bottom"],[1,"flex","aic","jcsb"],[1,"date","flex","aic"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["class","flex aic jcc",4,"ngIf"],["class","vertical-chart w-100 pl-4",4,"ngIf"],[1,"flex","aic","jcc"],["id","h-chart-content",1,"card","overflow-auto","content-chart"],[3,"value"],["pTemplate","default"],[1,"rounded-4","px-50","py-2","mb-50","hier-card","mx-25","h-100"],["class","img mb-50 flex aic jcc",4,"ngIf"],[1,"text-center","relative"],[1,"simibold","primary",2,"line-height","1.3"],[1,""],[4,"ngIf"],["class","bx bx-plus-circle fs-16 mt-1 add-users-btn pointer",3,"click",4,"ngIf"],[1,"img","mb-50","flex","aic","jcc"],[3,"imgSrc","imgSize"],[1,"bx","bx-plus-circle","fs-16","mt-1","add-users-btn","pointer",3,"click"],[1,"vertical-chart","w-100","pl-4"],[4,"ngFor","ngForOf"],["renderNode",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex"],[3,"imgSrc","noImage","imgSize","title","subTitle"],["class","flex aic",4,"ngIf"],[3,"class",4,"ngIf"],[1,"flex","aic"],[1,"pr-50","fs-14"],[1,"bx","pointer",3,"ngClass","click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4),e.YNc(7,qe,3,6,"a",5),e.qZA()()(),e.TgZ(8,"i",6),e.NdJ("click",function(){return o.changeView()}),e.qZA(),e.YNc(9,Ge,4,1,"div",7),e.YNc(10,ot,4,1,"div",8),e.qZA()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,7,"beta")),e.xp6(5),e.Q6J("ngForOf",o.typeFilterList),e.xp6(1),e.Gre("bx ",o.vertical?"bx-grid":"bx-list-ul"," change-view-btn pointer rounded-50 flex aic jcc"),e.xp6(1),e.Q6J("ngIf",!o.vertical),e.xp6(1),e.Q6J("ngIf",o.vertical))},dependencies:[a.mk,a.sg,a.O5,a.tP,j.G,K,O.jx,D.X$],styles:['.hier-card{width:130px;position:relative}.hier-card:after{position:absolute;margin-inline:auto;content:"";height:30px;width:0px;border-left:2px dashed #7B58CA;top:-16px}.overflow-auto{overflow:auto}.content-chart{display:inline-block;margin:auto;max-width:calc(100vw - 29rem);height:calc(100vh - 22rem)}.vertical-chart{height:calc(100vh - 22rem);overflow:auto}.p-organizationchart .p-organizationchart-node-content{background-color:transparent;border:none}td{border-inline:none}.p-organizationchart-line-down{display:none}.p-node-toggler{left:auto;right:auto;inset-inline-start:44.5%;bottom:0}.p-organizationchart-line-top{border-top:3px solid #7B58CA}.content-chart .p-accordion .p-accordion-header-link{background:transparent;border-color:transparent;color:#212529;border-end-end-radius:0;border-end-start-radius:0}.vertical-chart .vertical-chart-item{width:390px;position:relative;border:1px dashed}.vertical-chart .vertical-chart-item:after{content:"";height:0;width:9rem;position:absolute;border-top:1px dashed;inset-inline-start:-9rem}.vertical-chart .children{position:relative}.vertical-chart .children:after{content:"";position:absolute;height:calc(100% + 9px);width:0px;top:-35px;border-inline-start:1px solid;inset-inline-start:-7rem}.change-view-btn{position:absolute;top:57px;inset-inline-end:15px;height:30px;width:30px;background:rgb(123,88,202);color:#fff;z-index:999}.level-1,.level-1:after{border-color:#ed5455!important}.btn-level-1{color:#ed5455}.level-2,.level-2:after{border-color:#ed5455!important}.btn-level-2{color:#ed5455}.level-3,.level-3:after{border-color:#49a059!important}.btn-level-3{color:#49a059}.level-4,.level-4:after{border-color:#0076f4!important}.btn-level-4{color:#0076f4}.level-5,.level-5:after{border-color:#ed5455!important}.btn-level-5{color:#ed5455}.level-6,.level-6:after{border-color:#65c7c3!important}.btn-level-6{color:#65c7c3}.level-7,.level-7:after{border-color:#49a059!important}.btn-level-7{color:#49a059}.level-8,.level-8:after{border-color:#65c7c3!important}.btn-level-8{color:#65c7c3}.level-9,.level-9:after{border-color:#7b58ca!important}.btn-level-9{color:#7b58ca}.level-10,.level-10:after{border-color:#3b61a1!important}.btn-level-10{color:#3b61a1}.level-11,.level-11:after{border-color:#65c7c3!important}.btn-level-11{color:#65c7c3}.level-12,.level-12:after{border-color:#0076f4!important}.btn-level-12{color:#0076f4}.level-13,.level-13:after{border-color:#7b58ca!important}.btn-level-13{color:#7b58ca}.level-14,.level-14:after{border-color:#3b61a1!important}.btn-level-14{color:#3b61a1}.level-15,.level-15:after{border-color:#0076f4!important}.btn-level-15{color:#0076f4}.level-16,.level-16:after{border-color:#0076f4!important}.btn-level-16{color:#0076f4}.level-17,.level-17:after{border-color:#ed5455!important}.btn-level-17{color:#ed5455}.level-18,.level-18:after{border-color:#0076f4!important}.btn-level-18{color:#0076f4}.level-19,.level-19:after{border-color:#7b58ca!important}.btn-level-19{color:#7b58ca}.level-20,.level-20:after{border-color:#7b58ca!important}.btn-level-20{color:#7b58ca}.hir-filter{border-bottom:3px solid #fff}.hir-filter.active{border-color:#7b55d3!important}\n'],encapsulation:2})}}return n})()},{path:"requests",component:Ce},{path:"all-users",loadComponent:()=>Promise.all([r.e(6472),r.e(1486),r.e(5248),r.e(2158)]).then(r.bind(r,82158)).then(n=>n.AllUsersComponent)},{path:"leaves-settings",loadComponent:()=>Promise.all([r.e(4104),r.e(1749),r.e(558)]).then(r.bind(r,10558)).then(n=>n.LeavesSettingsComponent)},{path:"space-configuration",loadComponent:()=>r.e(5173).then(r.bind(r,35173)).then(n=>n.ConfigurationComponent)},{path:"",redirectTo:"profile",pathMatch:"full"}]}];let ct=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.oAB({type:n})}static{this.\u0275inj=e.cJS({imports:[v.Bz.forChild(st),v.Bz]})}}return n})();var lt=r(44562);let _t=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[a.ez,lt.X,J.v,O.m8]})}return n})(),bt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.oAB({type:n})}static{this.\u0275inj=e.cJS({imports:[a.ez,ct,_.S,b.z,D.aw,j.G,je,u.$,_t]})}}return n})()},35837:(E,C,r)=>{r.d(C,{g:()=>e});var a=r(65879),v=r(84713);let e=(()=>{class h extends v.s{static \u0275fac=function(){let b;return function(g){return(b||(b=a.n5z(h)))(g||h)}}();static \u0275cmp=a.Xpm({type:h,selectors:[["ChevronUpIcon"]],standalone:!0,features:[a.qOj,a.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(T,g){1&T&&(a.O4$(),a.TgZ(0,"svg",0),a._UZ(1,"path",1),a.qZA()),2&T&&(a.Tol(g.getClassNames()),a.uIk("aria-label",g.ariaLabel)("aria-hidden",g.ariaHidden)("role",g.role))},encapsulation:2})}return h})()}}]);