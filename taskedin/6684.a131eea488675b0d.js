"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[6684],{86684:(me,g,l)=>{l.r(g),l.d(g,{Calendar2Component:()=>ge});var _=l(96814),h=l(55006),M=l(1428),T=l(824),v=l(89515),C=l(2495),p=l(92596),f=l(16111),x=l(95932),E=l(73023),P=l(51086),y=l(12201),m=l(75986),d=l(56223),O=l(95195),D=l(38034),A=l(23680),Z=l(32296),U=l(54807),K=l(6311),u=l(7314),I=l(6223),J=l(48474),k=l(55786),R=l(24234),L=l(30860),W=l(10480),B=l(86817),b=l(58697),Q=l(63243),N=l(52868),S=l(73847),V=l(22931),G=l(50802),Y=l(27584),H=l(65668),e=l(65879),w=l(34241),j=l(17700),F=l(98771),$=l(9174),z=l(84193),X=l(64190);const q=["calendar"];function ee(s,i){1&s&&e._UZ(0,"loading")}function te(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",19)(1,"div")(2,"div",20)(3,"select-user",21),e.NdJ("getSelectedUsers",function(n){e.CHM(t);const a=e.oxw();return a.service.taskCreator.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()(),e.TgZ(4,"div",22)(5,"div",20)(6,"task-type",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskType.next(n),e.KtG(a.getMyCalendar())}),e.qZA()(),e.TgZ(7,"div",20)(8,"task-status",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskStatus.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()(),e.TgZ(9,"div",22)(10,"div",20)(11,"is-overdue",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskOverdue.next(n),e.KtG(a.getMyCalendar())}),e.qZA()(),e.TgZ(12,"div",20)(13,"projects",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskProject.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("multi",!1)("selectedUsers",t.service.taskCreator.value),e.xp6(3),e.Q6J("selectedValue",t.service.taskType.value),e.xp6(2),e.Q6J("selectedValue",t.service.taskStatus.value),e.xp6(3),e.Q6J("selectedValue",t.service.taskOverdue.value),e.xp6(2),e.Q6J("selectedValue",t.service.taskProject.value)}}function ne(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",24)(1,"div")(2,"div",20)(3,"select-user",21),e.NdJ("getSelectedUsers",function(n){e.CHM(t);const a=e.oxw();return a.service.taskCreator.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()(),e.TgZ(4,"div",22)(5,"div",20)(6,"task-type",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskType.next(n),e.KtG(a.getMyCalendar())}),e.qZA()(),e.TgZ(7,"div",20)(8,"task-status",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskStatus.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()(),e.TgZ(9,"div",22)(10,"div",20)(11,"priority-filter",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskPriority.next(n),e.KtG(a.getMyCalendar())}),e.qZA()(),e.TgZ(12,"div",20)(13,"is-rated",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskRate.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()(),e.TgZ(14,"div",22)(15,"div",20)(16,"is-overdue",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskOverdue.next(n),e.KtG(a.getMyCalendar())}),e.qZA()(),e.TgZ(17,"div",20)(18,"projects",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.taskProject.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("multi",!1)("selectedUsers",t.service.taskCreator.value),e.xp6(3),e.Q6J("selectedValue",t.service.taskType.value),e.xp6(2),e.Q6J("selectedValue",t.service.taskStatus.value),e.xp6(3),e.Q6J("selectedValue",t.service.taskPriority.value),e.xp6(2),e.Q6J("selectedValue",t.service.taskRate.value),e.xp6(3),e.Q6J("selectedValue",t.service.taskOverdue.value),e.xp6(2),e.Q6J("selectedValue",t.service.taskProject.value)}}function ae(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",25)(1,"div")(2,"div",20)(3,"select-user",21),e.NdJ("getSelectedUsers",function(n){e.CHM(t);const a=e.oxw();return a.service.voteCreators.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()(),e.TgZ(4,"div",22)(5,"div",20)(6,"vote-status",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.voteStates.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("multi",!1)("selectedUsers",t.service.voteCreators.value),e.xp6(3),e.Q6J("selectedValue",t.service.voteStates.value)}}function le(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"div",26)(1,"div")(2,"div",27)(3,"leave-status",23),e.NdJ("valueChanged",function(n){e.CHM(t);const a=e.oxw();return a.service.leaveStatus.next(n),e.KtG(a.getMyCalendar())}),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(3),e.Q6J("selectedValue",t.service.leaveStatus.value)}}function se(s,i){1&s&&e._UZ(0,"img",36)}function oe(s,i){1&s&&e._UZ(0,"img",37)}function re(s,i){1&s&&e._UZ(0,"img",38)}function ie(s,i){1&s&&e._UZ(0,"img",39)}function _e(s,i){1&s&&e._UZ(0,"img",40)}const de=function(s,i,t,o,n){return{"bg-primary":s,"bg-meeting":i,"bg-vote":t,"bg-leave":o,"bg-holiday":n}};function ce(s,i){if(1&s&&(e.TgZ(0,"div",28)(1,"div",5)(2,"div",29),e.YNc(3,se,1,0,"img",30),e.YNc(4,oe,1,0,"img",31),e.YNc(5,re,1,0,"img",32),e.YNc(6,ie,1,0,"img",33),e.YNc(7,_e,1,0,"img",34),e.qZA(),e.TgZ(8,"p",35),e._uU(9),e.qZA()()()),2&s){const t=i.$implicit;e.Q6J("ngClass",e.qbA(8,de,1==(null==t.event?null:t.event.extendedProps.calenderType),5==(null==t.event?null:t.event.extendedProps.calenderType),2==(null==t.event?null:t.event.extendedProps.calenderType),3==(null==t.event?null:t.event.extendedProps.calenderType),4==(null==t.event?null:t.event.extendedProps.calenderType)))("matTooltip",t.event.title),e.xp6(3),e.Q6J("ngIf",1==(null==t.event?null:t.event.extendedProps.calenderType)),e.xp6(1),e.Q6J("ngIf",2==(null==t.event?null:t.event.extendedProps.calenderType)),e.xp6(1),e.Q6J("ngIf",3==(null==t.event?null:t.event.extendedProps.calenderType)),e.xp6(1),e.Q6J("ngIf",4==(null==t.event?null:t.event.extendedProps.calenderType)),e.xp6(1),e.Q6J("ngIf",5==(null==t.event?null:t.event.extendedProps.calenderType)),e.xp6(2),e.Oqu(t.event.title)}}const c=function(s){return{"bx-rotate-180":s}};let ge=(()=>{class s{constructor(t,o,n,a,r,ve,Ce){this.changeDetector=t,this.service=o,this.dialog=n,this.detailsSer=a,this.voteSer=r,this.leaveSer=ve,this.router=Ce,this.dir=document.dir,this.inbox=[],this.tasksToggle=!0,this.meetingsToggle=!1,this.votesToggle=!1,this.holidaysToggle=!1,this.leavesToggle=!1,this.teamMembers$=this.service.getTeamMembers(),this.selectedUser=null,this.calendarOptions={plugins:[f.ZP,x.Z,E.Z,P.Z],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},..."rtl"==this.dir&&{locale:y.Z},initialView:"dayGridMonth",weekends:!0,selectMirror:!0,dayMaxEvents:!0,eventClick:this.handleEventClick.bind(this),datesSet:pe=>this.handleMonthChange(pe)},this.currentEvents=[],this.filterType=1}changeFilterType(t){this.filterType=this.filterType==t?0:t}getMyCalendar(){this.loading=!0,this.service.getMyCalendar().subscribe(t=>{this.loading=!1})}handleMonthChange(t){const o=t.view.currentStart.getMonth(),n=t.view.currentStart.getFullYear();this.service.startDate.next(new Date(n,o,1)),this.service.lastDayOfMonth.next(new Date(n,o+1,0)),this.events=[],this.getMyCalendar()}ngOnInit(){this.service.myCalendar.subscribe(t=>{this.events=t})}userChanged(){this.service.id.next(this.selectedUser||localStorage.getItem("id")),this.getMyCalendar()}handleEventClick(t){(1==t.event.extendedProps.calenderType||5==t.event.extendedProps.calenderType)&&this.getTask(t.event.extendedProps.myCalendarTaskId,t.event.extendedProps.calenderType),2==t.event.extendedProps.calenderType&&this.getVote(t.event.extendedProps.myCalendarTaskId),3==t.event.extendedProps.calenderType&&this.getLeave(t.event.extendedProps.myCalendarTaskId)}handleEvents(t){this.currentEvents=t,this.changeDetector.detectChanges()}getTask(t,o){this.detailsSer.id.next(t),this.dialog.open(k.N,{panelClass:"task-details-dialog",data:{type:o}}).afterClosed().subscribe(a=>{a?.value?this.router.navigate([`/tasks/inbox/details/${t}`]):this.detailsSer.details.next({})})}getVote(t){this.voteSer.id.next(t),this.dialog.open(R.d,{panelClass:"task-details-dialog"}).afterClosed().subscribe(n=>{n?.value?this.router.navigate([`/votes/inbox/${t}`]):this.detailsSer.details.next({})})}getLeave(t){this.leaveSer.id.next(t),this.dialog.open(L.b,{panelClass:"task-details-dialog"}).afterClosed().subscribe(n=>{n?.value?this.router.navigate([`/hr/leave-dashboard/details/${t}`]):this.detailsSer.details.next({})})}createTask(){this.dialog.open(u.T,{disableClose:!0,panelClass:"create-task-dialog"})}createVote(){this.dialog.open(I._,{panelClass:"create-task-dialog"})}createMeeting(){this.dialog.open(u.T,{disableClose:!0,panelClass:"create-task-dialog",data:{isMeeting:!0}})}createLeave(){this.dialog.open(J.e,{panelClass:"create-task-dialog"})}static{this.\u0275fac=function(o){return new(o||s)(e.Y36(e.sBO),e.Y36(w.o),e.Y36(j.uw),e.Y36(F.i),e.Y36($.z),e.Y36(z.P),e.Y36(X.F0))}}static{this.\u0275cmp=e.Xpm({type:s,selectors:[["calendar"]],viewQuery:function(o,n){if(1&o&&e.Gf(q,7),2&o){let a;e.iGM(a=e.CRH())&&(n.calendar=a.first)}},standalone:!0,features:[e.jDz],decls:42,vars:37,consts:[[4,"ngIf"],[1,"p-2"],[1,"my-calendar"],[1,"flex","h-100","gap-x-3"],["magicScroll","",1,"sidebar","border","p-2"],[1,"flex","aic"],["color","primary",3,"ngModel","ngModelChange"],[1,"bx","bx-chevron-down","fs-30","pointer",3,"ngClass","click"],["class","task-filters bg-gray px-1 py-1",4,"ngIf"],["color","primary",1,"meeting",3,"ngModel","ngModelChange"],["class","meeting-filters bg-gray px-1 py-1",4,"ngIf"],["color","primary",1,"vote",3,"ngModel","ngModelChange"],["class","vote-filters bg-gray px-1 py-1",4,"ngIf"],["color","primary",1,"leave",3,"ngModel","ngModelChange"],["class","leaves-filters bg-gray px-1 py-1",4,"ngIf"],["color","primary",1,"holiday",3,"ngModel","ngModelChange"],[3,"options","events","deepChangeDetection"],["calendar",""],["eventContent",""],[1,"task-filters","bg-gray","px-1","py-1"],[1,"w-100"],["text","creator","classes","w-100",3,"multi","selectedUsers","getSelectedUsers"],[1,"mt-1"],["classes","w-100",3,"selectedValue","valueChanged"],[1,"meeting-filters","bg-gray","px-1","py-1"],[1,"vote-filters","bg-gray","px-1","py-1"],[1,"leaves-filters","bg-gray","px-1","py-1"],[1,"w-100","mt-1"],[1,"calendar-chip","rounded","px-75","flex","aic","white","pointer",3,"ngClass","matTooltip"],[1,"img"],["src","assets/images/main-sidebar/tasks.svg","width","17","alt","icon","class","convert-image-color",4,"ngIf"],["src","assets/images/main-sidebar/voting.svg","width","17","alt","icon","class","convert-image-color",4,"ngIf"],["src","assets/images/icons/leave.svg","width","17","alt","icon","class","convert-image-color",4,"ngIf"],["src","assets/images/icons/holiday.svg","width","17","alt","icon","class","convert-image-color",4,"ngIf"],["src","assets/images/main-sidebar/meeting.svg","width","17","alt","icon","class","convert-image-color",4,"ngIf"],[1,"ml-50"],["src","assets/images/main-sidebar/tasks.svg","width","17","alt","icon",1,"convert-image-color"],["src","assets/images/main-sidebar/voting.svg","width","17","alt","icon",1,"convert-image-color"],["src","assets/images/icons/leave.svg","width","17","alt","icon",1,"convert-image-color"],["src","assets/images/icons/holiday.svg","width","17","alt","icon",1,"convert-image-color"],["src","assets/images/main-sidebar/meeting.svg","width","17","alt","icon",1,"convert-image-color"]],template:function(o,n){1&o&&(e.YNc(0,ee,1,0,"loading",0),e._UZ(1,"user-navbar"),e.TgZ(2,"div",1)(3,"layout")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div")(8,"div",5)(9,"mat-checkbox",6),e.NdJ("ngModelChange",function(r){return n.tasksToggle=r})("ngModelChange",function(r){return n.service.tasksToggle.next(r),n.getMyCalendar()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"i",7),e.NdJ("click",function(){return n.changeFilterType(1)}),e.qZA()(),e.YNc(13,te,14,6,"div",8),e.qZA(),e.TgZ(14,"div")(15,"div",5)(16,"mat-checkbox",9),e.NdJ("ngModelChange",function(r){return n.meetingsToggle=r})("ngModelChange",function(r){return n.service.meetingsToggle.next(r),n.getMyCalendar()}),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e.YNc(19,ne,19,8,"div",10),e.qZA(),e.TgZ(20,"div")(21,"div",5)(22,"mat-checkbox",11),e.NdJ("ngModelChange",function(r){return n.votesToggle=r})("ngModelChange",function(r){return n.service.votesToggle.next(r),n.getMyCalendar()}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"i",7),e.NdJ("click",function(){return n.changeFilterType(3)}),e.qZA()(),e.YNc(26,ae,7,3,"div",12),e.qZA(),e.TgZ(27,"div")(28,"div",5)(29,"mat-checkbox",13),e.NdJ("ngModelChange",function(r){return n.leavesToggle=r})("ngModelChange",function(r){return n.service.leavesToggle.next(r),n.getMyCalendar()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"i",7),e.NdJ("click",function(){return n.changeFilterType(4)}),e.qZA()(),e.YNc(33,le,4,1,"div",14),e.qZA(),e.TgZ(34,"div")(35,"mat-checkbox",15),e.NdJ("ngModelChange",function(r){return n.holidaysToggle=r})("ngModelChange",function(r){return n.service.holidaysToggle.next(r),n.getMyCalendar()}),e._uU(36),e.ALo(37,"translate"),e.qZA()()(),e.TgZ(38,"full-calendar",16,17),e.YNc(40,ce,10,14,"ng-template",null,18,e.W1O),e.qZA()()()()()),2&o&&(e.Q6J("ngIf",n.loading),e.xp6(9),e.Q6J("ngModel",n.tasksToggle),e.xp6(1),e.Oqu(e.lcZ(11,21,"tasks")),e.xp6(2),e.Q6J("ngClass",e.VKq(31,c,1==n.filterType)),e.xp6(1),e.Q6J("ngIf",1==n.filterType),e.xp6(3),e.Q6J("ngModel",n.meetingsToggle),e.xp6(1),e.hij("",e.lcZ(18,23,"meetings")," "),e.xp6(2),e.Q6J("ngIf",2==n.filterType),e.xp6(3),e.Q6J("ngModel",n.votesToggle),e.xp6(1),e.Oqu(e.lcZ(24,25,"votes")),e.xp6(2),e.Q6J("ngClass",e.VKq(33,c,3==n.filterType)),e.xp6(1),e.Q6J("ngIf",3==n.filterType),e.xp6(3),e.Q6J("ngModel",n.leavesToggle),e.xp6(1),e.Oqu(e.lcZ(31,27,"leaves")),e.xp6(2),e.Q6J("ngClass",e.VKq(35,c,4==n.filterType)),e.xp6(1),e.Q6J("ngIf",4==n.filterType),e.xp6(2),e.Q6J("ngModel",n.holidaysToggle),e.xp6(1),e.hij("",e.lcZ(37,29,"holiday_of_egypt")," "),e.xp6(2),e.Q6J("options",n.calendarOptions)("events",n.events)("deepChangeDetection",!0))},dependencies:[_.ez,_.mk,_.O5,h.o,M.$,T.h,v.aw,v.X$,C.z,C.w,p.AV,p.gM,m.p9,m.oG,d.u5,d.JJ,d.On,O.QW,D.FA,A.XK,Z.ot,U.A0,K.Tx,W.V,B.U,b.h,V.X,Q.N,N.V,S.v,G.r,Y.x,H.N],styles:[".my-calendar[_ngcontent-%COMP%]{height:100%!important;padding:3rem}.my-calendar[_ngcontent-%COMP%]   full-calendar[_ngcontent-%COMP%]{height:100%;width:100%}.sidebar[_ngcontent-%COMP%]{width:420px}.sidebar[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{gap:0 .4rem!important}.sidebar[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{transform:translateY(-.2rem)}.select[_ngcontent-%COMP%]{max-width:310px}.sidebar-height[_ngcontent-%COMP%]{height:calc(100% - 5.5rem)}.wrap[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;white-space:pre-wrap}.bg-meeting[_ngcontent-%COMP%]{background-color:#f46850}.bg-vote[_ngcontent-%COMP%]{background-color:#29cc99}.bg-holiday[_ngcontent-%COMP%]{background-color:#557fde}.bg-leave[_ngcontent-%COMP%]{background-color:#8dc8c8}.calendar-chip[_ngcontent-%COMP%]   .convert-image-color[_ngcontent-%COMP%]{filter:brightness(0) invert(.9)!important}.plus-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}"]})}}return s})()}}]);