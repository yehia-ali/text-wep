"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[5712],{52619:(Z,u,a)=>{a.d(u,{C:()=>p});var e=a(96814),t=a(65879);function f(o,v){if(1&o){const l=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(l);const r=t.oxw();return t.KtG(r.switchLanguage("en"))}),t._UZ(1,"img",3),t.qZA()}}function h(o,v){if(1&o){const l=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(l);const r=t.oxw();return t.KtG(r.switchLanguage("ar"))}),t._UZ(1,"img",4),t.qZA()}}let p=(()=>{class o{constructor(){this.language=localStorage.getItem("language")||"en"}switchLanguage(l){localStorage.setItem("language",l),window.location.reload()}static{this.\u0275fac=function(g){return new(g||o)}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["language"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[1,"flags","pointer"],["class","img",3,"click",4,"ngIf"],[1,"img",3,"click"],["src","assets/images/flags/en.png","alt","","width","30"],["src","assets/images/flags/ar.png","alt","","width","30"]],template:function(g,r){1&g&&(t.TgZ(0,"div",0),t.YNc(1,f,2,0,"div",1),t.YNc(2,h,2,0,"div",1),t.qZA()),2&g&&(t.xp6(1),t.Q6J("ngIf","ar"==r.language),t.xp6(1),t.Q6J("ngIf","en"==r.language))},dependencies:[e.ez,e.O5],encapsulation:2})}}return o})()},55712:(Z,u,a)=>{a.r(u),a.d(u,{WelcomeComponent:()=>E});var e=a(65879),t=a(96814),f=a(52619),h=a(32296),p=a(89515),o=a(83318),v=a(17700),l=a(64190);let g=(()=>{class n{constructor(){this.dialog=(0,e.f3M)(v.uw),this.router=(0,e.f3M)(l.F0)}logout(){this.dialog.open(o.v,{panelClass:"small-dialog",data:{message:"logout_message",btn_name:"logout",classes:"bg-primary white"}}).afterClosed().subscribe(c=>{if(c){let i=localStorage.getItem("language")||"en";localStorage.clear(),localStorage.setItem("language",i),this.router.navigate(["/auth/login"])}})}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["welcome-navbar"]],standalone:!0,features:[e.jDz],decls:7,vars:0,consts:[[1,"user-navbar","rounded-5","w-100","bg-white","border","flex","aic","jcsb","p-2"],[1,"img"],["src","assets/images/logo/logo.svg","alt","logo icon"],[1,"flex","aic","gap-x-2"],[1,"img","right",3,"click"],["src","assets/images/icons/welcome-logout.svg","alt","logout icon",1,"convert-image-color"]],template:function(c,i){1&c&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"language"),e.TgZ(5,"div",4),e.NdJ("click",function(){return i.logout()}),e._UZ(6,"img",5),e.qZA()()())},dependencies:[t.ez,f.C,h.ot,p.aw],encapsulation:2})}}return n})();var r=a(1428),x=a(17857),C=a(63934),T=a(57368),b=a(68012),I=a(99397),S=a(45843),A=a(824),_=a(30833),U=a(95509),w=a(45048),M=a(99758),y=a(17476),L=a(65668),N=a(98052);function O(n,d){1&n&&(e.TgZ(0,"div",11),e._UZ(1,"loading"),e.qZA())}function W(n,d){1&n&&(e.TgZ(0,"div",12)(1,"h1"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"time-card"),e.TgZ(5,"div",13),e._UZ(6,"img",14),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"welcome_back")))}function j(n,d){1&n&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"active")))}function J(n,d){1&n&&(e.TgZ(0,"div",23),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"inactive")))}function F(n,d){if(1&n){const s=e.EpF();e.TgZ(0,"div",16)(1,"div",17),e.NdJ("click",function(){e.CHM(s);const i=e.oxw().$implicit,m=e.oxw();return e.KtG(m.handelSpace(i))}),e.TgZ(2,"div",18),e._UZ(3,"user-image",19),e.TgZ(4,"p"),e._uU(5),e.qZA()(),e.YNc(6,j,3,3,"div",20),e.YNc(7,J,3,3,"div",21),e.qZA()()}if(2&n){const s=e.oxw().$implicit;e.xp6(3),e.Q6J("img",s.spaceLogo),e.xp6(2),e.Oqu(s.spaceName),e.xp6(1),e.Q6J("ngIf",s.spaceIsActive),e.xp6(1),e.Q6J("ngIf",!s.spaceIsActive)}}function Q(n,d){if(1&n&&(e.ynx(0),e.YNc(1,F,8,4,"div",15),e.BQk()),2&n){const s=d.$implicit;e.xp6(1),e.Q6J("ngIf","90817"!=s.spaceId)}}let E=(()=>{class n{constructor(s){this.iscur=s,this.service=(0,e.f3M)(x.s),this.userSer=(0,e.f3M)(C.K),this.rolesSer=(0,e.f3M)(y.f),this.subscriptionSer=(0,e.f3M)(_.F),this.dialog=(0,e.f3M)(v.uw),this.alert=(0,e.f3M)(M.c),this.loading=!1}ngOnInit(){console.log(),this.iscur.getMySpaces().subscribe(s=>{console.log(s)}),this.loading=!0,this.spaces$=this.service.getSpaces().pipe((0,I.b)(s=>{this.currentSpace=s.find(c=>!0===c.isCurrent),this.currentSpace&&!this.currentSpace.isCurrent?this.handelSpace(this.currentSpace):this.loading=!1}))}handelSpace(s){localStorage.setItem("space-id",s.spaceId),localStorage.setItem("base-url",s.baseUrl),localStorage.setItem("chat-id",s.chatId),this.service.switchSpace(s.spaceId).subscribe(c=>{c.success?this.userSer.getMyProfile(s.spaceId,s.baseUrl).subscribe(i=>{i.success&&(window.location.href="/")}):9954==c.code&&this.rolesSer.getRoles().subscribe(i=>{i.success&&(this.rolesSer.canAccessAdmin.value?this.subscriptionSer.getUnpaidOrders().subscribe(m=>{0==m.length?this.dialog.open(U.k,{panelClass:"manage-subscription-dialog",data:{changePackage:!0}}):this.dialog.open(w.T,{panelClass:"order-details-dialog",data:{order:m[0].id,welcome:!0}})}):this.alert.showAlert("contact_admin","bg-danger",5e3))})})}createSpace(){}joinSpace(){this.dialog.open(T.p,{panelClass:"small-dialog"})}static{this.\u0275fac=function(c){return new(c||n)(e.Y36(N.Q))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["welcome"]],standalone:!0,features:[e.jDz],decls:18,vars:11,consts:[[1,"welcome","p-2","h-100"],[1,"content","mt-1","h-100"],["class","flex aic jcc h-100",4,"ngIf"],["class","welcome-message flex aic jcsb white",4,"ngIf"],["magicScroll","",1,"spaces","p-2"],[1,"mb-1"],[1,"flex-grid","gap-y-2"],[4,"ngFor","ngForOf"],[1,"flex","aic","gap-x-1","mt-2","p-2"],[1,"clickable-btn","bg-primary","fs-20","link","active","py-1","px-2","white","rounded-3","flex-center","gap-x-1",3,"click"],["alt","","ngSrc","assets/images/icons/join.svg","height","25","width","25",1,"convert-image-color"],[1,"flex","aic","jcc","h-100"],[1,"welcome-message","flex","aic","jcsb","white"],[1,"img"],["src","assets/images/icons/welcome.svg","alt","welcome icon"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-4"],[1,"space-card","bg-gray","rounded","p-2","flex","aic","jcsb","pointer",3,"click"],[1,"start","flex","aic","gap-x-1"],[3,"img"],["class","end chip bg-light-success rounded-5",4,"ngIf"],["class","end chip bg-light-danger rounded-5",4,"ngIf"],[1,"end","chip","bg-light-success","rounded-5"],[1,"end","chip","bg-light-danger","rounded-5"]],template:function(c,i){1&c&&(e.TgZ(0,"div",0),e._UZ(1,"welcome-navbar"),e.TgZ(2,"div",1)(3,"layout"),e.YNc(4,O,2,0,"div",2),e.YNc(5,W,7,3,"div",3),e.TgZ(6,"div",4)(7,"h3",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",6),e.YNc(11,Q,2,1,"ng-container",7),e.ALo(12,"async"),e.qZA()(),e.TgZ(13,"div",8)(14,"button",9),e.NdJ("click",function(){return i.joinSpace()}),e._UZ(15,"img",10),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()()),2&c&&(e.xp6(4),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading),e.xp6(3),e.Oqu(e.lcZ(9,5,"select_space")),e.xp6(3),e.Q6J("ngForOf",e.lcZ(12,7,i.spaces$)),e.xp6(5),e.hij(" ",e.lcZ(17,9,"join_space")," "))},dependencies:[t.ez,t.sg,t.O5,t.Ov,g,r.$,t.Zd,p.aw,p.X$,b.c,S.l,A.h,L.N],styles:[".welcome-message[_ngcontent-%COMP%]{background:linear-gradient(91deg,#7B55D3 -.29%,rgba(123,85,211,.8) 36.72%,rgba(123,85,211,.7) 59.83%,rgba(123,85,211,.65) 100%);height:120px;padding-inline:20px}.spaces[_ngcontent-%COMP%]{height:calc(100% - 250px)}"]})}}return n})()}}]);