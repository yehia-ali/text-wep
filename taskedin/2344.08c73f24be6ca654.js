"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[2344,1428,6526],{1428:(v,d,n)=>{n.d(d,{$:()=>p});var a=n(65879),f=n(96814),g=n(3131);const i=function(l){return{"max-width":l}},m=["*"];let p=(()=>{class l{constructor(){this.scroll=!1,this.service=(0,a.f3M)(g.P)}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275cmp=a.Xpm({type:l,selectors:[["layout"]],inputs:{scroll:"scroll"},standalone:!0,features:[a.jDz],ngContentSelectors:m,decls:2,vars:6,consts:[[3,"ngStyle"]],template:function(c,u){1&c&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA()),2&c&&(a.Gre("",u.scroll?"scroll":""," layout rounded bg-white border"),a.Q6J("ngStyle",a.VKq(4,i,u.service.withSubMenu.value?"100vw":"calc(100vw - 92px)")))},dependencies:[f.ez,f.PC],styles:[".layout[_ngcontent-%COMP%]{overflow:hidden;height:calc(100vh - 11rem);box-shadow:0 1px 38px #0000001a,0 2px 4px -1px #0000000f}.scroll[_ngcontent-%COMP%]{overflow-y:auto!important}"]})}}return l})()},3131:(v,d,n)=>{n.d(d,{P:()=>g});var a=n(65619),f=n(65879);let g=(()=>{class i{constructor(){this.withSubMenu=new a.X(!0)}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()},52344:(v,d,n)=>{n.r(d),n.d(d,{DraftComponent:()=>L});var a=n(96814),f=n(1428),g=n(824),i=n(39326),m=n(92596),p=n(57105),l=n(65668),P=n(83318),D=n(7314),c=n(76472),u=n(89515),t=n(65879),C=n(94071),O=n(17700),M=n(99758);function T(o,_){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e?null:e.title)}}function x(o,_){if(1&o&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("matTooltip",e.title),t.xp6(1),t.hij("",t.Dn7(2,2,null==e?null:e.title,0,70),"...")}}function I(o,_){if(1&o){const e=t.EpF();t.TgZ(0,"tr",8),t.NdJ("click",function(){const E=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.createTask(E))}),t.TgZ(1,"td",9)(2,"div",10),t._UZ(3,"priority",11),t.YNc(4,T,2,1,"span",2),t.YNc(5,x,3,6,"span",12),t.qZA()(),t.TgZ(6,"td")(7,"div",13)(8,"i",14),t.NdJ("click",function(r){const h=t.CHM(e).$implicit,B=t.oxw(2);return r.stopImmediatePropagation(),t.KtG(B.deleteDraft(h))}),t.qZA()()()()}if(2&o){const e=_.$implicit;t.xp6(3),t.Q6J("priority",null==e?null:e.priority),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.title?null:e.title.length)<=70),t.xp6(1),t.Q6J("ngIf",(null==e||null==e.title?null:e.title.length)>70)}}const A=function(o,_,e){return{itemsPerPage:o,currentPage:_,totalItems:e}};function y(o,_){if(1&o&&(t.TgZ(0,"table",3)(1,"thead",4)(2,"tr")(3,"th",5),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"th",6),t.qZA()(),t.TgZ(7,"tbody"),t.YNc(8,I,9,3,"tr",7),t.ALo(9,"paginate"),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,3,"title")),t.xp6(4),t.Q6J("ngForOf",t.xi3(9,5,e.drafts,t.kEZ(8,A,e.meta.pageSize,e.meta.currentPage,e.meta.totalItems)))("ngForTrackBy",e.trackBy)}}function U(o,_){1&o&&t._UZ(0,"not-found")}function b(o,_){1&o&&t._UZ(0,"loading")}let L=(()=>{class o{constructor(e,s,r){this.service=e,this.dialog=s,this.alert=r,this.drafts=[],this.loading=!0}ngOnInit(){this.service.drafts.subscribe(e=>{this.drafts=e}),this.service.meta.subscribe(e=>this.meta=e),this.service.loading.subscribe(e=>this.loading=e),this.getDrafts()}getDrafts(){this.service.getDrafts().subscribe()}changePage(e){}deleteDraft(e){this.dialog.open(P.v,{panelClass:"small-dialog",data:{btn_name:"confirm",message:"delete_draft_message",classes:"bg-danger white",id:e.draftId}}).afterClosed().subscribe(r=>{r&&this.service.deleteDraft(e.draftId).subscribe(E=>{this.alert.showAlert("draft_deleted"),this.getDrafts()})})}createTask(e){this.dialog.open(D.T,{panelClass:"create-task-dialog",disableClose:!0,data:{task:e,isDraft:!0}}).afterClosed().subscribe(r=>{r&&this.getDrafts()})}trackBy(e,s){return s.id}static{this.\u0275fac=function(s){return new(s||o)(t.Y36(C.f),t.Y36(O.uw),t.Y36(M.c))}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["draft"]],standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[["magicScroll","",1,"h-100"],["class","table w-100",4,"ngIf"],[4,"ngIf"],[1,"table","w-100"],[1,"bg-gray","border-bottom"],[1,"text-left","pl-4"],[1,"text-center"],["class","border-bottom pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-bottom","pointer",3,"click"],[1,"pl-4"],[1,"flex","aic","bold"],[1,"mr-1",3,"priority"],[3,"matTooltip",4,"ngIf"],[1,"flex-center"],[1,"bx","bx-trash","danger","fs-23","px-2",3,"click"],[3,"matTooltip"]],template:function(s,r){1&s&&(t.TgZ(0,"layout")(1,"div",0),t.YNc(2,y,10,12,"table",1),t.YNc(3,U,1,0,"not-found",2),t.YNc(4,b,1,0,"loading",2),t.qZA()()),2&s&&(t.xp6(2),t.Q6J("ngIf",r.drafts&&r.drafts.length>0&&!r.loading),t.xp6(1),t.Q6J("ngIf",r.drafts&&0==r.drafts.length&&!r.loading),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[a.ez,a.sg,a.O5,a.OU,f.$,g.h,i.t,m.AV,m.gM,p.w,l.N,c.JX,c._s,u.aw,u.X$]})}}return o})()}}]);