"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[4462],{55237:(E,b,n)=>{n.d(b,{S:()=>v});var t=n(65879),u=n(96814),C=n(70468),x=n(54807),h=n(56223),f=n(89515),A=n(24110);function D(m,p){if(1&m&&t._UZ(0,"filter-label",4),2&m){const l=t.oxw();t.Q6J("key",l.label)}}function O(m,p){if(1&m&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&m){const l=t.oxw().items;t.xp6(1),t.hij("",t.Dn7(2,1,l[0].name,0,10),"...")}}function T(m,p){if(1&m&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&m){const l=t.oxw().items;t.xp6(1),t.Oqu(l[0].name)}}function P(m,p){if(1&m&&(t.TgZ(0,"div",11)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&m){const l=t.oxw().items;t.xp6(2),t.AsE("",l.length-1," ",t.lcZ(3,2,"more"),"...")}}function c(m,p){if(1&m){const l=t.EpF();t.TgZ(0,"div",5)(1,"span",6)(2,"span",7),t.YNc(3,O,3,5,"span",8),t.YNc(4,T,2,1,"span",8),t.qZA()(),t.TgZ(5,"span",9),t.NdJ("click",function(){const i=t.CHM(l);return t.KtG((0,i.clear)(i.items[0]))}),t._uU(6,"\xd7"),t.qZA()(),t.YNc(7,P,4,4,"div",10)}if(2&m){const l=p.items;t.xp6(3),t.Q6J("ngIf",l[0].name.length>=10),t.xp6(1),t.Q6J("ngIf",l[0].name.length<10),t.xp6(3),t.Q6J("ngIf",l.length>1)}}let v=(()=>{class m{constructor(){this.label="departments",this.labelVisibilty=!0,this.width="w-24r",this.multiable=!0,this.closeOnSelect=!1,this.formControlName=null,this.valueChanged=new t.vpe,this.service=(0,t.f3M)(A.U)}onChange(){this.valueChanged.emit(this.selectedDepartment)}static{this.\u0275fac=function(d){return new(d||m)}}static{this.\u0275cmp=t.Xpm({type:m,selectors:[["departments"]],inputs:{selectedDepartment:"selectedDepartment",label:"label",labelVisibilty:"labelVisibilty",width:"width",multiable:"multiable",closeOnSelect:"closeOnSelect",formControlName:"formControlName"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[t.jDz],decls:5,vars:11,consts:[[1,"departments-filter"],[3,"key",4,"ngIf"],["bindLabel","name","bindValue","id","appendTo","body",3,"items","clearSearchOnAdd","multiple","closeOnSelect","ngModel","ngModelChange"],["ng-multi-label-tmp",""],[3,"key"],[1,"ng-value","flex","aic"],[1,"ng-value-label"],[1,"flex","aic","fs-10"],[4,"ngIf"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["class","ng-value rounded-2",4,"ngIf"],[1,"ng-value","rounded-2"],[1,"ng-value-label","fs-10"]],template:function(d,i){1&d&&(t.TgZ(0,"div",0),t.YNc(1,D,1,1,"filter-label",1),t.TgZ(2,"ng-select",2),t.NdJ("ngModelChange",function(o){return i.selectedDepartment=o})("ngModelChange",function(){return i.onChange()}),t.ALo(3,"async"),t.YNc(4,c,8,3,"ng-template",3),t.qZA()()),2&d&&(t.xp6(1),t.Q6J("ngIf",i.labelVisibilty),t.xp6(1),t.Gre("",i.width," icon-input"),t.Q6J("items",t.lcZ(3,9,i.service.departments$))("clearSearchOnAdd",!0)("multiple",i.multiable)("closeOnSelect",i.closeOnSelect)("ngModel",i.selectedDepartment))},dependencies:[u.ez,u.O5,u.Ov,u.OU,C.r,x.A0,x.w9,x.zB,h.u5,h.JJ,h.On,f.aw,f.X$],encapsulation:2})}}return m})()},22931:(E,b,n)=>{n.d(b,{X:()=>d});var t=n(65879),u=n(96814),C=n(19300),x=n(41865),h=n(70468),f=n(54807),A=n(56223),D=n(89515);function O(i,g){1&i&&t._UZ(0,"filter-label",5),2&i&&t.Q6J("key","priority")}function T(i,g){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const o=g.item;t.xp6(1),t.Oqu(o.name)}}function P(i,g){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&i){const o=t.oxw().items;t.xp6(1),t.hij("",t.Dn7(2,1,o[0].name,0,10),"...")}}function c(i,g){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const o=t.oxw().items;t.xp6(1),t.Oqu(o[0].name)}}function v(i,g){if(1&i&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&i){const o=t.oxw().items;t.xp6(2),t.AsE("",o.length-1," ",t.lcZ(3,2,"more"),"...")}}function m(i,g){if(1&i){const o=t.EpF();t.TgZ(0,"div",7)(1,"span",8)(2,"span",9),t.YNc(3,P,3,5,"span",3),t.YNc(4,c,2,1,"span",3),t.qZA()(),t.TgZ(5,"span",10),t.NdJ("click",function(){const Z=t.CHM(o);return t.KtG((0,Z.clear)(Z.items[0]))}),t._uU(6,"\xd7"),t.qZA()(),t.YNc(7,v,4,4,"div",11)}if(2&i){const o=g.items;t.xp6(3),t.Q6J("ngIf",o[0].name.length>=10),t.xp6(1),t.Q6J("ngIf",o[0].name.length<10),t.xp6(3),t.Q6J("ngIf",o.length>1)}}function p(i,g){1&i&&(t.ynx(0),t.YNc(1,m,8,3,"ng-template",6),t.BQk())}function l(i,g){if(1&i&&(t.TgZ(0,"span",14),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.hij(" ",o.selectedValue.length," ")}}let d=(()=>{class i{constructor(){this.valueChanged=new t.vpe,this.selectedValue=[],this.classes="",this.placeholder="",this.multi=!0,this.newFilter=!1,this.clearData=!1,this.hideLabel=!1,this.list=(0,C.q)(x.U)}changeValue(o){this.valueChanged.emit(o)}static{this.\u0275fac=function(M){return new(M||i)}}static{this.\u0275cmp=t.Xpm({type:i,selectors:[["priority-filter"]],inputs:{selectedValue:"selectedValue",classes:"classes",placeholder:"placeholder",multi:"multi",newFilter:"newFilter",clearData:"clearData",hideLabel:"hideLabel"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[t.jDz],decls:8,vars:17,consts:[[3,"key",4,"ngIf"],["appendTo","body","bindLabel","name","bindValue","value",3,"placeholder","ngModel","clearSearchOnAdd","closeOnSelect","items","multiple","ngModelChange"],["ng-option-tmp",""],[4,"ngIf"],["class","rounded-5 bg-primary count flex aic jcc fs-11 simibold white ml-50",4,"ngIf"],[3,"key"],["ng-multi-label-tmp",""],[1,"ng-value","flex","aic"],[1,"ng-value-label"],[1,"flex","aic","fs-11"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["class","ng-value rounded-2",4,"ngIf"],[1,"ng-value","rounded-2"],[1,"ng-value-label","fs-11"],[1,"rounded-5","bg-primary","count","flex","aic","jcc","fs-11","simibold","white","ml-50"]],template:function(M,Z){1&M&&(t.TgZ(0,"div"),t.YNc(1,O,1,1,"filter-label",0),t.TgZ(2,"div")(3,"ng-select",1),t.NdJ("ngModelChange",function(U){return Z.changeValue(U)})("ngModelChange",function(U){return Z.selectedValue=U}),t.ALo(4,"translate"),t.YNc(5,T,2,1,"ng-template",2),t.YNc(6,p,2,0,"ng-container",3),t.qZA()(),t.YNc(7,l,2,1,"span",4),t.qZA()),2&M&&(t.Gre(" ",Z.newFilter?"new-filter":"",""),t.xp6(1),t.Q6J("ngIf",!Z.hideLabel),t.xp6(2),t.Gre("w-11r  ",Z.classes,""),t.Q6J("placeholder",t.lcZ(4,15,Z.placeholder))("ngModel",Z.selectedValue)("clearSearchOnAdd",!0)("closeOnSelect",!Z.multi)("items",Z.list)("multiple",Z.multi),t.xp6(3),t.Q6J("ngIf",!Z.multi),t.xp6(1),t.Q6J("ngIf",Z.newFilter&&Z.selectedValue.length>0))},dependencies:[u.ez,u.O5,u.OU,h.r,f.A0,f.w9,f.ir,f.zB,A.u5,A.JJ,A.On,D.aw,D.X$],encapsulation:2})}}return i})()},73847:(E,b,n)=>{n.d(b,{v:()=>p});var t=n(65879),u=n(96814),C=n(54807),x=n(89515),h=n(56223),f=n(70468),A=n(84526);function D(l,d){1&l&&t._UZ(0,"filter-label",5)}function O(l,d){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l){const i=d.item;t.xp6(1),t.Oqu(t.lcZ(2,1,i.title))}}function T(l,d){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"slice"),t.ALo(3,"translate"),t.qZA()),2&l){const i=t.oxw().items;t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,null==i[0]?null:i[0].title),0,10),"...")}}function P(l,d){if(1&l&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&l){const i=t.oxw().items;t.xp6(1),t.Oqu(t.lcZ(2,1,null==i[0]?null:i[0].title))}}function c(l,d){if(1&l&&(t.TgZ(0,"div",12)(1,"span",13),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&l){const i=t.oxw().items;t.xp6(2),t.AsE("",i.length-1," ",t.lcZ(3,2,"more"),"...")}}function v(l,d){if(1&l){const i=t.EpF();t.TgZ(0,"div",6)(1,"span",7)(2,"span",8),t.YNc(3,T,4,7,"span",9),t.YNc(4,P,3,3,"span",9),t.qZA()(),t.TgZ(5,"span",10),t.NdJ("click",function(){const o=t.CHM(i);return t.KtG((0,o.clear)(o.items[0]))}),t._uU(6,"\xd7"),t.qZA()(),t.YNc(7,c,4,4,"div",11)}if(2&l){const i=d.items;t.xp6(3),t.Q6J("ngIf",(null==i[0]||null==i[0].title?null:i[0].title.length)>=10),t.xp6(1),t.Q6J("ngIf",(null==i[0]||null==i[0].title?null:i[0].title.length)<10),t.xp6(3),t.Q6J("ngIf",i.length>1)}}function m(l,d){if(1&l&&(t.TgZ(0,"span",14),t._uU(1),t.qZA()),2&l){const i=t.oxw();t.xp6(1),t.hij(" ",i.selectedValue.length," ")}}let p=(()=>{class l{ngOnChanges(i){i.clearData&&!0===i.clearData.currentValue&&(this.selectedValue=[],this.onChange())}constructor(i){this.projectsSer=i,this.selectedValue=[],this.valueChanged=new t.vpe,this.classes="",this.placeholder="",this.newFilter=!1,this.clearData=!1,this.hideLabel=!1,this.projects$=this.projectsSer.projects}ngOnInit(){0==this.projectsSer.projects.value.length&&this.projectsSer.getProjects().subscribe()}onChange(){this.valueChanged.emit(this.selectedValue)}static{this.\u0275fac=function(g){return new(g||l)(t.Y36(A.Y))}}static{this.\u0275cmp=t.Xpm({type:l,selectors:[["projects"]],inputs:{selectedValue:"selectedValue",classes:"classes",placeholder:"placeholder",newFilter:"newFilter",clearData:"clearData",hideLabel:"hideLabel"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[t.TTD,t.jDz],decls:8,vars:18,consts:[["key","project",4,"ngIf"],["bindLabel","title","bindValue","id","appendTo","body",3,"placeholder","items","ngModel","multiple","closeOnSelect","clearSearchOnAdd","ngModelChange"],["ng-option-tmp",""],["ng-multi-label-tmp",""],["class","rounded-5 bg-primary count flex aic jcc fs-11 simibold white ml-50",4,"ngIf"],["key","project"],[1,"ng-value","flex","aic"],[1,"ng-value-label"],[1,"flex","aic","fs-11"],[4,"ngIf"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["class","ng-value rounded-2",4,"ngIf"],[1,"ng-value","rounded-2"],[1,"ng-value-label","fs-11"],[1,"rounded-5","bg-primary","count","flex","aic","jcc","fs-11","simibold","white","ml-50"]],template:function(g,o){1&g&&(t.TgZ(0,"div"),t.YNc(1,D,1,0,"filter-label",0),t.TgZ(2,"ng-select",1),t.NdJ("ngModelChange",function(Z){return o.selectedValue=Z})("ngModelChange",function(){return o.onChange()}),t.ALo(3,"translate"),t.ALo(4,"async"),t.YNc(5,O,3,3,"ng-template",2),t.YNc(6,v,8,3,"ng-template",3),t.qZA(),t.YNc(7,m,2,1,"span",4),t.qZA()),2&g&&(t.Gre("project-filter ",o.newFilter?"new-filter":"",""),t.xp6(1),t.Q6J("ngIf",!o.hideLabel),t.xp6(1),t.Gre(" w-16r ",o.classes,""),t.Q6J("placeholder",t.lcZ(3,14,o.placeholder))("items",t.lcZ(4,16,o.projects$))("ngModel",o.selectedValue)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0),t.xp6(5),t.Q6J("ngIf",o.newFilter&&o.selectedValue.length>0))},dependencies:[u.ez,u.O5,u.Ov,u.OU,C.A0,C.w9,C.ir,C.zB,x.aw,x.X$,h.u5,h.JJ,h.On,f.r],encapsulation:2})}}return l})()},86817:(E,b,n)=>{n.d(b,{U:()=>m});var t=n(65879),u=n(96814),C=n(70468),x=n(54807),h=n(89515),f=n(56223),A=n(19300),D=n(7691);function O(p,l){1&p&&t._UZ(0,"filter-label",4)}function T(p,l){if(1&p&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&p){const d=t.oxw().items;t.xp6(1),t.hij("",t.Dn7(2,1,d[0].name,0,10),"...")}}function P(p,l){if(1&p&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&p){const d=t.oxw().items;t.xp6(1),t.Oqu(d[0].name)}}function c(p,l){if(1&p&&(t.TgZ(0,"div",11)(1,"span",12),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&p){const d=t.oxw().items;t.xp6(2),t.AsE("",d.length-1," ",t.lcZ(3,2,"more"),"...")}}function v(p,l){if(1&p){const d=t.EpF();t.TgZ(0,"div",5)(1,"span",6)(2,"span",7),t.YNc(3,T,3,5,"span",8),t.YNc(4,P,2,1,"span",8),t.qZA()(),t.TgZ(5,"span",9),t.NdJ("click",function(){const g=t.CHM(d);return t.KtG((0,g.clear)(g.items[0]))}),t._uU(6,"\xd7"),t.qZA()(),t.YNc(7,c,4,4,"div",10)}if(2&p){const d=l.items;t.xp6(3),t.Q6J("ngIf",d[0].name.length>=10),t.xp6(1),t.Q6J("ngIf",d[0].name.length<10),t.xp6(3),t.Q6J("ngIf",d.length>1)}}let m=(()=>{class p{constructor(){this.valueChanged=new t.vpe,this.hideLabel=!1,this.classes="",this.list=(0,A.q)(D.U)}changeValue(d){this.valueChanged.emit(d)}static{this.\u0275fac=function(i){return new(i||p)}}static{this.\u0275cmp=t.Xpm({type:p,selectors:[["task-type"]],inputs:{hideLabel:"hideLabel",selectedValue:"selectedValue",classes:"classes"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[t.jDz],decls:5,vars:12,consts:[[1,""],["key","task_type",4,"ngIf"],["appendTo","body","bindLabel","name","bindValue","value",3,"placeholder","ngModel","clearSearchOnAdd","closeOnSelect","items","multiple","ngModelChange"],["ng-multi-label-tmp",""],["key","task_type"],[1,"ng-value","flex","aic"],[1,"ng-value-label"],[1,"flex","aic","fs-11"],[4,"ngIf"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["class","ng-value rounded-2",4,"ngIf"],[1,"ng-value","rounded-2"],[1,"ng-value-label","fs-11"]],template:function(i,g){1&i&&(t.TgZ(0,"div",0),t.YNc(1,O,1,0,"filter-label",1),t.TgZ(2,"ng-select",2),t.NdJ("ngModelChange",function(M){return g.changeValue(M)})("ngModelChange",function(M){return g.selectedValue=M}),t.ALo(3,"translate"),t.YNc(4,v,8,3,"ng-template",3),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("ngIf",!g.hideLabel),t.xp6(1),t.Gre("w-11r ",g.classes,""),t.Q6J("placeholder",t.lcZ(3,10,"task_type"))("ngModel",g.selectedValue)("clearSearchOnAdd",!0)("closeOnSelect",!1)("items",g.list)("multiple",!0))},dependencies:[u.ez,u.O5,u.OU,C.r,x.A0,x.w9,x.zB,h.aw,h.X$,f.u5,f.JJ,f.On],encapsulation:2})}}return p})()},61706:(E,b,n)=>{n.d(b,{W:()=>u});var t=n(65879);let u=(()=>{class C{transform(h,f){if("hour"===f){const A=Math.floor(h),D=Math.floor(60*(h-A));return`${this.padZero(A)}:${this.padZero(D)}`}if("minutes"===f){const A=Math.floor(h/60),D=Math.floor(h%60);return`${this.padZero(A)}:${this.padZero(D)}`}return h.toString()}padZero(h){return h<10?`0${h}`:`${h}`}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275pipe=t.Yjl({name:"convertMinutes",type:C,pure:!0,standalone:!0})}}return C})()},65509:(E,b,n)=>{n.d(b,{l:()=>O});var t=n(83620),u=n(94664),C=n(37398),x=n(65619),h=n(69862),f=n(20553),A=n(34673),D=n(65879);let O=(()=>{class T extends A.q{constructor(c){super(),this.http=c,this.tasks$=this.hasChanged.pipe((0,t.b)(400),(0,u.w)(()=>this.getTasks().pipe((0,C.U)(v=>v)))),this.selectedTasksToHandover=new x.X([]),this.selectedTasksToHandoverValue=[],this.spaceId=localStorage.getItem("space-id"),this.token=localStorage.getItem("token"),this.url=`${f.N.apiUrl}api/Tasks/GetAllTasksExcel`,this.selectedTasksToHandover.subscribe(v=>this.selectedTasksToHandoverValue=v)}getTasks(){this.loading.next(!0);const c=new URL(`${f.N.apiUrl}api/Tasks/GetAllTasks`);return this.params(c,"all-tasks"),this.http.get(`${c}`).pipe((0,C.U)(v=>{this.loading.next(!1);let m=v.data.items;return m.forEach(p=>{p.isSelected=this.selectedTasksToHandoverValue.find(l=>p.taskId==l.taskId)}),this.setMeta(v),m}))}handover(c){return this.http.put(`${f.N.apiUrl}api/Tasks/Handover`,{newAssigneeId:c,handOverTasksIds:this.selectedTasksToHandoverValue.map(v=>v.taskId)})}changeCreator(c){return this.http.post(`${f.N.apiUrl}api/TaskGroups/ChangeTaskCreator`,{userId:c,taskGroupId:this.selectedTasksToHandoverValue.map(v=>v.taskGroupId)})}getTasksExcel(c){const v=new h.WM({accept:"/"});return this.http.get(this.url,{headers:v,responseType:"blob",params:c})}getTaskProps(c){return this.http.post(`${f.N.apiUrl}api/TaskGroups/GetTaskProps?taskId=${c}`,{})}static{this.\u0275fac=function(v){return new(v||T)(D.LFG(h.eN))}}static{this.\u0275prov=D.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})()},54462:(E,b,n)=>{n.r(b),n.d(b,{ManagerDashboardComponent:()=>lt});var t=n(65879),u=n(96814),C=n(1428),x=n(89515),h=n(55006),f=n(824),A=n(76472),D=n(57105),O=n(52081),T=n(56223),P=n(20553),c=n(65619),v=n(83620),m=n(94664),p=n(37398),l=n(69862);let d=(()=>{class r{constructor(e,s){this.http=e,this.datePipe=s,this.hasChanged=new c.X(!1),this.inbox$=this.hasChanged.pipe((0,v.b)(400),(0,m.w)(()=>this.getTeamData().pipe((0,p.U)(J=>J)))),this.assignee=new c.X([]),this.creator=new c.X([]),this.departments=new c.X([]),this.type=new c.X(null),this.priority=new c.X(null),this.project=new c.X(null),this.currentPage=new c.X(1),this.startDateFrom=new c.X((new Date).setHours(0,0,0,0)),this.startDateTo=new c.X((new Date).setHours(23,59,59,999)),this.limit=new c.X(5),this.page=new c.X(1),this.meta=new c.X(null),this.loading=new c.X(!1);let a=this.datePipe.transform(new Date,"yyyy-MM-dd"),_=this.datePipe.transform(new Date,"yyyy-MM-01");this.startDateFrom=new c.X(_),this.startDateTo=new c.X(a)}getTeamData(){let e=new URL(`${P.N.apiUrl}api/Tasks/GetManagerDashBoard`);return this.loading.next(!0),e.searchParams.append("page",JSON.stringify(this.page.value)),e.searchParams.append("limit",JSON.stringify(this.limit.value)),e.searchParams.append("startDateFrom",this.datePipe.transform(this.startDateFrom.value,"yyyy-MM-dd")||""),e.searchParams.append("startDateTo",this.datePipe.transform(this.startDateTo.value,"yyyy-MM-dd")||""),this.assignee.value?.length>0&&this.assignee.value.map(s=>{e.searchParams.append("assignees",s.id)}),this.creator.value?.length>0&&this.creator.value.map(s=>{e.searchParams.append("creators",s.id)}),this.type.value?.length>0&&this.type.value.map(s=>{e.searchParams.append("TaskGroupType",s)}),this.priority.value?.length>0&&this.priority.value.map(s=>{e.searchParams.append("priorities",s)}),this.project.value?.length>0&&this.project.value.map(s=>{e.searchParams.append("projectIds",s)}),this.departments.value?.length>0&&this.departments.value.map(s=>{e.searchParams.append("assigneeDepartments",s)}),this.http.get(`${e}`).pipe((0,p.U)(s=>{this.loading.next(!1);let a={pageSize:s.data.teamTimingVM.pageSize,totalItems:s.data.teamTimingVM.totalItems,totalPages:s.data.teamTimingVM.totalPages,totalUnSeen:s.data.teamTimingVM.totalUnSeen,currentPage:s.data.teamTimingVM.currentPage};return this.currentPage.next(a.currentPage),this.meta.next(a),this.page.next(a.currentPage),s.data}))}static{this.\u0275fac=function(s){return new(s||r)(t.LFG(l.eN),t.LFG(u.uU))}}static{this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var i=n(61706),g=n(32801);function o(r,k){if(1&r&&(t.TgZ(0,"tr",15)(1,"td")(2,"div",16),t._UZ(3,"app-img-title",17),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td")(7,"div",16),t._UZ(8,"app-img-title",17),t.qZA()(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"convertMinutes"),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"convertMinutes"),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"convertMinutes"),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"convertMinutes"),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.ALo(27,"convertMinutes"),t.ALo(28,"translate"),t.qZA()()),2&r){const e=k.$implicit;t.xp6(3),t.Q6J("imgSrc",e.assigneePic)("title",e.assigneeName)("subTitle",e.assigneeJobTitle)("userId",e.assigneeId),t.xp6(2),t.hij(" ",e.department," "),t.xp6(3),t.Q6J("imgSrc",e.managerPic)("title",e.managerName)("subTitle",e.managerJobTitle)("userId",e.managerId),t.xp6(2),t.AsE(" ",t.xi3(11,19,e.requiredWorkingHours,"hour")," ",t.lcZ(12,22,"h")," "),t.xp6(4),t.AsE(" ",t.xi3(15,24,e.expectedWorkingHours,"minutes")," ",t.lcZ(16,27,"h")," "),t.xp6(4),t.AsE(" ",t.xi3(19,29,e.actualWorkingHours,"minutes")," ",t.lcZ(20,32,"h")," "),t.xp6(4),t.AsE(" ",t.xi3(23,34,e.attendanceHours,"hour")," ",t.lcZ(24,37,"h")," "),t.xp6(4),t.AsE(" ",t.xi3(27,39,e.overTimeHours,"hour")," ",t.lcZ(28,42,"h")," ")}}const M=function(r,k,e){return{itemsPerPage:r,currentPage:k,totalItems:e}};function Z(r,k){if(1&r&&(t.TgZ(0,"tbody"),t.YNc(1,o,29,44,"tr",14),t.ALo(2,"paginate"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e.data.items.teamTimingAssignees,t.kEZ(5,M,e.meta.pageSize,e.meta.currentPage,e.meta.totalItems)))("ngForTrackBy",e.trackBy)}}function L(r,k){1&r&&(t.TgZ(0,"div",18),t._UZ(1,"not-found",19),t.qZA())}function U(r,k){1&r&&(t.TgZ(0,"p",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"record")))}function K(r,k){if(1&r){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",22),t.NdJ("ngModelChange",function(a){t.CHM(e);const _=t.oxw();return t.KtG(_.limit=a)})("ngModelChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeLimit())}),t.qZA(),t.YNc(6,U,3,3,"p",23),t.qZA(),t.TgZ(7,"pagination-controls",24),t.NdJ("ngModelChange",function(a){t.CHM(e);const _=t.oxw();return t.KtG(_.page=a)})("pageChange",function(a){t.CHM(e);const _=t.oxw();return t.KtG(_.pageChanged(a))}),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"span",25),t._uU(14),t.ALo(15,"arabicNumbers"),t.ALo(16,"translate"),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,11,"pagination_per_page")," "),t.xp6(2),t.Q6J("ngModel",e.limit),t.xp6(1),t.Q6J("ngIf",null==e.meta?null:e.meta.pageSize),t.xp6(1),t.Q6J("ngModel",e.page)("maxSize",7)("directionLinks",!0)("previousLabel",t.lcZ(8,13,"previous"))("nextLabel",t.lcZ(9,15,"next")),t.xp6(4),t.hij("",t.lcZ(12,17,"pagination_total_records")," "),t.xp6(3),t.AsE("",t.lcZ(15,19,null==e.meta?null:e.meta.totalItems)," ",t.lcZ(16,21,"record"),"")}}const q=function(r){return{"h-100":r}};let B=(()=>{class r{constructor(){this.service=(0,t.f3M)(d),this.loading=!1,this.limit=this.service.limit.value,this.page=1}ngOnInit(){this.service.meta.subscribe(e=>this.meta=e)}trackBy(e,s){return s.id}pageChanged(e){this.service.page.next(e),this.page=e,this.service.hasChanged.next(!0),console.log(e)}changeLimit(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.limit<1&&(this.limit=5),this.service.limit.next(this.limit),this.pageChanged(1)},500)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=t.Xpm({type:r,selectors:[["team-timing"]],inputs:{data:"data"},standalone:!0,features:[t.jDz],decls:80,vars:83,consts:[[1,"flex","aic","jcsb","gap-x-2","mt-1"],[1,"timing-card-primary","flex","aic","gap-x-1","p-2","rounded","flex-20","bold"],[1,"value","bold"],[1,"timing-card-warn","flex","aic","gap-x-1","p-2","rounded","flex-20","bold"],[1,"timing-card-calm","flex","aic","gap-x-1","p-2","rounded","flex-20","bold"],[1,"timing-card-success","flex","aic","gap-x-1","p-2","rounded","flex-20","bold"],[1,"timing-card-danger","flex","aic","gap-x-1","p-2","rounded","flex-20","bold"],[1,"table"],[1,"table","w-100","relative","mt-2",3,"ngClass"],[1,"bg-gray","border-bottom"],[1,"text-left"],[4,"ngIf"],["style","height: 40vh;",4,"ngIf"],["class","pagination-content flex aic jcsr py-1 bg-white border-top border-bottom",4,"ngIf"],["class","border-bottom",4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-bottom"],[1,"flex","aic","jcfs"],[3,"imgSrc","title","subTitle","userId"],[2,"height","40vh"],[1,"a-center"],[1,"pagination-content","flex","aic","jcsr","py-1","bg-white","border-top","border-bottom"],[1,"flex","aic"],["type","number","min","1",1,"input","ml-75","limit","text-center",3,"ngModel","ngModelChange"],["class","ml-50 primary",4,"ngIf"],[3,"ngModel","maxSize","directionLinks","previousLabel","nextLabel","ngModelChange","pageChange"],[1,"primary"],[1,"ml-50","primary"]],template:function(s,a){1&s&&(t.TgZ(0,"h2"),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div",0)(4,"div",1)(5,"div")(6,"p",2),t._uU(7),t.ALo(8,"convertMinutes"),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",3)(14,"div")(15,"p",2),t._uU(16),t.ALo(17,"convertMinutes"),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"p"),t._uU(20),t.ALo(21,"translate"),t.qZA()()(),t.TgZ(22,"div",4)(23,"div")(24,"p",2),t._uU(25),t.ALo(26,"convertMinutes"),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"p"),t._uU(29),t.ALo(30,"translate"),t.qZA()()(),t.TgZ(31,"div",5)(32,"div")(33,"p",2),t._uU(34),t.ALo(35,"convertMinutes"),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"p"),t._uU(38),t.ALo(39,"translate"),t.qZA()()(),t.TgZ(40,"div",6)(41,"div")(42,"p",2),t._uU(43),t.ALo(44,"convertMinutes"),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"p"),t._uU(47),t.ALo(48,"translate"),t.qZA()()()(),t.TgZ(49,"div",7)(50,"table",8)(51,"thead",9)(52,"tr")(53,"th",10),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"th"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"th",10),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"th"),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"th"),t._uU(66),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"th"),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"th"),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"th"),t._uU(75),t.ALo(76,"translate"),t.qZA()()(),t.YNc(77,Z,3,9,"tbody",11),t.YNc(78,L,2,0,"div",12),t.qZA()(),t.YNc(79,K,17,23,"div",13)),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,28,"team_timing")),t.xp6(6),t.AsE("",t.xi3(8,30,null==a.data?null:a.data.items.requiredWorkingHours,"hour")," ",t.lcZ(9,33,"h"),""),t.xp6(4),t.Oqu(t.lcZ(12,35,"required_working_hours")),t.xp6(5),t.AsE("",null!=a.data&&a.data.items.expectedWorkingHours?t.xi3(17,37,null==a.data?null:a.data.items.expectedWorkingHours,"minutes"):0," ",t.lcZ(18,40,"h"),""),t.xp6(4),t.Oqu(t.lcZ(21,42,"expected_hours")),t.xp6(5),t.AsE("",null!=a.data&&a.data.items.actualWorkingHours?t.xi3(26,44,null==a.data?null:a.data.items.actualWorkingHours,"minutes"):0," ",t.lcZ(27,47,"h"),""),t.xp6(4),t.Oqu(t.lcZ(30,49,"actual_hours")),t.xp6(5),t.AsE("",t.xi3(35,51,null==a.data?null:a.data.items.attendanceHours,"hour")," ",t.lcZ(36,54,"h"),""),t.xp6(4),t.Oqu(t.lcZ(39,56,"attendance_hours")),t.xp6(5),t.AsE("",t.xi3(44,58,null==a.data?null:a.data.items.overTimeHours,"hour")," ",t.lcZ(45,61,"h"),""),t.xp6(4),t.Oqu(t.lcZ(48,63,"overtime_hours")),t.xp6(3),t.Q6J("ngClass",t.VKq(81,q,0==a.data.items.teamTimingAssignees.length||a.loading)),t.xp6(4),t.Oqu(t.lcZ(55,65,"member")),t.xp6(3),t.Oqu(t.lcZ(58,67,"department")),t.xp6(3),t.Oqu(t.lcZ(61,69,"manger")),t.xp6(3),t.Oqu(t.lcZ(64,71,"required_hours")),t.xp6(3),t.Oqu(t.lcZ(67,73,"expected_hours")),t.xp6(3),t.Oqu(t.lcZ(70,75,"actual_hours")),t.xp6(3),t.Oqu(t.lcZ(73,77,"attendance_hours")),t.xp6(3),t.Oqu(t.lcZ(76,79,"overtime_hours")),t.xp6(2),t.Q6J("ngIf",a.data.items.teamTimingAssignees.length>0&&!a.loading),t.xp6(1),t.Q6J("ngIf",0==a.data.items.teamTimingAssignees.length&&!a.loading),t.xp6(1),t.Q6J("ngIf",(null==a.meta?null:a.meta.totalItems)>a.service.limit.value))},dependencies:[u.ez,u.mk,u.sg,u.O5,x.aw,x.X$,A.JX,A._s,A.LS,D.w,O.m,T.u5,T.Fj,T.wV,T.JJ,T.qQ,T.On,i.W,g.G],styles:[".timing-card-primary[_ngcontent-%COMP%]{background:rgba(116,93,201,.3)}.timing-card-primary[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#745dc9}.timing-card-warn[_ngcontent-%COMP%]{background:rgba(246,158,66,.3)}.timing-card-warn[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#f69e42}.timing-card-calm[_ngcontent-%COMP%]{background:rgba(119,220,216,.3)}.timing-card-calm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#77dcd8}.timing-card-success[_ngcontent-%COMP%]{background:rgba(41,203,152,.3)}.timing-card-success[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#29cb98}.timing-card-danger[_ngcontent-%COMP%]{background:rgba(220,91,91,.3)}.timing-card-danger[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#dc5b5b}.pagination-content[_ngcontent-%COMP%]{height:58px}.limit[_ngcontent-%COMP%]{width:5rem;padding:1.1rem .5rem}.table[_ngcontent-%COMP%]{overflow:auto}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:7px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(123,88,202,.9);border-radius:10px}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#7b58ca}"]})}}return r})();var V=n(65668),j=n(86903),Q=n(65509),G=n(64190);function W(r,k){1&r&&t._UZ(0,"not-found")}function H(r,k){if(1&r){const e=t.EpF();t.TgZ(0,"div",2)(1,"h3",3),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",4)(5,"div",5),t._UZ(6,"apx-chart",6),t.qZA()(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("new"))}),t._UZ(10,"div",10),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"p",11),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",12)(17,"div",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("new_ontime"))}),t._UZ(18,"div",14),t.TgZ(19,"div")(20,"p",15),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"p",11),t._uU(24),t.ALo(25,"translate"),t.TgZ(26,"span",16),t._uU(27),t.qZA()()()(),t.TgZ(28,"div",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("new_overDue"))}),t._UZ(29,"div",18),t.TgZ(30,"div")(31,"p",15),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"p",11),t._uU(35),t.ALo(36,"translate"),t.TgZ(37,"span",16),t._uU(38),t.qZA()()()()()(),t.TgZ(39,"div",7)(40,"div",8)(41,"div",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("in_progress"))}),t._UZ(42,"div",20),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"p",21),t._uU(46),t.ALo(47,"translate"),t.qZA()(),t.TgZ(48,"div",12)(49,"div",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("in_progress_ontime"))}),t._UZ(50,"div",22),t.TgZ(51,"div")(52,"p",15),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"p",21),t._uU(56),t.ALo(57,"translate"),t.TgZ(58,"span",16),t._uU(59),t.qZA()()()(),t.TgZ(60,"div",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("in_progress_overDue"))}),t._UZ(61,"div",23),t.TgZ(62,"div")(63,"p",15),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"p",21),t._uU(67),t.ALo(68,"translate"),t.TgZ(69,"span",16),t._uU(70),t.qZA()()()()()(),t.TgZ(71,"div",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("completed"))}),t.TgZ(72,"div",8)(73,"div",25),t._UZ(74,"div",26),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.TgZ(77,"p",27),t._uU(78),t.ALo(79,"translate"),t.qZA()(),t.TgZ(80,"div",12)(81,"div",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("completed_ontime"))}),t._UZ(82,"div",28),t.TgZ(83,"div")(84,"p",15),t._uU(85),t.ALo(86,"translate"),t.qZA(),t.TgZ(87,"p",27),t._uU(88),t.ALo(89,"translate"),t.TgZ(90,"span",16),t._uU(91),t.qZA()()()(),t.TgZ(92,"div",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.filter("completed_overDue"))}),t._UZ(93,"div",29),t.TgZ(94,"div")(95,"p",15),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"p",27),t._uU(99),t.ALo(100,"translate"),t.TgZ(101,"span",16),t._uU(102),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,44,e.label)),t.xp6(4),t.Q6J("series",null==e.chartOptions?null:e.chartOptions.series)("chart",null==e.chartOptions?null:e.chartOptions.chart)("labels",null==e.chartOptions?null:e.chartOptions.labels)("colors",null==e.chartOptions?null:e.chartOptions.colors)("legend",null==e.chartOptions?null:e.chartOptions.legend)("dataLabels",null==e.chartOptions?null:e.chartOptions.dataLabels)("responsive",null==e.chartOptions?null:e.chartOptions.responsive)("title",null==e.chartOptions?null:e.chartOptions.title)("subtitle",null==e.chartOptions?null:e.chartOptions.subtitle)("plotOptions",e.chartOptions.plotOptions),t.xp6(5),t.hij(" ",t.lcZ(12,46,"new")," "),t.xp6(3),t.AsE("",null==e.data||null==e.data.newTasks?null:e.data.newTasks.totalCount," ",t.lcZ(15,48,"tasks"),""),t.xp6(7),t.Oqu(t.lcZ(22,50,"on_time")),t.xp6(3),t.AsE("",null==e.data||null==e.data.newTasks?null:e.data.newTasks.onTimeCount," ",t.lcZ(25,52,"tasks")," - "),t.xp6(3),t.hij("",null==e.data||null==e.data.newTasks?null:e.data.newTasks.onTimePercentage,"%"),t.xp6(5),t.Oqu(t.lcZ(33,54,"overdue")),t.xp6(3),t.AsE("",null==e.data||null==e.data.newTasks?null:e.data.newTasks.overDueCount," ",t.lcZ(36,56,"tasks")," - "),t.xp6(3),t.hij("",null==e.data||null==e.data.newTasks?null:e.data.newTasks.overDuePercentage,"%"),t.xp6(5),t.hij(" ",t.lcZ(44,58,"in_progress")," "),t.xp6(3),t.AsE("",null==e.data||null==e.data.inprogressTasks?null:e.data.inprogressTasks.totalCount," ",t.lcZ(47,60,"tasks"),""),t.xp6(7),t.Oqu(t.lcZ(54,62,"on_time")),t.xp6(3),t.AsE("",null==e.data||null==e.data.inprogressTasks?null:e.data.inprogressTasks.onTimeCount," ",t.lcZ(57,64,"tasks")," - "),t.xp6(3),t.hij("",null==e.data||null==e.data.inprogressTasks?null:e.data.inprogressTasks.onTimePercentage,"%"),t.xp6(5),t.Oqu(t.lcZ(65,66,"overdue")),t.xp6(3),t.AsE("",null==e.data||null==e.data.inprogressTasks?null:e.data.inprogressTasks.overDueCount," ",t.lcZ(68,68,"tasks")," - "),t.xp6(3),t.hij("",null==e.data||null==e.data.inprogressTasks?null:e.data.inprogressTasks.overDuePercentage,"%"),t.xp6(5),t.hij(" ",t.lcZ(76,70,"completed")," "),t.xp6(3),t.AsE("",null==e.data||null==e.data.completedTasks?null:e.data.completedTasks.totalCount," ",t.lcZ(79,72,"tasks"),""),t.xp6(7),t.Oqu(t.lcZ(86,74,"on_time")),t.xp6(3),t.AsE("",null==e.data||null==e.data.completedTasks?null:e.data.completedTasks.onTimeCount," ",t.lcZ(89,76,"tasks")," - "),t.xp6(3),t.hij("",null==e.data||null==e.data.completedTasks?null:e.data.completedTasks.onTimePercentage,"%"),t.xp6(5),t.Oqu(t.lcZ(97,78,"overdue")),t.xp6(3),t.AsE("",null==e.data||null==e.data.completedTasks?null:e.data.completedTasks.overDueCount," ",t.lcZ(100,80,"tasks")," - "),t.xp6(3),t.hij("",null==e.data||null==e.data.completedTasks?null:e.data.completedTasks.overDuePercentage,"%")}}let R=(()=>{class r{constructor(e,s,a,_){this.translate=e,this.ArabicNumber=s,this.allTasksService=a,this.router=_,this.startDate=new Date((new Date).setDate(1)),this.endDate=new Date((new Date).setMonth((new Date).getMonth()+1,0)),this.chatValues=[],this.notFound=!1,this.lineChartOptions={series:[{name:"Series A",data:[20,20]},{name:"Series B",data:[20,20]},{name:"Series C",data:[20,20]},{name:"Series D",data:[20,20]}],chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"35%"}},dataLabels:{enabled:!1},stroke:{show:!1},xaxis:{categories:["Group 1","Group 1","Group 2","Group 2","Group 3","Group 3"]},grid:{show:!1},colors:["#D8B4FE","#7C3AED","#FCD34D","#F59E0B","#6EE7B7","#10B981"]},this.filterData=null}generateColors(e){const s=[];for(let a=0;a<e;a++)s.push("#"+Math.floor(16777215*Math.random()).toString(16));return s}ngOnChanges(e){e.data&&(this.chatValues=[this.data.newTasks.totalCount,this.data.inprogressTasks.totalCount,this.data.completedTasks.totalCount],this.triggerChart())}triggerChart(){this.chatValues.every(s=>0==s)&&(this.notFound=!0),this.chartOptions={series:this.chatValues,colors:["#7b58ca","#F69E42","#29CC99","#F5f5f5"],dataLabels:{enabled:!0,fontSize:"15px",formatter:s=>this.ArabicNumber.transform(s.toFixed())+"%"},chart:{type:"donut",width:"250px"},labels:[this.translate.instant("new"),this.translate.instant("in_progress"),this.translate.instant("completed")],legend:{show:!1},plotOptions:{pie:{expandOnClick:!1,customScale:1,donut:{size:"64%",labels:{show:!0,total:{show:!0,showAlways:!0,label:this.translate.instant("total"),fontSize:"2rem",fontWeight:600,formatter:s=>{let a=s.globals.seriesTotals.reduce((_,J)=>_+J,0);return this.ArabicNumber.transform(a)+" "+this.translate.instant("task")}}}}}}}}filter(e){console.log(this.filterData),this.allTasksService.resetFilter(),this.allTasksService.loading.next(!0),this.allTasksService.assigneeState.next(!0),this.projectId?this.allTasksService.project.next([this.projectId]):null!=this.filterData?(this.filterData.startDate&&this.allTasksService.dateFrom.next(this.filterData.startDate),this.filterData.startDate&&this.allTasksService.dateTo.next(this.filterData.endDate)):(this.allTasksService.dateTo.next(this.endDate),this.allTasksService.dateFrom.next(this.startDate)),this.allTasksService.search.next(""),"new"==e?this.allTasksService.taskStatus.next(["1"]):"new_ontime"==e?(this.allTasksService.taskStatus.next(["1"]),this.allTasksService.isOverdue.next(!1)):"new_overDue"==e?(this.allTasksService.taskStatus.next(["1"]),this.allTasksService.isOverdue.next(!0)):"in_progress_ontime"==e?(this.allTasksService.taskStatus.next(["3"]),this.allTasksService.isOverdue.next(!1)):"in_progress_overDue"==e?(this.allTasksService.taskStatus.next(["3"]),this.allTasksService.isOverdue.next(!0)):"in_progress"==e?this.allTasksService.taskStatus.next(["3"]):"completed"==e?this.allTasksService.taskStatus.next(["2"]):"completed_ontime"==e?(this.allTasksService.taskStatus.next(["2"]),this.allTasksService.isOverdue.next(!1)):"completed_overDue"==e&&(this.allTasksService.taskStatus.next(["2"]),this.allTasksService.isOverdue.next(!0)),this.filterData&&(this.filterData.assignees?.length>0&&this.allTasksService.assignees.next(this.filterData.assignees),this.filterData.type&&this.allTasksService.taskType.next(this.filterData.type),this.filterData.departments?.length>0&&this.allTasksService.department.next(this.filterData.departments),this.filterData.priority&&this.allTasksService.priority.next(this.filterData.priority),this.filterData.project&&this.allTasksService.project.next(this.filterData.project)),console.log(this.filterData),this.router.navigate(["/tasks/all-tasks"])}static{this.\u0275fac=function(s){return new(s||r)(t.Y36(x.sK),t.Y36(O.m),t.Y36(Q.l),t.Y36(G.F0))}}static{this.\u0275cmp=t.Xpm({type:r,selectors:[["team-tasks-statistics"]],inputs:{data:"data",filterData:"filterData",label:"label",projectId:"projectId"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:2,consts:[[4,"ngIf"],["class","task-statistics",4,"ngIf"],[1,"task-statistics"],[1,"lighter"],[1,"flex-grid","aic","jcc","py-2"],[1,"col-lg-6"],[3,"series","chart","labels","colors","legend","dataLabels","responsive","title","subtitle","plotOptions"],[1,"task-card","border","rounded-4","mb-2"],[1,"flex","aic","jcsb","border-bottom","py-1","px-2"],[1,"flex","aic","gap-x-1","bold","primary","pointer",3,"click"],[1,"bullet","big","bg-primary"],[1,"bold","primary"],[1,"numbers","py-1","px-2","flex","aic","jcsb"],[1,"flex","aifs","gap-x-1","pointer",3,"click"],[1,"bullet","bg-primary","top-1"],[1,"line-height","mb-50","bold"],[1,"dark"],[1,"flex","gap-x-1","pointer",3,"click"],[1,"bullet","bg-light-primary","top-1"],[1,"flex","aic","gap-x-1","warning","bold","pointer",3,"click"],[1,"bullet","big","bg-warning"],[1,"bold","warning"],[1,"bullet","bg-warning","top-1"],[1,"bullet","bg-warning-light","top-1"],[1,"task-card","border","rounded-4","mb-2","pointer",3,"click"],[1,"flex","aic","gap-x-1","bold","success"],[1,"bullet","big","bg-success"],[1,"bold","success"],[1,"bullet","bg-success","top-1"],[1,"bullet","bg-success-light","top-1"]],template:function(s,a){1&s&&(t.YNc(0,W,1,0,"not-found",0),t.YNc(1,H,103,82,"div",1)),2&s&&(t.Q6J("ngIf",a.notFound),t.xp6(1),t.Q6J("ngIf",!a.notFound))},dependencies:[u.ez,u.O5,x.aw,x.X$,j.X,j.x,D.w],styles:[".bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.bullet.big[_ngcontent-%COMP%]{width:15px;height:15px}.top-1[_ngcontent-%COMP%]{position:relative;top:2px}.bg-warning-light[_ngcontent-%COMP%]{background-color:#fbdec3}.bg-success-light[_ngcontent-%COMP%]{background-color:#b0ecd9}"]})}}return r})();var Y=n(10480),X=n(22931),z=n(86817),$=n(73847),tt=n(55237),N=n(32296),y=n(38034),F=n(64170),I=n(23680),w=n(73445),et=n(70468);function at(r,k){if(1&r){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"h3"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",9)(6,"div",10)(7,"select-user",11),t.NdJ("getSelectedUsers",function(a){t.CHM(e);const _=t.oxw();return _.getAssinee(a),t.KtG(_.service.hasChanged.next(!0))}),t.qZA()(),t.TgZ(8,"div",12),t._UZ(9,"filter-label",13),t.TgZ(10,"div",14),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(16);return t.KtG(a.open())}),t.TgZ(11,"mat-date-range-input",15)(12,"input",16),t.NdJ("ngModelChange",function(a){t.CHM(e);const _=t.oxw();return t.KtG(_.startDate=a)}),t.qZA(),t.TgZ(13,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const _=t.oxw();return t.KtG(_.endDate=a)}),t.qZA()(),t._UZ(14,"mat-datepicker-toggle",18),t.TgZ(15,"mat-date-range-picker",null,19)(17,"mat-date-range-picker-actions")(18,"button",20),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.dateChanged())}),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()(),t.TgZ(24,"priority-filter",22),t.NdJ("valueChanged",function(a){t.CHM(e);const _=t.oxw();return _.getPriority(a),t.KtG(_.service.hasChanged.next(!0))}),t.qZA(),t.TgZ(25,"task-type",22),t.NdJ("valueChanged",function(a){t.CHM(e);const _=t.oxw();return _.getType(a),t.KtG(_.service.hasChanged.next(!0))}),t.qZA(),t.TgZ(26,"projects",22),t.NdJ("valueChanged",function(a){t.CHM(e);const _=t.oxw();return _.getProject(a),t.KtG(_.service.hasChanged.next(!0))}),t.qZA(),t.TgZ(27,"departments",23),t.NdJ("valueChanged",function(a){t.CHM(e);const _=t.oxw();return _.getDepartments(a),t.KtG(_.service.hasChanged.next(!0))}),t.qZA()()(),t.TgZ(28,"div",24)(29,"div",25),t._UZ(30,"team-tasks-statistics",26),t.qZA(),t.TgZ(31,"div",27),t._UZ(32,"team-tasks-statistics",28),t.qZA()()()}if(2&r){const e=t.MAs(16),s=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,16,"team_tasks")),t.xp6(4),t.Q6J("selectedUsers",s.service.assignee.value),t.xp6(4),t.Q6J("rangePicker",e),t.xp6(1),t.Q6J("ngModel",s.startDate),t.xp6(1),t.Q6J("ngModel",s.endDate),t.xp6(1),t.Q6J("for",e),t.xp6(5),t.hij(" ",t.lcZ(20,18,"cancel")," "),t.xp6(3),t.hij(" ",t.lcZ(23,20,"apply")," "),t.xp6(2),t.Q6J("selectedValue",s.priority),t.xp6(1),t.Q6J("selectedValue",s.type),t.xp6(1),t.Q6J("selectedValue",s.project),t.xp6(1),t.Q6J("selectedDepartment",s.departments),t.xp6(3),t.Q6J("data",null==s.data?null:s.data.combinedReportInbox)("filterData",s.filterData),t.xp6(2),t.Q6J("data",null==s.data?null:s.data.combinedReportSent)("filterData",s.filterData)}}function nt(r,k){if(1&r&&(t.TgZ(0,"div",29),t._UZ(1,"team-timing",30),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("data",null==e.data?null:e.data.teamTimingVM)}}function st(r,k){1&r&&t._UZ(0,"loading")}let S,it=document.dir;S="rtl"===it?"ar-EG":"en-GB";let lt=(()=>{class r{constructor(){this.service=(0,t.f3M)(d),this.startDate=new Date,this.endDate=new Date,this.assignees=[]}ngOnInit(){this.filterData=null,this.service.startDateFrom.subscribe(e=>{this.startDate=new Date(e)}),this.service.startDateTo.subscribe(e=>{this.endDate=new Date(e)}),this.service.inbox$.subscribe(e=>{this.data=e})}dateChanged(){this.service.startDateFrom.next(this.startDate),this.service.startDateTo.next(this.endDate),this.service.hasChanged.next(!0),this.getFilterData()}getAssinee(e){this.service.assignee.next(e),this.assignees=e,this.getFilterData()}getPriority(e){this.service.priority.next(e),this.priority=e,this.getFilterData()}getType(e){this.service.type.next(e),this.type=e,this.getFilterData()}getProject(e){this.service.project.next(e),this.project=e,this.getFilterData()}getDepartments(e){this.service.departments.next(e),this.departments=e,this.getFilterData()}getFilterData(){this.filterData={},void 0!==this.startDate&&(this.filterData.startDate=this.startDate),void 0!==this.endDate&&(this.filterData.endDate=this.endDate),void 0!==this.assignees&&(this.filterData.assignees=this.assignees),void 0!==this.priority&&(this.filterData.priority=this.priority),void 0!==this.type&&(this.filterData.type=this.type),void 0!==this.project&&(this.filterData.project=this.project),void 0!==this.departments&&(this.filterData.departments=this.departments),Object.keys(this.filterData).forEach(e=>{void 0===this.filterData[e]&&delete this.filterData[e]})}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=t.Xpm({type:r,selectors:[["manager-dashboard"]],standalone:!0,features:[t._Bn([{provide:I.Ad,useValue:S},{provide:I._A,useClass:w.t7,deps:[I.Ad,w.o8]},{provide:I.sG,useValue:w.$o}]),t.jDz],decls:13,vars:9,consts:[[1,"py-2","px-1"],[1,"dashboard","h-100"],["magicScroll","",1,"content","h-100","py-2"],[1,"relative","section"],["class","task-statistics  px-2",4,"ngIf"],["class","team-timing px-2",4,"ngIf"],[4,"ngIf"],[1,"task-statistics","px-2"],[1,"flex","aic","gap-x-3","mb-2"],[1,"filters","flex","aic","gap-x-2","flex-wrap"],[1,"pt-2"],["text","select_user",3,"selectedUsers","getSelectedUsers"],[1,"date_filter","w-22r"],["key","date_range"],[1,"flex","aic","relative","input","date-picker","pr-2",3,"click"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",1,"input",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",1,"input",3,"ngModel","ngModelChange"],["matSuffix","",1,"picker-icon",3,"for"],["rangePicker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply","",3,"click"],[3,"selectedValue","valueChanged"],[3,"selectedDepartment","valueChanged"],[1,"flex-grid"],[1,"col-lg-6","border-right"],["label","inbox_tasks",3,"data","filterData"],[1,"col-lg-6"],["label","sent_tasks",3,"data","filterData"],[1,"team-timing","px-2"],[3,"data"]],template:function(s,a){1&s&&(t._UZ(0,"user-navbar"),t.TgZ(1,"div",0)(2,"layout")(3,"div",1)(4,"div",2)(5,"div",3),t.YNc(6,at,33,22,"div",4),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"div",3),t.YNc(9,nt,2,1,"div",5),t.ALo(10,"async"),t.qZA()()(),t.YNc(11,st,1,0,"loading",6),t.ALo(12,"async"),t.qZA()()),2&s&&(t.xp6(6),t.Q6J("ngIf",a.data&&!t.lcZ(7,3,a.service.loading)),t.xp6(3),t.Q6J("ngIf",a.data&&!t.lcZ(10,5,a.service.loading)),t.xp6(2),t.Q6J("ngIf",t.lcZ(12,7,a.service.loading)))},dependencies:[u.ez,u.O5,u.Ov,C.$,x.aw,x.X$,h.o,f.h,B,V.N,R,Y.V,X.X,z.U,$.v,tt.S,N.ot,N.lW,y.FA,y.nW,y.wx,y.zY,y.By,y._g,y.M5,y.dp,y.DK,F.lN,F.R9,T.UX,T.Fj,T.JJ,T.u5,T.On,et.r],styles:["thead[_ngcontent-%COMP%]{position:unset!important}.relative.section[_ngcontent-%COMP%]{min-height:20rem}.picker-icon[_ngcontent-%COMP%]{position:absolute;inset-inline-end:0}.date-picker[_ngcontent-%COMP%]{padding:.8rem 1.5rem!important}.team-attendance[_ngcontent-%COMP%]{min-height:300px}"]})}}return r})()}}]);