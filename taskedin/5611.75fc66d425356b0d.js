"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[5611],{95611:(S,U,s)=>{s.r(U),s.d(U,{EmployeeComponent:()=>gt});var M=s(1428),T=s(74104),d=s(89515),p=s(96814),a=s(56223),A=s(20553),x=s(75411),C=s(1350),I=s(46540),w=s(9004),O=s(58964),e=s(65879),h=s(69323),k=s(63934),Z=s(99758),b=s(64190);function y(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"save")," "))}let j=(()=>{class n{constructor(t,i,o,r,_){this.service=t,this.userSer=i,this.alertSer=o,this.fb=r,this.route=_,this.spaceId=localStorage.getItem("space-id"),this.loading=!1,this.env=A.N.apiUrl,this.normalComponent=!0,this.dialogMode=!1,this.form=this.fb.group({name:["",a.kI.required],jobTitle:[""],email:[""],phoneNumber:["",[a.kI.required]],jobDescription:[""],departmentId:0,employeeCode:[""]})}ngOnInit(){this.route.snapshot.params.id&&(this.employeeId=this.route.snapshot.params.id),this.userSer.getUserProfile(this.employeeId).subscribe(t=>{this.user=t,t&&this.form.patchValue({name:t.name,jobTitle:t.jobTitle,email:t.email,phoneNumber:t.phoneNumber,jobDescription:t.jobDescription,departmentId:t.departmentId,managerId:t.managerId,employeeCode:t.employeeCode})})}submit(){this.loading=!0;let t={id:this.employeeId,...this.form.value};this.form.valid?this.service.updateUserProfile(t).subscribe(i=>{i.success&&this.normalComponent&&this.alertSer.showAlert("profile_updated")}):this.form.markAllAsTouched()}get f(){return this.form.controls}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(h.j),e.Y36(k.K),e.Y36(Z.c),e.Y36(a.qu),e.Y36(b.gz))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["basic-info"]],inputs:{employeeId:"employeeId",normalComponent:"normalComponent"},standalone:!0,features:[e.jDz],decls:64,vars:33,consts:[[1,"p-2"],[1,"flex-grid",3,"formGroup"],[1,"col-lg-3","mb-2"],[1,"name"],["for","name",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-text"],["id","name","type","text","formControlName","name",1,"input"],[3,"control"],[1,"jobTitle"],["for","jobTitle",1,"fs-11","simibold","mb-75"],["id","jobTitle","type","text","formControlName","jobTitle",1,"input"],[1,"email"],["for","email",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-envelope"],["id","email","type","text","formControlName","email",1,"input"],[1,"phone"],["for","phone",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-phone"],["id","phone","type","text","formControlName","phoneNumber","readonly","",1,"input"],[1,"mr-50","bx","bx-user"],["formControlName","managerId",3,"labelVisibilty","label"],[1,"mr-50","bx","bx-category"],[3,"width","formControlName","labelVisibilty","closeOnSelect","multiable"],["for","employeeCode",1,"fs-11","simibold","mb-75"],["id","employeeCode","type","text","formControlName","employeeCode",1,"input"],[1,"col-xl-12","mb-2"],["key","job_description",3,"control"],["formControlName","jobDescription","rows","4",1,"input","disabled-input"],["class","text-right",4,"ngIf"],[1,"text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-2","fs-14",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._UZ(5,"i",5),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e._UZ(9,"input",6)(10,"input-error",7),e.qZA()(),e.TgZ(11,"div",2)(12,"div",8)(13,"label",9),e._UZ(14,"i",5),e.TgZ(15,"span"),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e._UZ(18,"input",10),e.qZA()(),e.TgZ(19,"div",2)(20,"div",11)(21,"label",12),e._UZ(22,"i",13),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e._UZ(26,"input",14),e.qZA()(),e.TgZ(27,"div",2)(28,"div",15)(29,"label",16),e._UZ(30,"i",17),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e._UZ(34,"input",18)(35,"input-error",7),e.qZA()(),e.TgZ(36,"div",2)(37,"div",15)(38,"label",16),e._UZ(39,"i",19),e.TgZ(40,"span"),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e._UZ(43,"space-users-form",20),e.qZA()(),e.TgZ(44,"div",2)(45,"div",15)(46,"label",16),e._UZ(47,"i",21),e.TgZ(48,"span"),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e._UZ(51,"departments-form",22),e.qZA()(),e.TgZ(52,"div",2)(53,"div",15)(54,"label",23),e._UZ(55,"i",19),e.TgZ(56,"span"),e._uU(57),e.ALo(58,"translate"),e.qZA()(),e._UZ(59,"input",24),e.qZA()(),e.TgZ(60,"div",25),e._UZ(61,"input-label",26)(62,"textarea",27),e.qZA()(),e.YNc(63,y,4,3,"div",28),e.qZA()),2&i&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(6),e.Oqu(e.lcZ(8,19,"name")),e.xp6(3),e.Q6J("control",o.f.name),e.xp6(6),e.Oqu(e.lcZ(17,21,"job_title")),e.xp6(8),e.Oqu(e.lcZ(25,23,"email")),e.xp6(8),e.Oqu(e.lcZ(33,25,"phone")),e.xp6(3),e.Q6J("control",o.f.phoneNumber),e.xp6(6),e.Oqu(e.lcZ(42,27,"manager")),e.xp6(2),e.Q6J("labelVisibilty",!1)("label","manager"),e.xp6(6),e.Oqu(e.lcZ(50,29,"department")),e.xp6(2),e.Q6J("width","w-100")("formControlName","departmentId")("labelVisibilty",!1)("closeOnSelect",!0)("multiable",!1),e.xp6(6),e.Oqu(e.lcZ(58,31,"employee_code")),e.xp6(4),e.Q6J("control",o.f.jobDescription),e.xp6(2),e.Q6J("ngIf",o.normalComponent))},dependencies:[x.u,C.i,d.aw,d.X$,p.ez,p.O5,a.UX,a.Fj,a.JJ,a.JL,a.sg,a.u,I.o,w.D,O.w]})}}return n})();var m=s(53055),g=s(65668),u=s(57105),c=s(17700),f=s(9619);const N=["dialogTemplate"];function R(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",12)(2,"div",13)(3,"h4",14),e._UZ(4,"i",15),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"p",16),e._uU(9),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"div",12)(12,"div",13)(13,"h4",14),e._UZ(14,"i",17),e.TgZ(15,"span"),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"p",16),e._uU(19),e.ALo(20,"number"),e.qZA()()(),e.TgZ(21,"div",12)(22,"div",13)(23,"h4",14),e._UZ(24,"i",18),e.TgZ(25,"span"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"p",16),e._uU(29),e.ALo(30,"number"),e.qZA()()(),e.TgZ(31,"div",12)(32,"div",13)(33,"h4",14),e._UZ(34,"i",19),e.TgZ(35,"span"),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"p",16),e._uU(39),e.ALo(40,"number"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(6),e.Oqu(e.lcZ(7,8,"insurance_status")),e.xp6(3),e.Oqu(e.lcZ(10,10,"insured")),e.xp6(7),e.Oqu(e.lcZ(17,12,"insurance_salary")),e.xp6(3),e.Oqu(e.xi3(20,14,t.activeInsurance.insuranceSalary,"0.2-2")),e.xp6(7),e.Oqu(e.lcZ(27,17,"company_ratio")),e.xp6(3),e.Oqu(e.xi3(30,19,.1875*t.activeInsurance.insuranceSalary,"0.2-2")),e.xp6(7),e.Oqu(e.lcZ(37,22,"employee_ratio")),e.xp6(3),e.Oqu(e.xi3(40,24,.11*t.activeInsurance.insuranceSalary,"0.2-2"))}}function z(n,l){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,R,41,27,"ng-container",11),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.activeInsurance)}}function V(n,l){1&n&&(e.TgZ(0,"div",20),e._UZ(1,"loading"),e.qZA())}function G(n,l){1&n&&e._UZ(0,"i",31)}function K(n,l){1&n&&e._UZ(0,"i",32)}function X(n,l){if(1&n&&(e.TgZ(0,"tr",27)(1,"td",28),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",28),e._uU(6),e.ALo(7,"arabicDate"),e.qZA(),e.TgZ(8,"td",28),e.YNc(9,G,1,0,"i",29),e.YNc(10,K,1,0,"i",30),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.insuranceNumber),e.xp6(1),e.Gre("text-left ",t.isActive?"":"line-through",""),e.xp6(1),e.Oqu(t.insuranceSalary),e.xp6(2),e.Oqu(e.lcZ(7,8,t.creationDate)),e.xp6(3),e.Q6J("ngIf",t.isActive),e.xp6(1),e.Q6J("ngIf",!t.isActive)}}function H(n,l){if(1&n&&(e.TgZ(0,"div",21)(1,"table",22)(2,"thead")(3,"tr",23)(4,"th",24),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",24),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",24),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",24),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"tbody",25),e.YNc(17,X,11,10,"tr",26),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,5,"insurance_number")),e.xp6(3),e.Oqu(e.lcZ(9,7,"insurance_salary")),e.xp6(3),e.Oqu(e.lcZ(12,9,"date")),e.xp6(3),e.Oqu(e.lcZ(15,11,"status")),e.xp6(3),e.Q6J("ngForOf",t.insurances)}}function $(n,l){1&n&&(e.TgZ(0,"div",33),e._UZ(1,"not-found"),e.qZA())}function W(n,l){if(1&n&&(e.TgZ(0,"div",45)(1,"div",39),e._UZ(2,"input-label",46)(3,"input",47)(4,"input-error",42),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("control",t.f.insuranceNumber),e.xp6(2),e.Q6J("control",t.f.insuranceNumber)}}function ee(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"h4"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"i",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeDialog())}),e.qZA()(),e.TgZ(6,"mat-dialog-content")(7,"form",37)(8,"div",38)(9,"div")(10,"div",39),e._UZ(11,"input-label",40)(12,"input",41)(13,"input-error",42),e.qZA()(),e.YNc(14,W,5,2,"div",43),e.qZA()()(),e.TgZ(15,"mat-dialog-actions")(16,"div",44)(17,"a",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createInsurance())}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,9,"add_insurance")),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(2),e.Tol(t.insurances.length>0?"col-lg-12":"col-lg-6"),e.xp6(2),e.Q6J("control",t.f.insuranceSalary),e.xp6(2),e.Q6J("control",t.f.insuranceSalary),e.xp6(1),e.Q6J("ngIf",0==t.insurances.length),e.xp6(4),e.hij(" ",e.lcZ(19,11,"add_insurance")," ")}}let te=(()=>{class n{constructor(t,i,o,r,_){this.service=t,this.dialog=i,this.route=o,this.alert=r,this.fb=_,this.insurances=[],this.loading=!1,this.employeeId=this.route.snapshot.params.id}ngOnInit(){this.getInsurance(),this.form=this.fb.group({insuranceNumber:["",a.kI.required],insuranceSalary:["",a.kI.required],employeeId:[""]})}getInsurance(){this.loading=!0,this.service.getUserInshurance(this.employeeId).subscribe(t=>{if(this.loading=!1,t.success){this.insurances=t.data;const i=this.insurances.find(o=>o.isActive);console.log(i),i&&(this.activeInsurance=i)}})}openDialog(){this.form.reset(),this.dialog.open(this.dialogTemplate,{width:"500px"})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(t){throw new Error("Method not implemented.")}createInsurance(){this.form.patchValue({employeeId:this.employeeId}),this.form.valid||this.form.patchValue({insuranceNumber:this.activeInsurance.insuranceNumber}),this.form.valid?this.service.createUserInshurance(this.form.value).subscribe(t=>{t.success&&(this.alert.showAlert("insurance_created_success"),this.getInsurance(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(h.j),e.Y36(c.uw),e.Y36(b.gz),e.Y36(Z.c),e.Y36(a.qu))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["insurance"]],viewQuery:function(i,o){if(1&i&&e.Gf(N,5),2&i){let r;e.iGM(r=e.CRH())&&(o.dialogTemplate=r.first)}},standalone:!0,features:[e.jDz],decls:13,vars:7,consts:[[1,"py-1"],["class","flex-grid mx-0 px-50 mb-2 mt-2 border-bottom pb-3",4,"ngIf"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-12","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"flex-grid","mx-0","px-50","mb-2","mt-2","border-bottom","pb-3"],[4,"ngIf"],[1,"col-lg-3"],[1,"border","rounded","p-2"],[1,"fw-bold","dark"],[1,"bx","bx-check-shield","bold","mr-75"],[1,"gray","fs-16","pl-1"],[1,"bx","bx-money","bold","mr-75"],[1,"bx","bx-buildings","bold","mr-75"],[1,"bx","bx-user","bold","mr-75"],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],["class","bx bx-check-circle fs-18 success",4,"ngIf"],["class","bx bx-x-circle fs-18 danger",4,"ngIf"],[1,"bx","bx-check-circle","fs-18","success"],[1,"bx","bx-x-circle","fs-18","danger"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"name"],["key","insurance_salary",3,"control"],["type","text","formControlName","insuranceSalary",1,"input"],[3,"control"],["class","col-lg-6",4,"ngIf"],[1,"text-right","w-100"],[1,"col-lg-6"],["key","insurance_number",3,"control"],["type","text","formControlName","insuranceNumber",1,"input"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,z,2,1,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"a",4),e.NdJ("click",function(){return o.openDialog()}),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",5),e.YNc(8,V,2,0,"div",6),e.YNc(9,H,18,13,"div",7),e.YNc(10,$,2,0,"div",8),e.qZA()(),e.YNc(11,ee,20,13,"ng-template",null,9,e.W1O)),2&i&&(e.xp6(1),e.Q6J("ngIf",o.activeInsurance&&!o.loading),e.xp6(4),e.hij(" ",e.lcZ(6,5,"add_insurance")," "),e.xp6(3),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.insurances.length>0&&!o.loading),e.xp6(1),e.Q6J("ngIf",0==o.insurances.length&&!o.loading))},dependencies:[p.ez,p.sg,p.O5,p.JJ,g.N,u.w,d.aw,d.X$,f.P,c.Is,c.xY,c.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,C.i,O.w],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var J=s(24971),ne=s(50690),P=s(64170),L=s(2032),D=s(23680),Y=s(38034),v=s(54807),oe=s(21498),Q=s(19300),ie=s(84076),q=s(69862),B=function(n){return n[n.Active=1]="Active",n[n.Pending=2]="Pending",n[n.Expired=3]="Expired",n[n.Suspended=4]="Suspended",n[n.Renewed=5]="Renewed",n[n.UnderReview=6]="UnderReview",n[n.Terminated=7]="Terminated",n}(B||{});const ae=["dialogTemplate"];function le(n,l){1&n&&(e.TgZ(0,"div",11),e._UZ(1,"loading"),e.qZA())}function se(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr",18)(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"arabicDate"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"arabicDate"),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td")(25,"div",19),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.openDialog(r))}),e._UZ(26,"img",20),e.qZA()()()}if(2&n){const t=l.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,9,i.typeOfContract[(null==t?null:t.typeOfContract)-1].name)),e.xp6(3),e.Oqu(e.lcZ(6,11,i.statusOfContract[(null==t?null:t.statusOfContract)-1].name)),e.xp6(3),e.Oqu(e.lcZ(9,13,null==t?null:t.startDate)),e.xp6(3),e.Oqu(null!=t&&t.endDate?e.lcZ(12,15,t.endDate):e.lcZ(13,17,"permanent")),e.xp6(4),e.Oqu(null==t?null:t.basicSalary),e.xp6(2),e.Oqu(null==t?null:t.allowance),e.xp6(2),e.Oqu((null==t?null:t.targetKPIBonus)||"-"),e.xp6(2),e.Oqu(null==t?null:t.deductions),e.xp6(2),e.Oqu(null==t?null:t.grossSalary)}}function re(n,l){if(1&n&&(e.TgZ(0,"div",12)(1,"table",13)(2,"thead")(3,"tr",14)(4,"th",15),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",15),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",15),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",15),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th",15),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"th",15),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"th",15),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"th",15),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"th",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"th"),e.qZA()(),e.TgZ(32,"tbody",16),e.YNc(33,se,27,19,"tr",17),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,10,"contract_type")),e.xp6(3),e.Oqu(e.lcZ(9,12,"status")),e.xp6(3),e.Oqu(e.lcZ(12,14,"start_date")),e.xp6(3),e.Oqu(e.lcZ(15,16,"end_date")),e.xp6(3),e.Oqu(e.lcZ(18,18,"basic_salary")),e.xp6(3),e.Oqu(e.lcZ(21,20,"total_of_allowance")),e.xp6(3),e.Oqu(e.lcZ(24,22,"target_kpi_bonus")),e.xp6(3),e.Oqu(e.lcZ(27,24,"Total_deductions")),e.xp6(3),e.Oqu(e.lcZ(30,26,"gross_salary")),e.xp6(4),e.Q6J("ngForOf",t.allContracts)}}function ce(n,l){1&n&&(e.TgZ(0,"div",21),e._UZ(1,"not-found"),e.qZA())}function de(n,l){1&n&&(e._uU(0),e.ALo(1,"translate"),e.ALo(2,"lowercase")),2&n&&e.hij(" ",e.lcZ(1,1,e.lcZ(2,3,l.item.name))," ")}function pe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"h4"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"i",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeDialog())}),e.qZA()(),e.TgZ(6,"mat-dialog-content")(7,"div",25)(8,"div",26)(9,"div",27),e._UZ(10,"input-label",28),e.TgZ(11,"ng-select",29),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.contractStatus=o)}),e.YNc(12,de,3,5,"ng-template",30),e.qZA()()()()(),e.TgZ(13,"mat-dialog-actions")(14,"div",31)(15,"a",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeContractStatus())}),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,5,"change_contract_status")),e.xp6(8),e.Q6J("items",t.contractStatusTypes)("ngModel",t.contractStatus)("clearSearchOnAdd",!0),e.xp6(5),e.hij(" ",e.lcZ(17,7,"save")," ")}}let me=(()=>{class n{constructor(t,i,o,r){this.service=t,this.dialog=i,this.route=o,this.alert=r,this.contractStatusTypes=(0,Q.q)(B),this.employeeId=this.route.snapshot.params.id,this.loading=!1,this.typeOfContract=(0,Q.q)(oe.A),this.statusOfContract=(0,Q.q)(ie.V)}ngOnInit(){this.getAllContracts()}getAllContracts(){const t={UserId:this.employeeId,search:this.searchValue};this.loading=!0,this.service.getUserContracts(t).subscribe(i=>{this.allContracts=i.data,this.loading=!1})}addContract(){this.dialog.open(ne.B,{width:"600px",panelClass:"visible-dialog-container",data:{employeeId:this.employeeId,editMode:!1}}).afterClosed().subscribe(i=>{!0===i&&this.getAllContracts()})}search(t){this.searchValue=t,this.getAllContracts()}openDialog(t){this.dialog.open(this.dialogTemplate,{width:"500px"}),this.contractId=t.id}changeContractStatus(){let t=(new q.LE).set("ContractId",this.contractId).set("status",this.contractStatus);this.service.changeContractStatus(t).subscribe(i=>{i.success&&(this.alert.showAlert("success"),this.getAllContracts(),this.closeDialog())})}closeDialog(){this.dialog.closeAll()}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(h.j),e.Y36(c.uw),e.Y36(b.gz),e.Y36(Z.c))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["contracts"]],viewQuery:function(i,o){if(1&i&&e.Gf(ae,5),2&i){let r;e.iGM(r=e.CRH())&&(o.dialogTemplate=r.first)}},standalone:!0,features:[e.jDz],decls:14,vars:7,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-3"],[3,"newSearch","valueChanged"],[1,"col-lg-3","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-2","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"img","pointer",3,"click"],["src","assets/images/icons/edit1.svg","alt","edit icon"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],[1,"flex-grid","gap-y-2"],[1,"col-lg-12"],[1,"name"],["key","status"],["bindLabel","name","bindValue","value","appendTo","body",3,"items","ngModel","clearSearchOnAdd","ngModelChange"],["ng-option-tmp","","ng-label-tmp",""],[1,"text-right","w-100"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"search",3),e.NdJ("valueChanged",function(_){return o.search(_)}),e.qZA()(),e.TgZ(4,"div",4)(5,"a",5),e.NdJ("click",function(){return o.addContract()}),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"div",6),e.YNc(9,le,2,0,"div",7),e.YNc(10,re,34,28,"div",8),e.YNc(11,ce,2,0,"div",9),e.qZA()(),e.YNc(12,pe,18,9,"ng-template",null,10,e.W1O)),2&i&&(e.xp6(3),e.Q6J("newSearch",!0),e.xp6(3),e.hij(" ",e.lcZ(7,5,"create_contract")," "),e.xp6(3),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",(null==o.allContracts?null:o.allContracts.length)>0&&!o.loading),e.xp6(1),e.Q6J("ngIf",0==(null==o.allContracts?null:o.allContracts.length)&&!o.loading))},dependencies:[P.lN,L.c,Y.FA,D.XK,x.u,C.i,d.aw,d.X$,v.A0,v.w9,v.ir,v.mR,a.u5,a.JJ,a.On,J.g,b.Bz,p.ez,p.sg,p.O5,p.i8,u.w,f.P,g.N,c.Is,c.xY,c.H8],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var ge=s(82376),E=s(70468);function ue(n,l){1&n&&e._UZ(0,"i",7)}function _e(n,l){1&n&&e._UZ(0,"filter-label",8),2&n&&e.Q6J("key","bank")}function fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ng-select",9),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.getBrances(o.id))}),e.qZA()}if(2&n){const t=e.oxw();e.Gre("",t.width," icon-input"),e.Q6J("items",t.allIBanks)("formControlName",t.formControlBank)("multiple",t.multiable)("closeOnSelect",t.closeOnSelect)}}function he(n,l){1&n&&e._UZ(0,"i",10)}function be(n,l){1&n&&e._UZ(0,"filter-label",8),2&n&&e.Q6J("key","bank_branch")}function xe(n,l){if(1&n&&e._UZ(0,"ng-select",11),2&n){const t=e.oxw();e.Gre("",t.width," icon-input"),e.Q6J("items",t.allIBrances)("formControlName",t.formControlBrache)("multiple",t.multiable)("closeOnSelect",t.closeOnSelect)}}let Ze=(()=>{class n{constructor(t){this.service=t,this.icon=!0,this.label="country",this.labelVisibilty=!0,this.width="w-100",this.multiable=!1,this.closeOnSelect=!0,this.formControlBank=null,this.formControlBrache=null,this.valueChanged=new e.vpe}ngOnInit(){this.getItems()}search(t){this.searchValue=t.term,this.getItems()}getItems(){this.service.getAllBanks().subscribe(i=>{this.allIBanks=i.data.items,this.totalItems=i.data.totalItems})}getBrances(t){this.service.getAllBankBranches(t).subscribe(i=>{this.allIBrances=i.data.items})}onChange(){this.valueChanged.emit(this.selectedDepartment)}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(h.j))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["banks"]],inputs:{icon:"icon",selectedDepartment:"selectedDepartment",label:"label",labelVisibilty:"labelVisibilty",width:"width",multiable:"multiable",closeOnSelect:"closeOnSelect",formControlBank:"formControlBank",formControlBrache:"formControlBrache"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[e._Bn([],[{provide:a.gN,useExisting:a.sg}]),e.jDz],decls:9,vars:6,consts:[[1,"flex-grid"],[1,"col-lg-6"],["class","fs-11 mr-50 bx bxs-bank",4,"ngIf"],[3,"key",4,"ngIf"],["bindLabel","bankName","bindValue","id","appendTo","body",3,"items","formControlName","class","multiple","closeOnSelect","change",4,"ngIf"],["class","fs-11 mr-50 bx buildings",4,"ngIf"],["bindLabel","branchName","bindValue","id","appendTo","body",3,"items","formControlName","class","multiple","closeOnSelect",4,"ngIf"],[1,"fs-11","mr-50","bx","bxs-bank"],[3,"key"],["bindLabel","bankName","bindValue","id","appendTo","body",3,"items","formControlName","multiple","closeOnSelect","change"],[1,"fs-11","mr-50","bx","buildings"],["bindLabel","branchName","bindValue","id","appendTo","body",3,"items","formControlName","multiple","closeOnSelect"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ue,1,0,"i",2),e.YNc(3,_e,1,1,"filter-label",3),e.YNc(4,fe,1,7,"ng-select",4),e.qZA(),e.TgZ(5,"div",1),e.YNc(6,he,1,0,"i",5),e.YNc(7,be,1,1,"filter-label",3),e.YNc(8,xe,1,7,"ng-select",6),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("ngIf",o.icon),e.xp6(1),e.Q6J("ngIf",o.labelVisibilty),e.xp6(1),e.Q6J("ngIf",o.formControlBank),e.xp6(2),e.Q6J("ngIf",o.icon),e.xp6(1),e.Q6J("ngIf",o.labelVisibilty),e.xp6(1),e.Q6J("ngIf",o.formControlBrache))},dependencies:[p.ez,p.O5,E.r,v.A0,v.w9,a.u5,a.JJ,d.aw,a.UX,a.u],encapsulation:2})}}return n})(),F=(()=>{class n{constructor(t,i,o,r,_){this.fb=t,this.service=i,this.data=o,this.dialogRef=r,this.alert=_}ngOnInit(){this.form=this.fb.group({id:0,countryId:["",a.kI.required],bankId:["",a.kI.required],accountNumber:["",a.kI.required],bankBranchId:["",a.kI.required],employeeId:this.data.employeeId})}onSubmit(){this.form.valid?(console.log(this.form.value),this.data.editMode?this.service.updateWorkInfo(this.form.value).subscribe(t=>{console.log(t),t.success?(this.dialogRef.close(!0),this.alert.showAlert("bank_account_updated_success")):this.alert.showAlert("error","bg-danger")}):this.service.createBankAccount(this.form.value).subscribe(t=>{console.log(t),t.success?(this.dialogRef.close(!0),this.alert.showAlert("bank_account_created_success")):this.alert.showAlert("error","bg-danger")})):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(a.qu),e.Y36(h.j),e.Y36(c.WI),e.Y36(c.so),e.Y36(Z.c))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["bank-account-form"]],standalone:!0,features:[e.jDz],decls:21,vars:12,consts:[[1,"p-2","dir"],[3,"formGroup"],[1,"flex-grid"],[1,"col-lg-4","mb-2"],[1,"country"],[3,"noReagon","col","formControlCountry"],[1,"col-lg-8","mb-2"],[1,"bank"],[3,"formControlBank","formControlBrache"],[1,"bank_account"],["for","bank_account",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-text"],["id","bank_account","type","text","formControlName","accountNumber",1,"input"],[1,"text-right"],["type","submit","mat-button","",1,"bg-primary","white","py-1","px-2","border-0","rounded","pointer",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"countries",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"banks",8),e.qZA()(),e.TgZ(9,"div",3)(10,"div",9)(11,"label",10),e._UZ(12,"i",11),e.TgZ(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e._UZ(16,"input",12),e.qZA()()(),e.TgZ(17,"div",13)(18,"button",14),e.NdJ("click",function(){return o.onSubmit()}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("noReagon",!0)("col","col-lg-12")("formControlCountry","countryId"),e.xp6(3),e.Q6J("formControlBank","bankId")("formControlBrache","bankBranchId"),e.xp6(6),e.Oqu(e.lcZ(15,8,"bank_account")),e.xp6(5),e.Oqu(e.lcZ(20,10,"create")))},dependencies:[P.lN,L.c,Y.FA,D.XK,x.u,d.aw,d.X$,v.A0,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,ge.O,Ze]})}}return n})();var ve=s(83318);function Ce(n,l){1&n&&(e.TgZ(0,"div",10),e._UZ(1,"loading"),e.qZA())}function Ae(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr",17)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"div",18)(11,"div",19),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.editbankAccount(r))}),e._UZ(12,"img",20),e.qZA(),e.TgZ(13,"i",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.deletebankAccount(r.id))}),e.qZA()()()()}if(2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.countryName),e.xp6(2),e.Oqu(t.bankName),e.xp6(2),e.Oqu(t.accountNumber),e.xp6(2),e.Oqu(t.bankBranchName)}}function Te(n,l){if(1&n&&(e.TgZ(0,"div",11)(1,"table",12)(2,"thead")(3,"tr",13)(4,"th",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",14),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",14),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",14),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"th"),e.qZA()(),e.TgZ(17,"tbody",15),e.YNc(18,Ae,14,4,"tr",16),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,5,"country")),e.xp6(3),e.Oqu(e.lcZ(9,7,"bank")),e.xp6(3),e.Oqu(e.lcZ(12,9,"account_number")),e.xp6(3),e.Oqu(e.lcZ(15,11,"branch")),e.xp6(4),e.Q6J("ngForOf",t.allBankAccounts)}}function ye(n,l){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"not-found"),e.qZA())}let Ie=(()=>{class n{constructor(t,i,o,r){this.service=t,this.dialog=i,this.route=o,this.alert=r,this.allBankAccounts=[],this.employeeId=this.route.snapshot.params.id}ngOnInit(){this.getAllbankAccount()}addbankAccount(){this.dialog.open(F,{width:"600px",panelClass:"visible-dialog-container",data:{employeeId:this.employeeId,editMode:!1}}).afterClosed().subscribe(i=>{!0===i&&this.getAllbankAccount()})}getAllbankAccount(){this.loading=!0;let t=new q.LE;this.searchValue&&(t=t.set("search",this.searchValue)),t=t.set("EmployeeId",this.employeeId),this.service.getAllBankAccounts(t).subscribe(i=>{this.allBankAccounts=i.data.items,this.loading=!1})}search(t){this.searchValue=t,this.getAllbankAccount()}editbankAccount(t){this.dialog.open(F,{width:"600px",panelClass:"visible-dialog-container",data:{bankAccount:t,editMode:!0}}).afterClosed().subscribe(o=>{!0===o&&this.getAllbankAccount()})}deletebankAccount(t){this.dialog.open(ve.v,{panelClass:"confirmation-dialog",autoFocus:!1,data:{message:"delete_bank_account",btn_name:"delete",classes:"bg-primary white"}}).afterClosed().subscribe(o=>{o&&this.service.deleteBankAccount(t).subscribe(r=>{r.success&&(this.alert.showAlert("bank_account_deleted_success"),this.getAllbankAccount())})})}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(h.j),e.Y36(c.uw),e.Y36(b.gz),e.Y36(Z.c))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["bank-accounts"]],standalone:!0,features:[e.jDz],decls:12,vars:7,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-3"],[3,"newSearch","valueChanged"],[1,"col-lg-3","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"d-flex","align-items-center","gap-2"],[1,"img","pointer",3,"click"],["src","assets/images/icons/edit1.svg","alt","edit icon"],[1,"bx","bx-trash","danger","fs-30","pointer",3,"click"],[1,"py-5","text-center"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"search",3),e.NdJ("valueChanged",function(_){return o.search(_)}),e.qZA()(),e.TgZ(4,"div",4)(5,"a",5),e.NdJ("click",function(){return o.addbankAccount()}),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"div",6),e.YNc(9,Ce,2,0,"div",7),e.YNc(10,Te,19,13,"div",8),e.YNc(11,ye,2,0,"div",9),e.qZA()()),2&i&&(e.xp6(3),e.Q6J("newSearch",!0),e.xp6(3),e.hij(" ",e.lcZ(7,5,"add_bank_account")," "),e.xp6(3),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.allBankAccounts.length>0&&!o.loading),e.xp6(1),e.Q6J("ngIf",0==o.allBankAccounts.length&&!o.loading))},dependencies:[P.lN,L.c,Y.FA,x.u,d.aw,d.X$,v.A0,a.u5,u.w,p.ez,p.sg,p.O5,J.g,g.N],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var Oe=s(53851);function Ue(n,l){1&n&&(e.TgZ(0,"div",10),e._UZ(1,"loading"),e.qZA())}function qe(n,l){1&n&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2,"-"),e.qZA(),e.TgZ(3,"td"),e._uU(4,"-"),e.qZA(),e.TgZ(5,"td"),e._uU(6,"-"),e.qZA(),e.TgZ(7,"td"),e._uU(8,"-"),e.qZA(),e.BQk())}function Me(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"div",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.leaveDialog(o))}),e._UZ(9,"img",20),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.accruals),e.xp6(2),e.Oqu(t.accruals-t.balance),e.xp6(2),e.Oqu(t.balance)}}function we(n,l){if(1&n&&(e.TgZ(0,"tr",17)(1,"td"),e._uU(2),e.qZA(),e.YNc(3,qe,9,0,"ng-container",18),e.YNc(4,Me,10,3,"ng-container",18),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.isPermission),e.xp6(1),e.Q6J("ngIf",!t.isPermission)}}function ke(n,l){if(1&n&&(e.TgZ(0,"div",11)(1,"table",12)(2,"thead")(3,"tr",13)(4,"th",14),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",14),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",14),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",14),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"th"),e.qZA()(),e.TgZ(17,"tbody",15),e.YNc(18,we,5,3,"tr",16),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,5,"leave_type")),e.xp6(3),e.Oqu(e.lcZ(9,7,"balance")),e.xp6(3),e.Oqu(e.lcZ(12,9,"used")),e.xp6(3),e.Oqu(e.lcZ(15,11,"remaining")),e.xp6(4),e.Q6J("ngForOf",t.alLeaves)}}function Ne(n,l){1&n&&(e.TgZ(0,"div",21),e._UZ(1,"not-found"),e.qZA())}const Je=function(){return["./employee"]};let Pe=(()=>{class n{constructor(t,i,o,r){this.service=t,this.dialog=i,this.route=o,this.alert=r,this.loading=!1,this.employeeId=this.route.snapshot.params.id}ngOnInit(){this.getAllLeaves()}getAllLeaves(){this.loading=!0,this.service.getUserLeaveTypes(this.employeeId).subscribe(t=>{this.alLeaves=t.data,this.loading=!1})}leaveDialog(t){this.dialog.open(Oe.C,{width:"600px",panelClass:"visible-dialog-container",data:{employeeId:this.employeeId,disableUser:!0,leaveData:t||null}}).afterClosed().subscribe(o=>{!0===o&&this.getAllLeaves()})}search(t){this.searchValue=t,this.getAllLeaves()}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(h.j),e.Y36(c.uw),e.Y36(b.gz),e.Y36(Z.c))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["leaves"]],standalone:!0,features:[e.jDz],decls:12,vars:9,consts:[[1,""],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-3"],[3,"newSearch","valueChanged"],[1,"col-lg-3","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-2","fs-14",3,"routerLink","click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[4,"ngIf"],[1,"img","pointer",3,"click"],["src","assets/images/icons/edit1.svg","alt","edit icon"],[1,"py-5","text-center"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"search",3),e.NdJ("valueChanged",function(_){return o.search(_)}),e.qZA()(),e.TgZ(4,"div",4)(5,"a",5),e.NdJ("click",function(){return o.leaveDialog()}),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"div",6),e.YNc(9,Ue,2,0,"div",7),e.YNc(10,ke,19,13,"div",8),e.YNc(11,Ne,2,0,"div",9),e.qZA()()),2&i&&(e.xp6(3),e.Q6J("newSearch",!0),e.xp6(2),e.Q6J("routerLink",e.DdM(8,Je)),e.xp6(1),e.hij(" ",e.lcZ(7,6,"add_leave")," "),e.xp6(3),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",(null==o.alLeaves?null:o.alLeaves.length)>0&&!o.loading),e.xp6(1),e.Q6J("ngIf",0==(null==o.alLeaves?null:o.alLeaves.length)&&!o.loading))},dependencies:[x.u,d.aw,d.X$,J.g,b.Bz,b.rH,p.ez,p.sg,p.O5,g.N,u.w],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var Le=s(39243);function Ye(n,l){1&n&&(e.TgZ(0,"div",5),e._UZ(1,"not-found"),e.qZA())}function Qe(n,l){1&n&&e._UZ(0,"loading")}function De(n,l){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"span",9),e._UZ(3,"i",10),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"a",11),e._UZ(7,"i",12),e.TgZ(8,"span"),e._uU(9),e.qZA()()()()),2&n){const t=l.$implicit,i=e.oxw(2);e.xp6(5),e.Oqu(t.typeName),e.xp6(1),e.s9C("href",i.imageUrl+t.filePath,e.LSH),e.xp6(3),e.Oqu(t.name)}}function Be(n,l){if(1&n&&(e.ynx(0),e.YNc(1,De,10,3,"div",6),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.files)}}function Ee(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createFile(""))}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"add_file")," "))}let Fe=(()=>{class n{constructor(t,i){this.dialog=t,this.service=i,this.spaceId=localStorage.getItem("space-id"),this.imageUrl=A.N.imageUrl+`Companies/${this.spaceId}/Attachments/`,this.loading=!1}ngOnInit(){this.getFiles()}getFiles(){let t=localStorage.getItem("selectedUser"),i=JSON.parse(t);this.selectedUser=i.id,this.service.getUserFiles(i.id).subscribe(o=>{this.files=o.data})}onFileChange(t){const i=t.target;i.files&&i.files.length>0&&(this.fileName=i.files[0].name)}createFile(t){this.dialog.open(Le.z,{width:"800px",data:t}).afterClosed().subscribe(o=>{o&&this.getFiles()})}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(c.uw),e.Y36(h.j))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["files"]],standalone:!0,features:[e.jDz],decls:6,vars:4,consts:[[1,"p-2","flex-column","jcsb"],[1,"flex-grid"],["class","w-100 py-5",4,"ngIf"],[4,"ngIf"],["class","text-right ",4,"ngIf"],[1,"w-100","py-5"],["class","col-lg-3 col-md-4 mb-2",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-4","mb-2"],[1,""],[1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-text"],["target","_blank",1,"fs-11","simibold","mb-75","btn","btn-block","gray","rounded","p-1","text-center","border",3,"href"],[1,"bx","bx-show","mr-1"],[1,"text-right"],[1,"fs-11","simibold","mb-75","btn","white","bg-primary","rounded","py-1","px-2","text-center",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ye,2,0,"div",2),e.YNc(3,Qe,1,0,"loading",3),e.YNc(4,Be,2,1,"ng-container",3),e.qZA(),e.YNc(5,Ee,4,3,"div",4),e.qZA()),2&i&&(e.xp6(2),e.Q6J("ngIf",!o.files&&!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.files&&!o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},dependencies:[d.aw,d.X$,p.ez,p.sg,p.O5,u.w,g.N],styles:[".p-2.flex-column.jcsb[_ngcontent-%COMP%]{position:relative}.add_btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;width:100%}"]})}}return n})();var Se=s(32801);function je(n,l){if(1&n&&e._UZ(0,"i"),2&n){const t=e.oxw();e.Gre("fs-11 mr-50 bx ",t.icon,"")}}function Re(n,l){if(1&n&&e._UZ(0,"filter-label",5),2&n){const t=e.oxw();e.Q6J("key",t.label)}}function ze(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ng-select",6),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChange())})("search",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.search(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedItem=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Gre("",t.width," icon-input"),e.Q6J("items",t.allItems)("formControlName",t.formControlName)("bindLabel","en"==t.language?"name":"nameAr")("multiple",t.multiable)("ngModel",t.selectedItem)("closeOnSelect",t.closeOnSelect)}}function Ve(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ng-select",7),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChange())})("search",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.search(o))})("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedItem=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Gre("",t.width," icon-input"),e.Q6J("items",t.allItems)("bindLabel","en"==t.language?"name":"nameAr")("multiple",t.multiable)("ngModel",t.selectedItem)("closeOnSelect",t.closeOnSelect)}}let Ge=(()=>{class n{constructor(t){this.service=t,this.label="rewards_types",this.labelVisibilty=!0,this.width="w-100",this.multiable=!1,this.closeOnSelect=!0,this.formControlName=null,this.valueChanged=new e.vpe,this.language=localStorage.getItem("language"),this.searchValue=""}ngOnInit(){this.getItems()}search(t){this.searchValue=t.term,this.getItems()}getItems(){let t=(new q.LE).set("limit",30);this.searchValue&&(t=t.set("search",this.searchValue)),this.service.getAllSalaryAffectsTypes(t).subscribe(i=>{this.allItems=i.data.items})}onChange(){this.valueChanged.emit(this.selectedItem)}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(h.j))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["all-reward-types"]],inputs:{icon:"icon",selectedItem:"selectedItem",label:"label",labelVisibilty:"labelVisibilty",width:"width",multiable:"multiable",closeOnSelect:"closeOnSelect",formControlName:"formControlName"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[e._Bn([],[{provide:a.gN,useExisting:a.sg}]),e.jDz],decls:5,vars:4,consts:[[1,""],[3,"class",4,"ngIf"],[3,"key",4,"ngIf"],["bindValue","id","appendTo","body",3,"items","formControlName","bindLabel","class","multiple","ngModel","closeOnSelect","change","search","ngModelChange",4,"ngIf"],["bindValue","id","appendTo","body",3,"items","bindLabel","class","multiple","ngModel","closeOnSelect","change","search","ngModelChange",4,"ngIf"],[3,"key"],["bindValue","id","appendTo","body",3,"items","formControlName","bindLabel","multiple","ngModel","closeOnSelect","change","search","ngModelChange"],["bindValue","id","appendTo","body",3,"items","bindLabel","multiple","ngModel","closeOnSelect","change","search","ngModelChange"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,je,1,3,"i",1),e.YNc(2,Re,1,1,"filter-label",2),e.YNc(3,ze,1,9,"ng-select",3),e.YNc(4,Ve,1,8,"ng-select",4),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",o.icon),e.xp6(1),e.Q6J("ngIf",o.labelVisibilty),e.xp6(1),e.Q6J("ngIf",o.formControlName),e.xp6(1),e.Q6J("ngIf",!o.formControlName))},dependencies:[p.ez,p.O5,E.r,v.A0,v.w9,a.u5,a.JJ,a.On,d.aw,a.UX,a.u],encapsulation:2})}}return n})();const Ke=["dialogTemplate"];function Xe(n,l){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"loading"),e.qZA())}function He(n,l){if(1&n&&(e.TgZ(0,"tr",16)(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e._uU(4),e.qZA(),e.TgZ(5,"td",17),e._uU(6),e.ALo(7,"arabicDate"),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.note),e.xp6(2),e.Oqu(t.amount),e.xp6(2),e.Oqu(e.lcZ(7,3,t.date))}}function $e(n,l){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th",13),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",13),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",13),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"tbody",14),e.YNc(14,He,8,5,"tr",15),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,4,"english_name")),e.xp6(3),e.Oqu(e.lcZ(9,6,"arabic_name")),e.xp6(3),e.Oqu(e.lcZ(12,8,"date")),e.xp6(3),e.Q6J("ngForOf",t.rewards)}}function We(n,l){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"not-found"),e.qZA())}function et(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"h4"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"i",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeDialog())}),e.qZA()(),e.TgZ(6,"mat-dialog-content")(7,"form",22)(8,"div",23)(9,"div",24)(10,"div",25),e._UZ(11,"input-label",26)(12,"input",27)(13,"input-error",28),e.qZA()(),e.TgZ(14,"div",24),e._UZ(15,"all-reward-types",29),e.qZA(),e.TgZ(16,"div",24)(17,"div",25),e._UZ(18,"input-label",30)(19,"input",31)(20,"input-error",28),e.qZA()()()()(),e.TgZ(21,"mat-dialog-actions")(22,"div",32)(23,"a",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createReward())}),e._uU(24),e.ALo(25,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,8,"add_reward")),e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("control",t.f.amount),e.xp6(2),e.Q6J("control",t.f.amount),e.xp6(2),e.Q6J("formControlName","typeId"),e.xp6(3),e.Q6J("control",t.f.note),e.xp6(2),e.Q6J("control",t.f.note),e.xp6(4),e.hij(" ",e.lcZ(25,10,"add_reward")," ")}}let tt=(()=>{class n{constructor(t,i,o,r,_,ut){this.datePipe=t,this.service=i,this.dialog=o,this.route=r,this.alert=_,this.fb=ut,this.rewards=[],this.loading=!1,this.employeeId=this.route.snapshot.params.id}ngOnInit(){this.getRewards(),this.form=this.fb.group({employeeId:[0],amount:[0,a.kI.required],note:["",a.kI.required],date:["",a.kI.required],typeId:["",a.kI.required]})}getRewards(){this.loading=!0;const t=(new q.LE).set("employeeId",this.employeeId);this.service.getAllSalaryAffectsEmployee(t).subscribe(i=>{this.loading=!1,i.success&&(this.rewards=i.data.items)})}openDialog(){this.form.reset(),this.dialog.open(this.dialogTemplate,{width:"500px"})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(t){throw new Error("Method not implemented.")}createReward(){this.form.patchValue({employeeId:this.employeeId,date:this.datePipe.transform(new Date,"yyyy-MM-dd")}),console.log(this.form.value),this.form.valid?this.service.createSalaryAffect(this.form.value).subscribe(t=>{t.success&&(this.alert.showAlert("success"),this.getRewards(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(p.uU),e.Y36(h.j),e.Y36(c.uw),e.Y36(b.gz),e.Y36(Z.c),e.Y36(a.qu))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["rewards"]],viewQuery:function(i,o){if(1&i&&e.Gf(Ke,5),2&i){let r;e.iGM(r=e.CRH())&&(o.dialogTemplate=r.first)}},standalone:!0,features:[e._Bn([p.uU]),e.jDz],decls:12,vars:6,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-12","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-lg-6"],[1,"name"],["key","amount",3,"control"],["type","number","formControlName","amount",1,"input"],[3,"control"],[3,"formControlName"],["key","note",3,"control"],["type","text","formControlName","note",1,"input"],[1,"text-right","w-100"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.NdJ("click",function(){return o.openDialog()}),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",4),e.YNc(7,Xe,2,0,"div",5),e.YNc(8,$e,15,10,"div",6),e.YNc(9,We,2,0,"div",7),e.qZA()(),e.YNc(10,et,26,12,"ng-template",null,8,e.W1O)),2&i&&(e.xp6(4),e.hij(" ",e.lcZ(5,4,"add_reward")," "),e.xp6(3),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.rewards.length>0&&!o.loading),e.xp6(1),e.Q6J("ngIf",0==o.rewards.length&&!o.loading))},dependencies:[p.ez,p.sg,p.O5,g.N,u.w,d.aw,d.X$,f.P,c.Is,c.xY,c.H8,a.u5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.UX,a.sg,a.u,C.i,O.w,Ge],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var nt=s(26112);function ot(n,l){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"app-img-title",6),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("userId",t.userId)("title",t.userData.name)("subTitle",t.userData.jobTitle)("imgSrc",t.userData.imageUrl)("imgSize",50)}}function it(n,l){1&n&&(e.ynx(0),e._UZ(1,"basic-info"),e.BQk())}function at(n,l){1&n&&(e.ynx(0),e._UZ(1,"personal-info"),e.BQk())}function lt(n,l){1&n&&(e.ynx(0),e._UZ(1,"insurance"),e.BQk())}function st(n,l){1&n&&(e.ynx(0),e._UZ(1,"contracts"),e.BQk())}function rt(n,l){1&n&&(e.ynx(0),e._UZ(1,"bank-accounts"),e.BQk())}function ct(n,l){1&n&&(e.ynx(0),e._UZ(1,"leaves"),e.BQk())}function dt(n,l){1&n&&(e.ynx(0),e._UZ(1,"files"),e.BQk())}function pt(n,l){1&n&&(e.ynx(0),e._UZ(1,"rewards"),e.BQk())}function mt(n,l){1&n&&(e.ynx(0),e._UZ(1,"kpis"),e.BQk())}let gt=(()=>{class n{constructor(t,i){this.service=t,this.route=i,this.activeTab=0,this.route.params.subscribe(o=>{this.userId=o.id})}ngOnInit(){this.userId&&this.getUserProfile()}getUserProfile(){this.service.getUserProfile(this.userId).subscribe(t=>{this.userData=t.data,localStorage.setItem("selectedUser",JSON.stringify({name:this.userData.name,id:this.userData.id}))})}onTabChange(t){this.activeTab=t.index}static{this.\u0275fac=function(i){return new(i||n)(e.Y36(h.j),e.Y36(b.gz))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["employee"]],standalone:!0,features:[e.jDz],decls:31,vars:37,consts:[[1,"overflow-y-auto","employee"],["class","py-1 px-2",4,"ngIf"],[3,"selectedTabChange"],[3,"label"],[4,"ngIf"],[1,"py-1","px-2"],[3,"userId","title","subTitle","imgSrc","imgSize"]],template:function(i,o){1&i&&(e.TgZ(0,"layout")(1,"div",0),e.YNc(2,ot,2,5,"div",1),e.TgZ(3,"mat-tab-group",2),e.NdJ("selectedTabChange",function(_){return o.onTabChange(_)}),e.TgZ(4,"mat-tab",3),e.ALo(5,"translate"),e.YNc(6,it,2,0,"ng-container",4),e.qZA(),e.TgZ(7,"mat-tab",3),e.ALo(8,"translate"),e.YNc(9,at,2,0,"ng-container",4),e.qZA(),e.TgZ(10,"mat-tab",3),e.ALo(11,"translate"),e.YNc(12,lt,2,0,"ng-container",4),e.qZA(),e.TgZ(13,"mat-tab",3),e.ALo(14,"translate"),e.YNc(15,st,2,0,"ng-container",4),e.qZA(),e.TgZ(16,"mat-tab",3),e.ALo(17,"translate"),e.YNc(18,rt,2,0,"ng-container",4),e.qZA(),e.TgZ(19,"mat-tab",3),e.ALo(20,"translate"),e.YNc(21,ct,2,0,"ng-container",4),e.qZA(),e.TgZ(22,"mat-tab",3),e.ALo(23,"translate"),e.YNc(24,dt,2,0,"ng-container",4),e.qZA(),e.TgZ(25,"mat-tab",3),e.ALo(26,"translate"),e.YNc(27,pt,2,0,"ng-container",4),e.qZA(),e.TgZ(28,"mat-tab",3),e.ALo(29,"translate"),e.YNc(30,mt,2,0,"ng-container",4),e.qZA()()()()),2&i&&(e.xp6(2),e.Q6J("ngIf",o.userData),e.xp6(2),e.Q6J("label",e.lcZ(5,19,"basic_info")),e.xp6(2),e.Q6J("ngIf",0===o.activeTab),e.xp6(1),e.Q6J("label",e.lcZ(8,21,"personal_info")),e.xp6(2),e.Q6J("ngIf",1===o.activeTab),e.xp6(1),e.Q6J("label",e.lcZ(11,23,"insurance")),e.xp6(2),e.Q6J("ngIf",2===o.activeTab),e.xp6(1),e.Q6J("label",e.lcZ(14,25,"contracts")),e.xp6(2),e.Q6J("ngIf",3===o.activeTab),e.xp6(1),e.Q6J("label",e.lcZ(17,27,"bank_accounts")),e.xp6(2),e.Q6J("ngIf",4===o.activeTab),e.xp6(1),e.Q6J("label",e.lcZ(20,29,"leaves")),e.xp6(2),e.Q6J("ngIf",5===o.activeTab),e.xp6(1),e.Q6J("label",e.lcZ(23,31,"files")),e.xp6(2),e.Q6J("ngIf",6===o.activeTab),e.xp6(1),e.Q6J("label",e.lcZ(26,33,"rewards")),e.xp6(2),e.Q6J("ngIf",8===o.activeTab),e.xp6(1),e.Q6J("label",e.lcZ(29,35,"kpis")),e.xp6(2),e.Q6J("ngIf",9===o.activeTab))},dependencies:[M.$,T.Nh,T.uX,T.SP,d.aw,d.X$,j,m.b,te,me,Ie,Pe,Fe,Se.G,p.ez,p.O5,tt,nt.u],styles:["[_nghost-%COMP%]     mat-form-field{width:100%}[_nghost-%COMP%]     mat-form-field .mdc-text-field{background:transparent;border:1px solid #e7e7e7;border-radius:4px;height:41px}[_nghost-%COMP%]     mat-form-field .mdc-text-field .mat-mdc-icon-button{top:-9px}[_nghost-%COMP%]     .mat-mdc-tab-labels{display:block}[_nghost-%COMP%]     .mat-mdc-tab-labels .mdc-tab{display:inline-block;letter-spacing:0!important}.overflow-y-auto[_ngcontent-%COMP%]{max-height:calc(100vh - 111px)!important;overflow-y:auto}"]})}}return n})()},39243:(S,U,s)=>{s.d(U,{x:()=>Z,z:()=>b});var M=s(75411),T=s(89515),d=s(56223),p=s(54807),a=s(2032),A=s(64170),x=s(38034),C=s(23680),I=s(17700),w=s(1649),O=s(73445),e=s(65879),h=s(69323),k=s(99758);const Z={parse:{dateInput:"YYYY/MM/DD"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"DD/MM/YYYY",monthYearA11yLabel:"MMMM YYYY"}};let b=(()=>{class y{constructor(m,g,u,c,f,N){this.fb=m,this.data=g,this.dialog=u,this.service=c,this.alert=f,this.dialogRef=N,this.ganders=[],this.form=this.fb.group({profileId:["",d.kI.required],fileTypeId:["",d.kI.required],name:["",d.kI.required],fileNum:["",d.kI.required],description:["",d.kI.required],issuingDate:["",d.kI.required],expireDate:["",d.kI.required],file:[""]})}ngOnInit(){this.getSpaceUsers(),this.defultSelectedUser(),this.getFilesType(),this.selectedFile=this.data.id}defultSelectedUser(){if(localStorage.getItem("selectedUser")){let m=localStorage.getItem("selectedUser"),g=JSON.parse(m);this.selectedUser=g.id,this.form.patchValue({profileId:this.selectedUser}),this.searchValue=this.selectedUser,this.getSpaceUsers()}}getFilesType(){this.service.getFilesType().subscribe(m=>{this.filesType=m.data})}getSpaceUsers(){this.service.getUsers({limit:30,search:this.searchValue}).subscribe(g=>{this.allusers=g.data.items,this.totalItems=g.data.totalItems})}usersSearch(m){this.searchValue=m.term,this.getSpaceUsers()}uploadImages(m){this.attachments=m}onSubmit(){if(this.form.valid){const m=new FormData;m.append("profileId",this.form.get("profileId")?.value),m.append("fileTypeId",this.form.get("fileTypeId")?.value),m.append("name",this.form.get("name")?.value),m.append("description",this.form.get("description")?.value),m.append("fileNum",this.form.get("fileNum")?.value);const g=this.formatDate(this.form.get("issuingDate")?.value),u=this.formatDate(this.form.get("expireDate")?.value);if(m.append("issuingDate",g),m.append("expireDate",u),this.attachments&&this.attachments.length>0)for(let c=0;c<this.attachments.length;c++)m.append("file",this.attachments[c],this.attachments[c].name);this.service.createFile(m).subscribe(c=>{c.success?(this.dialogRef.close(!0),this.alert.showAlert("file_created")):this.alert.showAlert(c.error)})}}formatDate(m){const g=new Date(m);let u=""+(g.getMonth()+1),c=""+g.getDate();const f=g.getFullYear();return u.length<2&&(u="0"+u),c.length<2&&(c="0"+c),[f,u,c].join("-")}close(){this.dialog.closeAll()}static{this.\u0275fac=function(g){return new(g||y)(e.Y36(d.qu),e.Y36(I.WI),e.Y36(I.uw),e.Y36(h.j),e.Y36(k.c),e.Y36(I.so))}}static{this.\u0275cmp=e.Xpm({type:y,selectors:[["create-file"]],standalone:!0,features:[e._Bn([{provide:C.Ad,useValue:"en-GB"},{provide:C._A,useClass:O.t7},{provide:C.sG,useValue:Z}]),e.jDz],decls:76,vars:30,consts:[[1,"p-2","dir"],[3,"formGroup"],[1,"flex-grid"],[1,"col-lg-4","mb-2"],[1,"employee"],["for","employee",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-user"],["formControlName","profileId","bindLabel","name","bindValue","id","appendTo","body",3,"items","multiple","closeOnSelect","search"],[1,"file_type"],["for","file_type",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-list-ul"],["formControlName","fileTypeId","bindLabel","nameAr","bindValue","id",3,"items"],[1,"file_name"],["for","file_name",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-file"],["id","file_name","type","text","formControlName","name",1,"input"],[1,"file_number"],["for","file_number",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-text"],["id","file_number","type","text","formControlName","fileNum",1,"input"],[1,"release_date"],["for","release_date",1,"fs-11","simibold","mb-75"],[1,"mr-50","bx","bx-calendar"],["matInput","","formControlName","issuingDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],[1,"expire_date"],["for","expire_date",1,"fs-11","simibold","mb-75"],["matInput","","formControlName","expireDate",3,"matDatepicker"],["picker2",""],[1,"col-lg-12","mb-2"],[1,"description"],["for","description",1,"fs-11","simibold","mb-75"],["id","description","formControlName","description",1,"input"],[3,"getAttachments"],[1,"text-right"],["type","submit",1,"btn","rounded","bg-primary","white","py-75","px-2","fs-14",3,"click"]],template:function(g,u){if(1&g&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._UZ(6,"i",6),e.TgZ(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"ng-select",7),e.NdJ("search",function(f){return u.usersSearch(f)}),e.qZA()()(),e.TgZ(11,"div",3)(12,"div",8)(13,"label",9),e._UZ(14,"i",10),e.TgZ(15,"span"),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e._UZ(18,"ng-select",11),e.qZA()(),e.TgZ(19,"div",3)(20,"div",12)(21,"label",13),e._UZ(22,"i",14),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e._UZ(26,"input",15),e.qZA()(),e.TgZ(27,"div",3)(28,"div",16)(29,"label",17),e._UZ(30,"i",18),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e._UZ(34,"input",19),e.qZA()(),e.TgZ(35,"div",3)(36,"div",20)(37,"label",21),e._UZ(38,"i",22),e.TgZ(39,"span"),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"mat-form-field"),e._UZ(43,"input",23),e.TgZ(44,"mat-hint"),e._uU(45,"MM/DD/YYYY"),e.qZA(),e._UZ(46,"mat-datepicker-toggle",24)(47,"mat-datepicker",null,25),e.qZA()()(),e.TgZ(49,"div",3)(50,"div",26)(51,"label",27),e._UZ(52,"i",22),e.TgZ(53,"span"),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.TgZ(56,"mat-form-field"),e._UZ(57,"input",28),e.TgZ(58,"mat-hint"),e._uU(59,"MM/DD/YYYY"),e.qZA(),e._UZ(60,"mat-datepicker-toggle",24)(61,"mat-datepicker",null,29),e.qZA()()(),e.TgZ(63,"div",30)(64,"div",31)(65,"label",32),e._UZ(66,"i",18),e.TgZ(67,"span"),e._uU(68),e.ALo(69,"translate"),e.qZA()(),e._UZ(70,"textarea",33),e.qZA()(),e.TgZ(71,"div",30)(72,"get-attachments",34),e.NdJ("getAttachments",function(f){return u.uploadImages(f)}),e.qZA()()(),e.TgZ(73,"div",35)(74,"button",36),e.NdJ("click",function(){return u.onSubmit()}),e._uU(75," \u062d\u0641\u0638 "),e.qZA()()()()),2&g){const c=e.MAs(48),f=e.MAs(62);e.xp6(1),e.Q6J("formGroup",u.form),e.xp6(7),e.Oqu(e.lcZ(9,16,"employee")),e.xp6(2),e.Q6J("items",u.allusers)("multiple",!1)("closeOnSelect",!0),e.xp6(6),e.Oqu(e.lcZ(17,18,"file_type")),e.xp6(2),e.Q6J("items",u.filesType),e.xp6(6),e.Oqu(e.lcZ(25,20,"file_name")),e.xp6(8),e.Oqu(e.lcZ(33,22,"file_number")),e.xp6(8),e.Oqu(e.lcZ(41,24,"release_date")),e.xp6(3),e.Q6J("matDatepicker",c),e.xp6(3),e.Q6J("for",c),e.xp6(8),e.Oqu(e.lcZ(55,26,"expire_date")),e.xp6(3),e.Q6J("matDatepicker",f),e.xp6(3),e.Q6J("for",f),e.xp6(8),e.Oqu(e.lcZ(69,28,"description"))}},dependencies:[A.lN,A.KE,A.bx,A.R9,a.c,a.Nt,x.FA,x.Mq,x.hl,x.nW,C.XK,M.u,T.aw,T.X$,p.A0,p.w9,d.u5,d._Y,d.Fj,d.JJ,d.JL,w.x,d.UX,d.sg,d.u],styles:["[_nghost-%COMP%]     mat-form-field{width:100%}[_nghost-%COMP%]     mat-form-field.mat-form-field-invalid .mdc-text-field{border:1px solid #EA5455}[_nghost-%COMP%]     mat-form-field .mdc-text-field{background:transparent!important;border:1px solid #e7e7e7;border-radius:4px;height:41px}[_nghost-%COMP%]     mat-form-field .mdc-text-field .mat-mdc-icon-button{top:-9px}"]})}}return y})()}}]);