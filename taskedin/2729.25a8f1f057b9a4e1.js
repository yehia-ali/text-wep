"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[2729],{831:(C,m,t)=>{t.r(m),t.d(m,{AttendanceComponent:()=>W});var e=t(65879),r=t(96814),p=t(54807),d=t(824),v=t(1428),u=t(56223),O=t(2032),T=t(11383),M=t(89515),Z=t(9619),i=t(38034),D=t(32296),P=t(23386),g=t(23680),h=t(73445),U=t(52341),x=t(71566),E=t(64170);function L(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"div",20),e._UZ(4,"img",30),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",31)(9,"p"),e._uU(10),e.ALo(11,"arabicTime"),e.qZA()()(),e.BQk()),2&n){const a=e.oxw().$implicit;e.xp6(6),e.Oqu(e.lcZ(7,2,"check-in")),e.xp6(4),e.Oqu(e.lcZ(11,4,a.date))}}function R(n,s){if(1&n&&(e.ynx(0),e.YNc(1,L,12,6,"ng-container",27),e.BQk()),2&n){const a=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==a.status)}}function I(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"div",20),e._UZ(4,"img",32),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",31)(9,"p"),e._uU(10),e.ALo(11,"arabicTime"),e.qZA()()(),e.BQk()),2&n){const a=e.oxw().$implicit;e.xp6(6),e.Oqu(e.lcZ(7,2,"check-out")),e.xp6(4),e.Oqu(e.lcZ(11,4,a.date))}}function B(n,s){if(1&n&&(e.ynx(0),e.YNc(1,I,12,6,"ng-container",27),e.BQk()),2&n){const a=s.$implicit;e.xp6(1),e.Q6J("ngIf",2==a.status)}}function K(n,s){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),e._UZ(4,"img",21),e.qZA(),e.TgZ(5,"p",22),e._uU(6),e.ALo(7,"arabicDate"),e.qZA()(),e.TgZ(8,"div",23)(9,"div",24),e.YNc(10,R,2,1,"ng-container",25),e.qZA(),e.TgZ(11,"div",26),e.YNc(12,B,2,1,"ng-container",25),e.qZA()()()()),2&n){const a=s.$implicit;e.xp6(6),e.Oqu(e.lcZ(7,3,a.date)),e.xp6(4),e.Q6J("ngForOf",a.userAttendanceDetails),e.xp6(2),e.Q6J("ngForOf",a.userAttendanceDetails)}}let f,y=document.dir;f="rtl"===y?"ar-EG":"en-GB";let W=(()=>{class n{constructor(a){this.service=a,this.pageInfoSer=(0,e.f3M)(U.Z),this.endDate=new Date,this.selectedUser=null,this.teamMembers$=this.service.getTeamMembers(),this.service.startDateFrom.subscribe(_=>this.startDate=_),this.service.startDateTo.subscribe(_=>this.endDate=_)}ngOnInit(){this.pageInfoSer.pageInfoEnum.next("Attendance"),this.getAttendanceRange()}getAttendanceRange(){this.service.getAttendanceRange().subscribe(a=>{this.attendanceRange=a})}dateChanged(){this.service.startDateFrom.next(this.startDate),this.service.startDateTo.next(this.endDate||new Date),this.getAttendanceRange()}userChanged(){this.service.selectedUser.next(this.selectedUser),this.getAttendanceRange()}ngOnDestroy(){this.pageInfoSer.pageInfoEnum.next("")}static{this.\u0275fac=function(_){return new(_||n)(e.Y36(x.v))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["attendance"]],standalone:!0,features:[e._Bn([{provide:g.Ad,useValue:f},{provide:g._A,useClass:h.t7,deps:[g.Ad,h.o8]},{provide:g.sG,useValue:h.$o}]),e.jDz],decls:30,vars:23,consts:[["magicScroll","",1,"attendance","p-2","h-100"],[1,"flex","aic","jcsb","mb-2"],[1,"overdue"],["bindLabel","name","bindValue","id","appendTo","body",1,"w-22r",3,"items","ngModel","multiple","closeOnSelect","ngModelChange"],[1,"flex","aic","jcfe",3,"click"],["appearance","fill",1,"example-form-field"],[1,"fs-15"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","End date",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["rangePicker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply","",3,"click"],[3,"statusChanged"],[1,"attendance-history","mt-2"],["class","attendance-history-card mb-2 p-2 rounded bg-gray",4,"ngFor","ngForOf"],[1,"attendance-history-card","mb-2","p-2","rounded","bg-gray"],[1,"flex","aic","jcc","w-100"],[1,"flex","aic","gap-x-2"],[1,"img"],["src","assets/images/icons/date.svg","width","25","alt","",1,"convert-image-color"],[1,"bold","date"],[1,"flex","aifs","jcc","w-100","gap-x-5"],[1,"check-ins"],[4,"ngFor","ngForOf"],[1,"check-outs"],[4,"ngIf"],[1,"flex","gap-x-5","attendance-label"],[1,"info","flex","aic","gap-x-1"],["src","assets/images/icons/Checkin.svg","alt",""],[1,"date"],["src","assets/images/icons/Checkout.svg","alt",""]],template:function(_,c){if(1&_){const A=e.EpF();e.TgZ(0,"layout")(1,"div",0)(2,"div",1)(3,"div",2)(4,"label"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"ng-select",3),e.NdJ("ngModelChange",function(o){return c.selectedUser=o})("ngModelChange",function(){return c.userChanged()}),e.ALo(8,"async"),e.qZA()(),e.TgZ(9,"div",4),e.NdJ("click",function(){e.CHM(A);const o=e.MAs(19);return e.KtG(o.open())}),e.TgZ(10,"mat-form-field",5)(11,"mat-label",6),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"mat-date-range-input",7)(15,"input",8),e.NdJ("ngModelChange",function(o){return c.startDate=o}),e.qZA(),e.TgZ(16,"input",9),e.NdJ("ngModelChange",function(o){return c.endDate=o}),e.qZA()(),e._UZ(17,"mat-datepicker-toggle",10),e.TgZ(18,"mat-date-range-picker",null,11)(20,"mat-date-range-picker-actions")(21,"button",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"button",13),e.NdJ("click",function(){return c.dateChanged()}),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()()(),e.TgZ(27,"attendance-card",14),e.NdJ("statusChanged",function(){return c.getAttendanceRange()}),e.qZA(),e.TgZ(28,"div",15),e.YNc(29,K,13,5,"div",16),e.qZA()()()}if(2&_){const A=e.MAs(19);e.xp6(5),e.Oqu(e.lcZ(6,13,"team_members")),e.xp6(2),e.Q6J("items",e.lcZ(8,15,c.teamMembers$))("ngModel",c.selectedUser)("multiple",!1)("closeOnSelect",!0),e.xp6(5),e.Oqu(e.lcZ(13,17,"date_range")),e.xp6(2),e.Q6J("rangePicker",A),e.xp6(1),e.Q6J("ngModel",c.startDate),e.xp6(1),e.Q6J("ngModel",c.endDate),e.xp6(1),e.Q6J("for",A),e.xp6(5),e.Oqu(e.lcZ(23,19,"cancel")),e.xp6(3),e.hij(" ",e.lcZ(26,21,"apply")," "),e.xp6(4),e.Q6J("ngForOf",c.attendanceRange)}},dependencies:[r.ez,r.sg,r.O5,r.Ov,g.XK,p.A0,p.w9,d.h,v.$,u.u5,u.Fj,u.JJ,u.On,O.c,E.KE,E.hX,E.R9,T.E,M.aw,M.X$,Z.P,i.FA,i.nW,i.wx,i.zY,i.By,i._g,i.M5,i.dp,i.DK,D.ot,D.lW,P.m],styles:[".attendance-label[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:1rem}.date[_ngcontent-%COMP%]{width:20rem}"]})}}return n})()},91687:(C,m,t)=>{t.d(m,{F:()=>p});var e=t(16321),r=t(74825);function p(d=0,v=e.z){return d<0&&(d=0),(0,r.H)(d,d,v)}}}]);