"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[8592],{23386:(v,m,n)=>{n.d(m,{m:()=>i});var t=n(65879),d=n(96814),e=n(89515),u=n(9619),c=n(91687),l=n(11383),o=n(71566),p=n(63934);function s(r,E){1&r&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"checked-in")))}function _(r,E){1&r&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"checked-out")))}function a(r,E){if(1&r&&(t.TgZ(0,"p",9),t._uU(1),t.ALo(2,"arabicDate"),t.qZA()),2&r){const g=t.oxw(2);t.xp6(1),t.hij(" ",t.xi3(2,1,g.lastAttendance.date,"long")," ")}}function h(r,E){if(1&r&&(t.TgZ(0,"div",11)(1,"div",5),t._UZ(2,"img",12),t.qZA(),t.TgZ(3,"div",7)(4,"p",8),t.YNc(5,s,3,3,"ng-container",13),t.YNc(6,_,3,3,"ng-container",13),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,a,3,4,"p",14),t.qZA()()),2&r){const g=t.oxw();t.xp6(5),t.Q6J("ngIf",1==g.lastAttendance.status),t.xp6(1),t.Q6J("ngIf",2==g.lastAttendance.status),t.xp6(1),t.hij(" ",t.lcZ(8,4,"on")," "),t.xp6(2),t.Q6J("ngIf",null==g.lastAttendance?null:g.lastAttendance.date)}}let i=(()=>{class r{constructor(g,f){this.service=g,this.userService=f,this.statusChanged=new t.vpe,this.clickable=!0,this.workingHours="00:00:00",this.totalShiftTime="00:00:00"}ngOnInit(){this.getLastAttendance(),this.userService.getMyProfile().subscribe(g=>{this.shiftStart=g.data.checkIn,this.shiftEnd=g.data.checkOut})}getLastAttendance(){this.service.getLastAttendance().subscribe(g=>{this.lastAttendance=g.data,this.clickable=!0,1==this.lastAttendance.status&&setTimeout(()=>{const f=new Date(this.lastAttendance.firstCheckIn),M=(new Date).getTime()-f.getTime();this.workingHours=this.msToTime(M)},1e3)})}check(g=1){navigator.geolocation&&navigator.geolocation.getCurrentPosition(f=>{this.clickable&&(this.clickable=!1,this.service.check({status:g,macAddress:null,latitude:f.coords.latitude,longitude:f.coords.longitude}).subscribe(()=>{this.getLastAttendance(),this.statusChanged.emit()}))})}msToTime(g){let f=Math.floor(g/1e3%60),D=Math.floor(g/6e4%60),M=Math.floor(g/36e5%24);(0,c.F)(1e3).subscribe(()=>{f++,f>=60&&(f=0,D++),D>=60&&(D=0,M++),this.workingHours=`${M<10?"0"+(M-3):M-3}:${D<10?"0"+D:D}:${f<10?"0"+f:f}`,this.totalShiftTime=`${M<10?"0"+(M-3):M-3}:${D<10?"0"+D:D}:${f<10?"0"+f:f}`})}static{this.\u0275fac=function(f){return new(f||r)(t.Y36(o.v),t.Y36(p.K))}}static{this.\u0275cmp=t.Xpm({type:r,selectors:[["attendance-card"]],outputs:{statusChanged:"statusChanged"},standalone:!0,features:[t.jDz],decls:17,vars:10,consts:[[1,"attendance-card","w-100","bg-gray","flex-column","jcc","p-1"],[1,"flex","aic","jcsb"],[1,"flex","aic","jcsb","w-100"],[1,"flex-grid","w-100"],[1,"flex","aic","mb-50","col-lg-5"],[1,"img","mr-1"],["src","assets/images/icons/shift-icon.svg","width","25","alt","",1,"icon","convert-image-color"],[1,"end"],[1,"fs-11","bold"],[1,"fs-15"],["class","flex aic col-lg-7",4,"ngIf"],[1,"flex","aic","col-lg-7"],["src","assets/images/icons/date.svg","width","25","alt","",1,"icon","convert-image-color"],[4,"ngIf"],["class","fs-15",4,"ngIf"]],template:function(f,D){1&f&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.qZA(),t.TgZ(7,"div",7)(8,"p",8),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"p",9),t._uU(12),t.ALo(13,"arabicTime"),t.ALo(14,"arabicTime"),t.qZA()()(),t._uU(15,"\\ "),t.YNc(16,h,10,6,"div",10),t.qZA()()()()),2&f&&(t.xp6(9),t.Oqu(t.lcZ(10,4,"working_shift")),t.xp6(3),t.AsE(" ",t.lcZ(13,6,D.shiftStart)," - ",t.lcZ(14,8,D.shiftEnd)," "),t.xp6(4),t.Q6J("ngIf",D.lastAttendance.status))},dependencies:[d.ez,d.O5,e.aw,e.X$,u.P,l.E],styles:[".attendance-card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 1px 0 1px #0000000a}.icon[_ngcontent-%COMP%]{filter:invert(39%) sepia(4%) saturate(0%) hue-rotate(187deg) brightness(90%) contrast(90%)}"]})}}return r})()},57368:(v,m,n)=>{n.d(m,{p:()=>i});var t=n(65879),d=n(96814),e=n(89515),u=n(17700),c=n(1350),l=n(56223),o=n(58964),p=n(32296),s=n(17857),_=n(82458),a=n(99758),h=n(49388);let i=(()=>{class r{constructor(g,f,D){this.fb=g,this.dialog=f,this.alert=D,this.service=(0,t.f3M)(s.s),this.loading=!1,this.form=this.fb.group({code:["",l.kI.required]})}join(){this.loading=!0,this.service.joinSpace(this.form.value.code).subscribe(g=>{g.success?(this.alert.showAlert("joined_space"),this.service.getSpaces().subscribe(),this.dialog.closeAll()):this.loading=!1})}static{this.\u0275fac=function(f){return new(f||r)(t.Y36(l.qu),t.Y36(u.uw),t.Y36(a.c))}}static{this.\u0275cmp=t.Xpm({type:r,selectors:[["join-space"]],standalone:!0,features:[t.jDz],decls:15,vars:11,consts:[["dir","auto",1,"join-space"],["mat-dialog-content",""],[3,"formGroup"],["key","code",3,"control"],["type","text","formControlName","code",1,"input"],[3,"control"],["mat-dialog-actions","","align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",1,"px-3",3,"disabled","click"],["text","join",3,"loading"]],template:function(f,D){1&f&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",1)(5,"form",2),t._UZ(6,"input-label",3)(7,"input",4)(8,"input-error",5),t.qZA()(),t.TgZ(9,"div",6)(10,"button",7),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return D.join()}),t._UZ(14,"submit-button",9),t.qZA()()()),2&f&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"join_space")),t.xp6(3),t.Q6J("formGroup",D.form),t.xp6(1),t.Q6J("control",D.form.controls.code),t.xp6(2),t.Q6J("control",D.form.controls.code),t.xp6(3),t.Oqu(t.lcZ(12,9,"cancel")),t.xp6(2),t.Q6J("disabled",D.form.invalid||D.loading),t.xp6(1),t.Q6J("loading",D.loading))},dependencies:[d.ez,e.aw,e.X$,u.Is,u.ZT,u.xY,u.H8,h.Lv,c.i,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,o.w,p.ot,p.lW,_.w],encapsulation:2})}}return r})()},84458:(v,m,n)=>{n.d(m,{P:()=>s});var t=n(96814),d=n(49388),e=n(56223),u=n(32296),c=n(17700),l=n(89515),o=n(65879);const p=function(_){return{"bg-danger":_}};let s=(()=>{class _{constructor(){this.reason=""}static{this.\u0275fac=function(i){return new(i||_)}}static{this.\u0275cmp=o.Xpm({type:_,selectors:[["leaves-reject-reason"]],standalone:!0,features:[o.jDz],decls:17,vars:18,consts:[["dir","auto",1,"rejection-reason"],["mat-dialog-content","",1,"reason"],["rows","4",1,"input",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],[1,"flex","w-100"],["mat-raised-button","","mat-dialog-close","",1,"flex-auto","dark-color","clickable-btn","rounded","cancel-btn"],["mat-raised-button","",1,"flex-auto","rounded",3,"mat-dialog-close","ngClass","disabled"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"h3"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",1)(5,"label"),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"textarea",2),o.NdJ("ngModelChange",function(g){return r.reason=g}),o.qZA()(),o.TgZ(9,"div",3)(10,"div",4)(11,"button",5),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"button",6),o._uU(15),o.ALo(16,"translate"),o.qZA()()()()),2&i&&(o.xp6(2),o.Oqu(o.lcZ(3,8,"reject_leaves_request")),o.xp6(4),o.Oqu(o.lcZ(7,10,"reason_of_rejection")),o.xp6(2),o.Q6J("ngModel",r.reason),o.xp6(4),o.hij("",o.lcZ(13,12,"cancel")," "),o.xp6(2),o.Q6J("mat-dialog-close",r.reason)("ngClass",o.VKq(16,p,r.reason))("disabled",!r.reason),o.xp6(1),o.hij("",o.lcZ(16,14,"reject")," "))},dependencies:[t.ez,t.mk,d.vT,d.Lv,e.u5,e.Fj,e.JJ,e.On,u.ot,u.lW,c.Is,c.ZT,c.xY,c.H8,l.aw,l.X$],encapsulation:2})}}return _})()},82677:(v,m,n)=>{n.d(m,{Q:()=>h});var t=n(65879),d=n(96814),e=n(17700),u=n(32296),c=n(89515),l=n(1350),o=n(9512),p=n(56223),s=n(64190),_=n(58964),a=n(49388);let h=(()=>{class i{constructor(E){this.fb=E,this.meetingSer=(0,t.f3M)(o.D),this.router=(0,t.f3M)(s.F0),this.dialog=(0,t.f3M)(e.uw),this.form=this.fb.group({name:["",p.kI.required]})}submit(){this.form.valid?(this.meetingSer.meetingName$.next(this.form.value.name),this.router.navigate(["/meeting/meet"]),this.dialog.closeAll()):this.form.markAllAsTouched()}static{this.\u0275fac=function(g){return new(g||i)(t.Y36(p.qu))}}static{this.\u0275cmp=t.Xpm({type:i,selectors:[["meeting-dialog"]],standalone:!0,features:[t.jDz],decls:17,vars:13,consts:[["dir","auto",1,"meeting-message"],["mat-dialog-content",""],[3,"formGroup"],["key","meeting_name",3,"control"],["type","text","formControlName","name",1,"input"],[3,"control"],["mat-dialog-actions",""],[1,"flex","aic","w-100","gap-x-1"],["mat-raised-button","",1,"flex-auto","w-100","dark-color","clickable-btn","rounded","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","",1,"flex-auto","rounded","w-100","bg-primary","white",3,"click"]],template:function(g,f){1&g&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",1)(5,"form",2),t._UZ(6,"input-label",3)(7,"input",4)(8,"input-error",5),t.qZA()(),t.TgZ(9,"div",6)(10,"div",7)(11,"button",8),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){return f.submit()}),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()),2&g&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"new_meet")),t.xp6(3),t.Q6J("formGroup",f.form),t.xp6(1),t.Q6J("control",f.form.controls.name),t.xp6(2),t.Q6J("control",f.form.controls.name),t.xp6(3),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.Oqu(t.lcZ(13,9,"cancel")),t.xp6(3),t.Oqu(t.lcZ(16,11,"start_meeting")))},dependencies:[d.ez,e.Is,e.ZT,e.xY,e.H8,a.Lv,u.ot,u.lW,c.aw,c.X$,l.i,p.u5,p._Y,p.Fj,p.JJ,p.JL,p.UX,p.sg,p.u,_.w]})}}return i})()},68012:(v,m,n)=>{n.d(m,{c:()=>c});var t=n(96814),d=n(9619),e=n(11383),u=n(65879);let c=(()=>{class l{constructor(){this.date=new Date}ngOnInit(){setInterval(()=>{this.date=new Date},1e3)}static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275cmp=u.Xpm({type:l,selectors:[["time-card"]],standalone:!0,features:[u.jDz],decls:9,vars:8,consts:[[1,"card","flex","aic"],[1,"fs-16"],[1,"mx-50"]],template:function(s,_){1&s&&(u.TgZ(0,"div",0)(1,"h3",1),u._uU(2),u.ALo(3,"arabicTime"),u.qZA(),u.TgZ(4,"p",2),u._uU(5,"."),u.qZA(),u.TgZ(6,"h3",1),u._uU(7),u.ALo(8,"arabicDate"),u.qZA()()),2&s&&(u.xp6(2),u.Oqu(u.xi3(3,2,_.date,!1)),u.xp6(5),u.hij(" ",u.xi3(8,5,_.date,"navbarCard"),""))},dependencies:[t.ez,d.P,e.E],encapsulation:2})}}return l})()},99481:(v,m,n)=>{n.d(m,{M:()=>s});var t=n(96814),d=n(89515),e=n(65879);function u(_,a){1&_&&(e.TgZ(0,"span")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&_&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"project_open")))}function c(_,a){1&_&&(e.TgZ(0,"span")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&_&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"hold")))}function l(_,a){1&_&&(e.TgZ(0,"span")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&_&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"project_completed")))}function o(_,a){1&_&&(e.TgZ(0,"span")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&_&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"project_closed")))}const p=function(_,a,h,i){return{"chip-light-danger":_,"chip-light-primary":a,"chip-light-success":h,"chip-light-canceled":i}};let s=(()=>{class _{constructor(){this.classes=""}static{this.\u0275fac=function(i){return new(i||_)}}static{this.\u0275cmp=e.Xpm({type:_,selectors:[["project-status"]],inputs:{state:"state",classes:"classes"},standalone:!0,features:[e.jDz],decls:5,vars:13,consts:[[3,"ngClass"],[4,"ngIf"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e.YNc(1,u,4,3,"span",1),e.YNc(2,c,4,3,"span",1),e.YNc(3,l,4,3,"span",1),e.YNc(4,o,4,3,"span",1),e.qZA()),2&i&&(e.Gre("chip rounded fs-13 text-center ",r.classes,""),e.Q6J("ngClass",e.l5B(8,p,4==r.state,1==r.state,3==r.state,2==r.state)),e.xp6(1),e.Q6J("ngIf",1==r.state),e.xp6(1),e.Q6J("ngIf",2==r.state),e.xp6(1),e.Q6J("ngIf",3==r.state),e.xp6(1),e.Q6J("ngIf",4==r.state))},dependencies:[t.ez,t.mk,t.O5,d.aw,d.X$],encapsulation:2})}}return _})()},43228:(v,m,n)=>{n.d(m,{P:()=>_});var t=n(96814),d=n(89515),e=n(65879);function u(a,h){1&a&&(e.ynx(0),e._uU(1," - "),e.BQk())}function c(a,h){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"daily")))}function l(a,h){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"weekly")))}function o(a,h){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"monthly")))}function p(a,h){1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"yearly")))}function s(a,h){if(1&a&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"p",4),e.YNc(5,c,3,3,"span",0),e.YNc(6,l,3,3,"span",0),e.YNc(7,o,3,3,"span",0),e.YNc(8,p,3,3,"span",0),e.qZA()(),e.BQk()),2&a){const i=e.oxw();e.xp6(5),e.Q6J("ngIf",1==i.repeatedPeriod),e.xp6(1),e.Q6J("ngIf",2==i.repeatedPeriod),e.xp6(1),e.Q6J("ngIf",3==i.repeatedPeriod),e.xp6(1),e.Q6J("ngIf",4==i.repeatedPeriod)}}let _=(()=>{class a{static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["repetition"]],inputs:{isRepeated:"isRepeated",repeatedPeriod:"repeatedPeriod"},standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[[4,"ngIf"],[1,"flex","aic","jcc"],[1,"img","mr-75"],["alt","repeat","src","assets/images/icons/repeat.svg"],[1,"fs-14"]],template:function(r,E){1&r&&(e.YNc(0,u,2,0,"ng-container",0),e.YNc(1,s,9,4,"ng-container",0)),2&r&&(e.Q6J("ngIf",!E.isRepeated),e.xp6(1),e.Q6J("ngIf",E.isRepeated))},dependencies:[t.ez,t.O5,d.aw,d.X$],encapsulation:2})}}return a})()},13249:(v,m,n)=>{n.d(m,{v:()=>p});var t=n(65879),d=n(96814),e=n(6311),u=n(89515),c=n(49388);const l=function(s){return{active:s}};function o(s,_){if(1&s){const a=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const r=t.CHM(a).$implicit,E=t.oxw();return t.KtG(E.sort(r.value))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&s){const a=_.$implicit,h=t.oxw();t.Q6J("ngClass",t.VKq(4,l,h.selectedValue==a.value)),t.xp6(1),t.Oqu(t.lcZ(2,2,a.name))}}let p=(()=>{class s{constructor(){this.sortChanged=new t.vpe,this.selectedValue=0,this.dir=document.dir,this.types=[{name:"most_recent",value:0},{name:"start_date",value:1},{name:"priority",value:2},{name:"remaining_time",value:3}]}sort(a){this.selectedValue=a,this.sortChanged.emit(this.selectedValue)}static{this.\u0275fac=function(h){return new(h||s)}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["task-vote-sort"]],inputs:{selectedValue:"selectedValue"},outputs:{sortChanged:"sortChanged"},standalone:!0,features:[t.jDz],decls:6,vars:3,consts:[[1,"sort",3,"dir"],[1,"img","pointer",3,"matMenuTriggerFor"],["src","assets/images/icons/sort.svg","alt","",1,"convert-image-color"],[1,"sort-menu"],["menu","matMenu"],["mat-menu-item","",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"ngClass","click"]],template:function(h,i){if(1&h&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"mat-menu",3,4),t.YNc(5,o,3,6,"button",5),t.qZA()()),2&h){const r=t.MAs(4);t.Q6J("dir",i.dir),t.xp6(1),t.Q6J("matMenuTriggerFor",r),t.xp6(4),t.Q6J("ngForOf",i.types)}},dependencies:[d.ez,d.mk,d.sg,e.Tx,e.VK,c.Lv,e.OP,e.p6,u.aw,u.X$],encapsulation:2})}}return s})()},83628:(v,m,n)=>{n.d(m,{I:()=>s});var t=n(65879),d=n(20553),e=n(17700),u=n(96814),c=n(6311),l=n(45843),o=n(89515);function p(_,a){1&_&&t._UZ(0,"i",8)}let s=(()=>{class _{constructor(h){this.dialog=h,this.imageUrl=d.N.imageUrl,this.dim=160,this.updateable=!0,this.file=new t.vpe}ngOnInit(){}change(h){this.file.emit(h.target.files[0])}updateImage(){document.getElementById("img-input").click()}static{this.\u0275fac=function(i){return new(i||_)(t.Y36(e.uw))}}static{this.\u0275cmp=t.Xpm({type:_,selectors:[["upload-image"]],inputs:{img:"img",imageUrl:"imageUrl",dim:"dim",updateable:"updateable"},outputs:{file:"file"},decls:10,vars:9,consts:[[1,"img","mb-2",3,"matMenuTriggerFor"],[1,"relative","pointer","inline-block"],[1,"pointer",3,"img","imageUrl","dim"],["class","bx bxs-pencil rounded-50 flex-center",4,"ngIf"],["type","file","id","img-input","hidden","","accept","image/*",3,"change"],[3,"xPosition"],["settingsMenu",""],["mat-menu-item","",3,"click"],[1,"bx","bxs-pencil","rounded-50","flex-center"]],template:function(i,r){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"user-image",2),t.YNc(3,p,1,0,"i",3),t.qZA(),t.TgZ(4,"input",4),t.NdJ("change",function(g){return r.change(g)}),t.qZA()(),t.TgZ(5,"mat-menu",5,6)(7,"menu",7),t.NdJ("click",function(){return r.updateImage()}),t._uU(8),t.ALo(9,"translate"),t.qZA()()),2&i){const E=t.MAs(6);t.Q6J("matMenuTriggerFor",r.updateable?E:null),t.xp6(2),t.Q6J("img",r.img)("imageUrl",r.imageUrl)("dim",r.dim),t.xp6(1),t.Q6J("ngIf",r.updateable),t.xp6(2),t.Q6J("xPosition","after"),t.xp6(3),t.Oqu(t.lcZ(9,7,"update_image"))}},dependencies:[u.O5,c.VK,c.OP,c.p6,l.l,o.X$],styles:[".img[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;bottom:7px;inset-inline-end:15px;font-size:18px;height:25px;width:25px;background-color:#7b58ca;color:#fff}"]})}}return _})()},83318:(v,m,n)=>{n.d(m,{v:()=>l});var t=n(96814),d=n(89515),e=n(17700),u=n(32296),c=n(65879);let l=(()=>{class o{constructor(s){this.data=s}static{this.\u0275fac=function(_){return new(_||o)(c.Y36(e.WI))}}static{this.\u0275cmp=c.Xpm({type:o,selectors:[["confirmation-message"]],standalone:!0,features:[c.jDz],decls:12,vars:14,consts:[[1,"confirmation-message"],[1,"text-center","fs-17","pt-50","pb-1","px-2"],["mat-dialog-actions","",1,"mt-50"],[1,"flex","aic","w-100","gap-x-1"],["mat-raised-button","",1,"flex-auto","w-100","dark-color","clickable-btn","rounded","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","",3,"mat-dialog-close"]],template:function(_,a){1&_&&(c.TgZ(0,"div",0)(1,"h4",1),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",2)(5,"div",3)(6,"button",4),c._uU(7),c.ALo(8,"translate"),c.qZA(),c.TgZ(9,"button",5),c._uU(10),c.ALo(11,"translate"),c.qZA()()()()),2&_&&(c.xp6(2),c.hij(" ",c.lcZ(3,8,a.data.message)," "),c.xp6(4),c.Q6J("mat-dialog-close",!1),c.xp6(1),c.Oqu(c.lcZ(8,10,"cancel")),c.xp6(2),c.Gre("flex-auto rounded w-100 ",a.data.classes,""),c.Q6J("mat-dialog-close",!0),c.xp6(1),c.Oqu(c.lcZ(11,12,a.data.btn_name)))},dependencies:[t.ez,d.aw,d.X$,e.Is,e.ZT,e.H8,u.ot,u.lW],encapsulation:2})}}return o})()},86421:(v,m,n)=>{n.d(m,{b:()=>_});var t=n(65879),d=n(96814),e=n(89515),u=n(16676);const l=["yearFilterContainer"];function o(a,h){if(1&a&&(t.TgZ(0,"label",8),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a){const i=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,i.label))}}function p(a,h){if(1&a){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){const g=t.CHM(i).$implicit,f=t.oxw(2);return t.KtG(f.selectYear(g))}),t._uU(1),t.qZA()}if(2&a){const i=h.$implicit,r=t.oxw(2);t.ekj("selected",i===r.selectedYear)("disabled",i<r.minYear||i>r.maxYear),t.Q6J("disabled",i<r.minYear||i>r.maxYear),t.xp6(1),t.hij(" ",i," ")}}function s(a,h){if(1&a){const i=t.EpF();t.TgZ(0,"div",9),t.NdJ("click",function(E){return E.stopPropagation()}),t.TgZ(1,"div",10)(2,"button",11),t.NdJ("click",function(){t.CHM(i);const E=t.oxw();return t.KtG(E.previousDecade())}),t._UZ(3,"i",12),t.qZA(),t.TgZ(4,"span",13),t._uU(5),t.qZA(),t.TgZ(6,"button",11),t.NdJ("click",function(){t.CHM(i);const E=t.oxw();return t.KtG(E.nextDecade())}),t._UZ(7,"i",14),t.qZA()(),t.TgZ(8,"div",15),t.YNc(9,p,2,6,"button",16),t.qZA()()}if(2&a){const i=t.oxw();t.xp6(2),t.Q6J("disabled",i.currentDecadeStart<=i.minYear),t.xp6(3),t.AsE("",i.currentDecadeStart," - ",i.currentDecadeEnd,""),t.xp6(1),t.Q6J("disabled",i.currentDecadeEnd>=i.maxYear),t.xp6(3),t.Q6J("ngForOf",i.yearsInDecade)}}let _=(()=>{class a{constructor(){this.onChange=new t.vpe,this.selectedYear=(new Date).getFullYear(),this.isDropdownOpen=!1,this.yearsInDecade=[],this.minYear=1900,this.maxYear=2100,this.currentDecadeStart=10*Math.floor(this.selectedYear/10),this.currentDecadeEnd=this.currentDecadeStart+9,this.generateYearsInDecade()}ngOnInit(){this.selectedDate&&this.selectedDate.subscribe(i=>{if(i){let r;r="string"==typeof i?parseInt(i,10):"number"==typeof i?i:u(i).year(),isNaN(r)||(this.selectedYear=r,this.currentDecadeStart=10*Math.floor(r/10),this.currentDecadeEnd=this.currentDecadeStart+9,this.generateYearsInDecade())}}),this.min&&(this.minYear=this.min.getFullYear()),this.max&&(this.maxYear=this.max.getFullYear()),document.addEventListener("click",i=>{this.isDropdownOpen&&this.yearFilterContainer&&!this.yearFilterContainer.nativeElement.contains(i.target)&&(this.isDropdownOpen=!1)})}toggleDropdown(i){i&&i.stopPropagation(),this.isDropdownOpen=!this.isDropdownOpen}previousDecade(){this.currentDecadeStart-=10,this.currentDecadeEnd-=10,this.generateYearsInDecade()}nextDecade(){this.currentDecadeStart+=10,this.currentDecadeEnd+=10,this.generateYearsInDecade()}generateYearsInDecade(){this.yearsInDecade=[];for(let i=0;i<10;i++)this.yearsInDecade.push(this.currentDecadeStart+i)}selectYear(i){this.selectedYear=i,this.isDropdownOpen=!1,this.updateYearRange(i)}getDisplayYear(){return this.selectedYear}updateYearRange(i){this.start_date_key&&this.start_date_key.next(`${i}-01-01`),this.end_date_key&&this.end_date_key.next(`${i}-12-31`),this.onChange.emit(i)}static{this.\u0275fac=function(r){return new(r||a)}}static{this.\u0275cmp=t.Xpm({type:a,selectors:[["year-filter"]],viewQuery:function(r,E){if(1&r&&t.Gf(l,7),2&r){let g;t.iGM(g=t.CRH())&&(E.yearFilterContainer=g.first)}},inputs:{start_date_key:"start_date_key",end_date_key:"end_date_key",selectedDate:"selectedDate",max:"max",min:"min",classes:"classes",label:"label",showLabel:"showLabel"},outputs:{onChange:"onChange"},standalone:!0,features:[t.jDz],decls:9,vars:5,consts:[["class","fs-11 bold",4,"ngIf"],[1,"year-filter-container"],["yearFilterContainer",""],[1,"year-filter-button",3,"click"],[1,"year-display"],[1,"calendar-icon"],["src","assets/images/icons/calendar-icon-2.svg","alt","calendar"],["class","year-dropdown",3,"click",4,"ngIf"],[1,"fs-11","bold"],[1,"year-dropdown",3,"click"],[1,"dropdown-header"],[1,"nav-btn",3,"disabled","click"],[1,"bx","bx-chevron-left"],[1,"decade-range"],[1,"bx","bx-chevron-right"],[1,"years-grid"],["class","year-option",3,"selected","disabled","click",4,"ngFor","ngForOf"],[1,"year-option",3,"disabled","click"]],template:function(r,E){1&r&&(t.YNc(0,o,3,3,"label",0),t.TgZ(1,"div",1,2)(3,"div",3),t.NdJ("click",function(f){return E.toggleDropdown(f)}),t.TgZ(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5),t._UZ(7,"img",6),t.qZA()(),t.YNc(8,s,10,5,"div",7),t.qZA()),2&r&&(t.Q6J("ngIf",E.showLabel),t.xp6(1),t.Tol(E.classes),t.xp6(4),t.hij(" ",E.getDisplayYear()," "),t.xp6(3),t.Q6J("ngIf",E.isDropdownOpen))},dependencies:[d.ez,d.sg,d.O5,e.aw,e.X$],styles:[".year-filter-container[_ngcontent-%COMP%]{position:relative}.year-filter-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px;background-color:#fff;border:.5px solid var(--divder, rgba(0, 0, 0, .15));border-radius:8px;cursor:pointer;transition:all .2s ease;min-height:32px}.year-filter-button[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;border-color:#d0d0d0;box-shadow:0 2px 6px #00000026}.year-display[_ngcontent-%COMP%]{color:#495057;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:16px;font-weight:500;flex:1;text-align:start}.calendar-icon[_ngcontent-%COMP%]{color:#6c757d;display:flex;align-items:center;justify-content:center;flex-shrink:0}.year-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:white;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 8px 24px #00000026;z-index:1000;margin-top:4px;min-width:200px}.dropdown-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid #e0e0e0}.nav-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:4px;border-radius:4px;color:#6c757d;transition:all .2s ease}.nav-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f8f9fa;color:#495057}.nav-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.decade-range[_ngcontent-%COMP%]{font-weight:500;color:#495057;font-size:14px}.years-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:4px;padding:12px}.year-option[_ngcontent-%COMP%]{background:none;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;color:#495057;transition:all .2s ease;text-align:center}.year-option[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#7b58ca;color:#fff}.year-option.selected[_ngcontent-%COMP%]{background-color:#7b58ca;color:#fff}.year-option.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}"]})}}return a})()},35282:(v,m,n)=>{n.d(m,{P:()=>l});var t=n(65879),d=n(96814);function e(o,p){if(1&o){const s=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.changeType("text"))}),t._UZ(1,"i",3),t.qZA()}}function u(o,p){if(1&o){const s=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(s);const a=t.oxw();return t.KtG(a.changeType("password"))}),t._UZ(1,"i",4),t.qZA()}}const c=["*"];let l=(()=>{class o{constructor(){this.type="password",this.getType=new t.vpe}changeType(s){this.type=s,this.getType.emit(s)}static{this.\u0275fac=function(_){return new(_||o)}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["input-password"]],outputs:{getType:"getType"},standalone:!0,features:[t.jDz],ngContentSelectors:c,decls:4,vars:2,consts:[[1,"password","relative"],["class","icon border-left h-100 flex-center pointer",3,"click",4,"ngIf"],[1,"icon","border-left","h-100","flex-center","pointer",3,"click"],[1,"bx","bx-hide","fs-18"],[1,"bx","bx-show","fs-18"]],template:function(_,a){1&_&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.YNc(2,e,2,0,"div",1),t.YNc(3,u,2,0,"div",1),t.qZA()),2&_&&(t.xp6(2),t.Q6J("ngIf","password"==a.type),t.xp6(1),t.Q6J("ngIf","text"==a.type))},dependencies:[d.ez,d.O5],styles:[".icon[_ngcontent-%COMP%]{position:absolute;inset-inline-end:0;top:50%;transform:translateY(-50%);padding-inline:15px}"]})}}return o})()},9619:(v,m,n)=>{n.d(m,{P:()=>d});var t=n(65879);let d=(()=>{class e{constructor(){this.lang=localStorage.getItem("language"),this.utcOffset=(new Date).getTimezoneOffset()}transform(c,l="",o=!0){o||(this.utcOffset=null);const p=new Date(new Date(c).getTime()).setMinutes(new Date(c).getMinutes()-this.utcOffset)||new Date;let s;return s="long"==l?{weekday:"long",year:"numeric",month:"long",day:"numeric",hour12:!0}:"weekDay"==l?{weekday:"short"}:"dayNumber"==l?{day:"numeric"}:"short"==l?{year:"numeric",month:"long"}:"withTime"==l?{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}:"time"==l?{hour:"2-digit",minute:"numeric",hour12:!0}:"typicalDate"==l?{day:"numeric",month:"numeric",year:"numeric"}:"navbarCard"==l?{day:"numeric",month:"long",weekday:"short"}:"month"==l?{day:"numeric",month:"long"}:{day:"numeric",month:"long",year:"numeric",hour12:!0},"ar"==this.lang?new Intl.DateTimeFormat("ar-Eg",s).format(p):new Intl.DateTimeFormat("en-GB",s).format(p)}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275pipe=t.Yjl({name:"arabicDate",type:e,pure:!0,standalone:!0})}}return e})()},11383:(v,m,n)=>{n.d(m,{E:()=>d});var t=n(65879);let d=(()=>{class e{constructor(){this.lang=localStorage.getItem("language"),this.utcOffset=(new Date).getTimezoneOffset()}transform(c,l=!0){l||(this.utcOffset=null);const o=new Date(new Date(c).getTime()).setMinutes(new Date(c).getMinutes()-this.utcOffset)||new Date;let p;return p={hour:"numeric",minute:"numeric",hour12:!0},"ar"==this.lang?new Intl.DateTimeFormat("ar-Eg",p).format(o):new Intl.DateTimeFormat("en-US",p).format(o)}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275pipe=t.Yjl({name:"arabicTime",type:e,pure:!0,standalone:!0})}}return e})()},50387:(v,m,n)=>{n.d(m,{u:()=>d});var t=n(65879);let d=(()=>{class e{transform(c){if(null==c)return"";let l=Math.floor(c),o=Math.round(60*(c-l));return l<10&&(l="0"+l),o<10&&(o="0"+o),`${l}:${o}`}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275pipe=t.Yjl({name:"convertToTime",type:e,pure:!0,standalone:!0})}}return e})()},71566:(v,m,n)=>{n.d(m,{v:()=>o});var t=n(65619),d=n(37398),e=n(20553),u=n(38826),c=n(65879),l=n(69862);let o=(()=>{class p{constructor(_){this.http=_,this.startDateFrom=new t.X(this.getFirstDayOfMonth((new Date).getFullYear(),(new Date).getMonth())),this.startDateTo=new t.X(new Date),this.startDateFromValue="",this.startDateToValue="",this.userId=localStorage.getItem("id"),this.selectedUser=new t.X(null),this.selectedUserValue=null,this.startDateFrom.subscribe(a=>this.startDateFromValue=a),this.startDateTo.subscribe(a=>this.startDateToValue=a),this.selectedUser.subscribe(a=>this.selectedUserValue=a)}getFirstDayOfMonth(_,a){return new Date(_,a,1)}getLastAttendance(){return this.http.get(`${e.N.apiUrl}api/Attendance/GetTodayAttendance`)}check(_){return this.http.post(`${e.N.apiUrl}api/Attendance/Create`,_)}getAttendanceRange(){return this.http.get(`${e.N.apiUrl}api/Attendance/GetUserAttendance?dateFrom=${(0,u.r)(this.startDateFromValue)||""}&dateTo=${(0,u.r)(this.startDateToValue)||""}&userId=${this.selectedUserValue||this.userId}`).pipe((0,d.U)(_=>_.data.items))}getTeamMembers(){return this.http.get(`${e.N.apiUrl}api/Space/GetSpaceUserProfiles?managers=${this.userId}&isActive=true`).pipe((0,d.U)(_=>_.data.items))}static{this.\u0275fac=function(a){return new(a||p)(c.LFG(l.eN))}}static{this.\u0275prov=c.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},58048:(v,m,n)=>{n.d(m,{_:()=>l});var t=n(20553),d=n(65619),e=n(37398),u=n(65879),c=n(69862);let l=(()=>{class o{constructor(s){this.http=s,this.departments=new d.X([])}getDepartments(){return this.http.get(`${t.N.apiUrl}api/Department/GetSpaceDepartements`).pipe((0,e.U)(s=>{let _=s.data.items;return this.departments.next(_),_}))}addDepartment(s){return this.http.post(`${t.N.apiUrl}api/Department/Create`,s)}editDepartment(s){return this.http.put(`${t.N.apiUrl}api/Department/Update`,s)}static{this.\u0275fac=function(_){return new(_||o)(u.LFG(c.eN))}}static{this.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},11e3:(v,m,n)=>{n.d(m,{g:()=>c});var t=n(20553),d=n(65619),e=n(65879),u=n(69862);let c=(()=>{class l{constructor(p){this.http=p,this.phone=new d.X(""),this.code=new d.X(""),this.token=new d.X("")}phoneNumber(p){return this.http.put(`${t.N.coreBase}/api/Authentication/ForgetPassword`,p)}verifyPhone(p){return this.http.post(`${t.N.coreBase}/api/Authentication/verifyGeneratedPassword`,{phoneNumber:this.phone.value,code:p})}resetPassword(p){return this.http.put(`${t.N.coreBase}/api/Authentication/UnAuthorizedChangePassword`,{phoneNumber:this.phone.value,code:this.code.value,password:p,resetPasswordToken:this.token.value})}static{this.\u0275fac=function(s){return new(s||l)(e.LFG(u.eN))}}static{this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},98052:(v,m,n)=>{n.d(m,{Q:()=>c});var t=n(20553),d=n(37398),e=n(65879),u=n(69862);let c=(()=>{class l{constructor(p){this.http=p}getMySpaces(){return this.http.get(`${t.N.coreBase}/api/TenantSpace/GetMySpaces`).pipe((0,d.U)(p=>(this.currentSpace=p.data.items.find(s=>!0===s.isCurrent),this.currentSpace)))}getCurrentSpace(){return this.currentSpace}static{this.\u0275fac=function(s){return new(s||l)(e.LFG(u.eN))}}static{this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},89378:(v,m,n)=>{n.d(m,{l:()=>d});var t=n(65879);let d=(()=>{class e{constructor(){}setPhone(c){this.phone=c}getPhone(){return this.phone||null}setEmail(c){this.email=c}getEmail(){return this.email||null}static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},17476:(v,m,n)=>{n.d(m,{f:()=>l});var t=n(20553),d=n(65619),e=n(37398),u=n(65879),c=n(69862);let l=(()=>{class o{constructor(s){this.http=s,this.taskedinSuperAdmin=new d.X(!1),this.canAccessAdmin=new d.X(!1),this.isSuperAdmin=new d.X(!1),this.isAdmin=new d.X(!1),this.isManager=new d.X(!1),this.isEmployeesKPI=new d.X(!1),this.isKPIRater=new d.X(!1),this.isKPIBankAdmin=new d.X(!1),this.rolesLoaded$=new d.X(!1)}getRoles(){return this.http.get(`${t.N.apiUrl}api/ProfileRole/GetMyRolesPermissions`).pipe((0,e.U)(s=>{let _=!!s.data?.SpaceAdmin||!!s.data?.Admin,a=!!s.data?.SpaceManager,h=!!s.data?.SpaceSuperAdmin,i=!!s.data?.EmployeesKPI,r=!!s.data?.KPIRater,E=!!s.data?.KPIBankAdmin;return a&&this.isManager.next(!0),i&&this.isEmployeesKPI.next(!0),r&&this.isKPIRater.next(!0),E&&this.isKPIBankAdmin.next(!0),_&&this.isAdmin.next(!0),h&&this.isSuperAdmin.next(!0),(h||_)&&this.canAccessAdmin.next(!0),this.rolesLoaded$.next(!0),s}))}isTaskedinSuperAdmin(){return this.http.get(`${t.N.coreBase}/api/Authentication/isSuperAdmin`).pipe((0,e.U)(s=>{let _=s.data.isSuperAdmin;return _&&(this.taskedinSuperAdmin.next(!0),this.canAccessAdmin.next(!0)),_}))}getUserRoles(){const s=[];return this.isAdmin.value&&s.push("admin"),this.isSuperAdmin.value&&s.push("super-admin"),this.canAccessAdmin.value&&s.push("can-access-admin"),this.isManager.value&&s.push("manager"),this.isEmployeesKPI.value&&s.push("kpi-employee"),this.isKPIRater.value&&s.push("kpi-rater"),this.isKPIBankAdmin.value&&s.push("kpi-admin"),this.taskedinSuperAdmin.value&&s.push("taskedin-super-admin"),s}static{this.\u0275fac=function(_){return new(_||o)(u.LFG(c.eN))}}static{this.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},17857:(v,m,n)=>{n.d(m,{s:()=>l});var t=n(65619),d=n(37398),e=n(69862),u=n(20553),c=n(65879);let l=(()=>{class o{constructor(s){this.http=s,this.spaces$=new t.X([]),this.currentSpace=new t.X({}),this.spaceConfiguration$=new t.X({})}getSpaces(){return this.http.get(`${u.N.coreBase}/api/TenantSpace/GetMySpaces`).pipe((0,d.U)(s=>{let _=localStorage.getItem("space-id"),a=localStorage.getItem("chat-id"),h=s.data.items;return this.spaces$.next(h),h.map(i=>{i.spaceId==_&&(a||localStorage.setItem("chat-id",i.chatId),this.currentSpace.next(i))}),s.data.items}))}getSpaceConfiguration(){return this.http.get(`${u.N.apiUrl}api/SpaceConfigration/Get`).pipe((0,d.U)(s=>(this.spaceConfiguration$.next(s.data),s)))}updateSpaceConfiguration(s){return this.http.post(`${u.N.apiUrl}api/Space/ConfigureSpace`,s).pipe((0,d.U)(_=>(_.success&&this.getSpaceConfiguration().subscribe(),_)))}joinSpace(s){return this.http.post(`${u.N.coreBase}/api/Authentication/MainJoinSpace`,{managerCode:s})}switchSpace(s){return this.http.get(`${u.N.coreBase}/api/TenantSpace/SetCurrentSpace`,{headers:(new e.WM).set("space-id",s)})}getUsers(s){return this.http.get(`${u.N.coreBase}/api/Authentication/GetOTPCodes`,{params:s})}static{this.\u0275fac=function(_){return new(_||o)(c.LFG(e.eN))}}static{this.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},46962:(v,m,n)=>{n.d(m,{i:()=>_});var t=n(34673),d=n(20553),e=n(83620),u=n(94664),c=n(37398),l=n(24708),o=n(66830),p=n(65879),s=n(69862);let _=(()=>{class a extends t.q{constructor(i){super(),this.http=i,this.cc$=this.hasChanged.pipe((0,e.b)(400),(0,u.w)(()=>this.getSentTasksAsAReporter().pipe((0,c.U)(r=>r))))}getSentTasksAsAReporter(){this.loading.next(!0);const i=new URL(`${d.N.apiUrl}api/TaskGroupReporters/GetMyTaskGroups?isCollapsed=true`);return this.params(i),this.http.get(`${i}`).pipe((0,c.U)(r=>{this.loading.next(!1);let E=r.data.items,g=(new Date).getTime();return E.forEach(f=>{let D=(0,l.u)(f.endDate).getTime();f.isOverDue=D-g<0,(0,o.x)(f,f.expectedTime)}),this.setMeta(r),r.data.items}))}static{this.\u0275fac=function(r){return new(r||a)(p.LFG(s.eN))}}static{this.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},22950:(v,m,n)=>{n.d(m,{r:()=>_});var t=n(20553),d=n(65619),e=n(83620),u=n(94664),c=n(37398),l=n(38826),o=n(34673),p=n(65879),s=n(69862);let _=(()=>{class a extends o.q{constructor(i){super(),this.http=i,this.from=new d.X(this.getFirstDayOfMonth((new Date).getFullYear(),(new Date).getMonth())),this.to=new d.X(new Date),this.timesheet$=this.hasChanged.pipe((0,e.b)(400),(0,u.w)(()=>this.getTimesheet().pipe((0,c.U)(r=>r)))),this.userId=new d.X(null),this.currentUserId=localStorage.getItem("id")}getTimesheet(){this.loading.next(!0);let i=new URL(`${t.N.apiUrl}api/TimeSheet/GetUserTimeSheet?from=${(0,l.r)(this.from.value)||""}&to=${(0,l.r)(this.to.value)||""}&UserId=${this.userId.value}`),r=new URL(`${t.N.apiUrl}api/TimeSheet/GetMyTimeSheet?from=${(0,l.r)(this.from.value)||""}&to=${(0,l.r)(this.to.value)||""}`);return this.http.get(`${this.userId.value==this.currentUserId?r:i}`).pipe((0,c.U)(E=>(this.setMeta(E),this.loading.next(!1),E.data)))}getFirstDayOfMonth(i,r){return new Date(i,r,1)}static{this.\u0275fac=function(r){return new(r||a)(p.LFG(s.eN))}}static{this.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},46796:(v,m,n)=>{n.d(m,{d:()=>t});const t=d=>{const e=d.get("password")||d.get("newPassword"),u=d.get("confirmPassword")||d.get("newPasswordTwo");if(e?.value===u?.value)return null;u?.setErrors({notMatched:!0})}},96271:(v,m,n)=>{n.d(m,{W:()=>E});var t=n(96814),d=n(89515),e=n(17700),u=n(1350),c=n(54807),l=n(56223),o=n(58964),p=n(32296),s=n(10480),_=n(9004),a=n(65879),h=n(58048),i=n(99758),r=n(49388);let E=(()=>{class g{constructor(D,M,O,P,T){this.fb=D,this.data=M,this.service=O,this.alertSer=P,this.dialog=T,this.loading=!1,this.users=[],this.selectedUser=[],this.departmentData=null}ngOnInit(){this.form=this.fb.group({name:["",l.kI.required],parentId:[null],managerId:[null]}),this.data&&this.data.department?this.departmentData=this.data.department:this.data&&!this.data.department&&(this.departmentData=this.data),this.data.createMode||(this.form.patchValue({name:this.departmentData.name,parentId:this.departmentData.parentId,managerId:this.departmentData.managerId}),this.selectedUser=[{name:this.departmentData.managerName,id:this.departmentData.managerId}])}getUser(D){this.departmentData&&D.length>0&&this.form.patchValue({managerId:D[0].id}),this.departmentData&&0==D.length&&(this.selectedUser=[],this.departmentData.managerId=0,this.form.value.managerId=null)}submit(){if(this.loading=!0,this.data.createMode)this.service.addDepartment(this.form.value).subscribe(D=>{D.success&&(this.service.getDepartments().subscribe(),this.alertSer.showAlert("department_created"),this.dialog.closeAll()),this.loading=!1});else{const D={...this.form.value,id:this.departmentData.id};this.service.editDepartment(D).subscribe(M=>{M.success&&(this.service.getDepartments().subscribe(),this.alertSer.showAlert("department_updated"),this.dialog.closeAll()),this.loading=!1})}}get f(){return this.form.controls}static{this.\u0275fac=function(M){return new(M||g)(a.Y36(l.qu),a.Y36(e.WI),a.Y36(h._),a.Y36(i.c),a.Y36(e.uw))}}static{this.\u0275cmp=a.Xpm({type:g,selectors:[["department-form"]],standalone:!0,features:[a.jDz],decls:25,vars:24,consts:[["dir","auto",1,"department-form"],["mat-dialog-content",""],[3,"formGroup"],[1,"name"],["key","department_name",3,"control"],["type","text","formControlName","name",1,"input"],[3,"control"],[1,"parent_department"],["key","parent_department",3,"control"],[3,"width","formControlName","closeOnSelect","labelVisibilty","multiable"],[1,"manager","mt-2","mb-1"],["key","department_manager",3,"control"],["text","select_user",3,"multi","selectedUsers","getSelectedUsers"],["mat-dialog-actions","","align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",1,"px-3",3,"disabled","click"]],template:function(M,O){1&M&&(a.TgZ(0,"div",0)(1,"h3"),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",1)(5,"form",2)(6,"div",3),a._UZ(7,"input-label",4)(8,"input",5)(9,"input-error",6),a.qZA(),a.TgZ(10,"div",7),a._UZ(11,"input-label",8)(12,"departments-form",9)(13,"input-error",6),a.qZA(),a.TgZ(14,"div",10),a._UZ(15,"input-label",11),a.TgZ(16,"select-user",12),a.NdJ("getSelectedUsers",function(T){return O.getUser(T)}),a.qZA(),a._UZ(17,"input-error",6),a.qZA()()(),a.TgZ(18,"div",13)(19,"button",14),a._uU(20),a.ALo(21,"translate"),a.qZA(),a.TgZ(22,"button",15),a.NdJ("click",function(){return O.submit()}),a._uU(23),a.ALo(24,"translate"),a.qZA()()()),2&M&&(a.xp6(2),a.Oqu(a.lcZ(3,18,null==O.data?null:O.data.title)),a.xp6(3),a.Q6J("formGroup",O.form),a.xp6(2),a.Q6J("control",O.f.name),a.xp6(2),a.Q6J("control",O.f.name),a.xp6(2),a.Q6J("control",O.f.name),a.xp6(1),a.Q6J("width","w-100")("formControlName","parentId")("closeOnSelect",!0)("labelVisibilty",!1)("multiable",!1),a.xp6(1),a.Q6J("control",O.f.name),a.xp6(2),a.Q6J("control",O.f.managerId),a.xp6(1),a.Q6J("multi",!1)("selectedUsers",O.selectedUser),a.xp6(1),a.Q6J("control",O.f.managerId),a.xp6(3),a.Oqu(a.lcZ(21,20,"cancel")),a.xp6(2),a.Q6J("disabled",!O.form.valid),a.xp6(1),a.Oqu(a.lcZ(24,22,"save")))},dependencies:[_.D,t.ez,d.aw,d.X$,e.Is,e.ZT,e.xY,e.H8,r.Lv,u.i,c.A0,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,o.w,p.ot,p.lW,s.V]})}}return g})()}}]);