"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[3610],{38140:(O,d,i)=>{i.d(d,{Y:()=>Z});var t=i(65879),c=i(96814),f=i(89515),g=i(824),v=i(52081),m=i(56223),x=i(76472),C=i(3131);function b(a,h){if(1&a&&(t.TgZ(0,"p",10),t._uU(1),t.ALo(2,"arabicNumbers"),t.ALo(3,"translate"),t.qZA()),2&a){const s=t.oxw();t.xp6(1),t.Oqu(null!=s.meta&&s.meta.pageSize?t.lcZ(2,1,null==s.meta?null:s.meta.pageSize):t.lcZ(3,3,"unlimited"))}}function y(a,h){if(1&a){const s=t.EpF();t.TgZ(0,"input",11),t.NdJ("ngModelChange",function(o){t.CHM(s);const _=t.oxw();return t.KtG(_.limit=o)})("ngModelChange",function(){t.CHM(s);const o=t.oxw();return t.KtG(o.changeLimit())}),t.qZA()}if(2&a){const s=t.oxw();t.Q6J("ngModel",s.limit)}}function I(a,h){1&a&&(t.TgZ(0,"p",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"record")))}function T(a,h){if(1&a){const s=t.EpF();t.TgZ(0,"pagination-controls",13),t.NdJ("pageChange",function(o){t.CHM(s);const _=t.oxw();return t.KtG(_.pageChanged(o))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.qZA()}2&a&&t.Q6J("maxSize",7)("directionLinks",!0)("previousLabel",t.lcZ(1,4,"previous"))("nextLabel",t.lcZ(2,6,"next"))}const L=[[["","filters",""]],[["","content",""]]],A=function(a,h){return{height:a,"max-width":h}},M=["[filters]","[content]"];let Z=(()=>{class a{constructor(){this.pageChange=new t.vpe,this.limitChanged=new t.vpe,this.hasTitle=!1,this.admin=!1,this.limit=15,this.hasCard=!1,this.extraHeight=0,this.service=(0,t.f3M)(C.P)}changeLimit(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.limit<1&&(this.limit=15),this.limitChanged.emit(this.limit)},500)}pageChanged(s){this.pageChange.emit(s)}static{this.\u0275fac=function(u){return new(u||a)}}static{this.\u0275cmp=t.Xpm({type:a,selectors:[["layout-with-filters"]],inputs:{meta:"meta",hasTitle:"hasTitle",admin:"admin",limit:"limit",hasCard:"hasCard",extraHeight:"extraHeight"},outputs:{pageChange:"pageChange",limitChanged:"limitChanged"},standalone:!0,features:[t.jDz],ngContentSelectors:M,decls:21,vars:20,consts:[[1,"layout-with-filters","w-100","rounded","bg-white","border",3,"ngStyle"],[1,"filters","border-bottom","px-1","pb-1","pt-25"],["magicScroll","",1,"content","relative"],[1,"pagination-content","flex","aic","jcsr","py-1","bg-white","border-top"],[1,"flex","aic"],["class","ml-75 primary",4,"ngIf"],["type","number","class","input ml-75 limit text-center","min","1",3,"ngModel","ngModelChange",4,"ngIf"],["class","ml-50 primary",4,"ngIf"],[3,"maxSize","directionLinks","previousLabel","nextLabel","pageChange",4,"ngIf"],[1,"primary"],[1,"ml-75","primary"],["type","number","min","1",1,"input","ml-75","limit","text-center",3,"ngModel","ngModelChange"],[1,"ml-50","primary"],[3,"maxSize","directionLinks","previousLabel","nextLabel","pageChange"]],template:function(u,o){1&u&&(t.F$t(L),t.TgZ(0,"div",0)(1,"div",1),t.Hsn(2),t.qZA(),t.TgZ(3,"div",2),t.Hsn(4,1),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,b,4,5,"p",5),t.YNc(11,y,1,1,"input",6),t.YNc(12,I,3,3,"p",7),t.qZA(),t.YNc(13,T,3,8,"pagination-controls",8),t.TgZ(14,"p"),t._uU(15),t.ALo(16,"translate"),t.TgZ(17,"span",9),t._uU(18),t.ALo(19,"arabicNumbers"),t.ALo(20,"translate"),t.qZA()()()()),2&u&&(t.Q6J("ngStyle",t.WLB(17,A,o.hasTitle?"calc(100vh - 14.5rem)":o.hasCard?"calc(100vh - 27.7rem)":"calc(100vh - 11rem)",o.service.withSubMenu.value?"calc(100vw - 277px)":"calc(100vw - 92px)")),t.xp6(8),t.hij("",t.lcZ(9,9,"pagination_per_page")," "),t.xp6(2),t.Q6J("ngIf",!o.admin),t.xp6(1),t.Q6J("ngIf",o.admin),t.xp6(1),t.Q6J("ngIf",null==o.meta?null:o.meta.pageSize),t.xp6(1),t.Q6J("ngIf",(null==o.meta?null:o.meta.totalItems)>15),t.xp6(2),t.hij("",t.lcZ(16,11,"pagination_total_records")," "),t.xp6(3),t.AsE("",t.lcZ(19,13,null==o.meta?null:o.meta.totalItems)," ",t.lcZ(20,15,"record"),""))},dependencies:[c.ez,c.O5,c.PC,f.aw,f.X$,g.h,v.m,m.u5,m.Fj,m.wV,m.JJ,m.qQ,m.On,x.JX,x.LS],styles:[".layout-with-filters[_ngcontent-%COMP%]{overflow:hidden;box-shadow:0 1px 38px #0000001a,0 2px 4px -1px #0000000f}.layout-with-filters[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{z-index:999}.layout-with-filters[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:calc(100% - 137px)}.layout-with-filters[_ngcontent-%COMP%]   .pagination-content[_ngcontent-%COMP%]{height:58px}.limit[_ngcontent-%COMP%]{width:5rem;padding:1.1rem .5rem}"]})}}return a})()},3131:(O,d,i)=>{i.d(d,{P:()=>f});var t=i(65619),c=i(65879);let f=(()=>{class g{constructor(){this.withSubMenu=new t.X(!0)}static{this.\u0275fac=function(x){return new(x||g)}}static{this.\u0275prov=c.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},23610:(O,d,i)=>{i.r(d),i.d(d,{InboxComponent:()=>w});var t=i(65879),c=i(96814),f=i(38140),g=i(65668),v=i(76472),m=i(57105),x=i(64190),C=i(89515),b=i(20553),y=i(83620),I=i(94664),T=i(37398),L=i(34673),A=i(69862);let M=(()=>{class n extends L.q{constructor(e){super(),this.http=e,this.inbox$=this.hasChanged.pipe((0,y.b)(400),(0,I.w)(()=>this.getInbox().pipe((0,T.U)(l=>l))))}getInbox(){let e=new URL(`${b.N.coreBase}/api/EmailBox/GetMailBox`);return this.params(e),this.loading.next(!0),this.http.get(`${e}`).pipe((0,T.U)(l=>{this.loading.next(!1);let r={pageSize:this.limit.value,totalItems:l.data.count,currentPage:this.page.value,totalUnSeen:0,totalPages:Math.ceil(l.data.count/this.limit.value)};return this.meta.next(r),this.currentPage.next(r.currentPage),l}))}static{this.\u0275fac=function(l){return new(l||n)(t.LFG(A.eN))}}static{this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Z=i(92596),a=i(9619),h=i(24971);function s(n,p){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.senderEmail)}}function u(n,p){if(1&n&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("matTooltip",e.senderEmail),t.xp6(1),t.hij("",t.Dn7(2,2,e.senderEmail,0,70),"...")}}function o(n,p){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.subject)}}function _(n,p){if(1&n&&(t.TgZ(0,"span",14),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("matTooltip",e.subject),t.xp6(1),t.hij("",t.Dn7(2,2,e.subject,0,70),"...")}}function E(n,p){if(1&n&&(t.TgZ(0,"tr",9)(1,"td")(2,"div",10),t.YNc(3,s,2,1,"span",11),t.YNc(4,u,3,6,"span",12),t.qZA()(),t.TgZ(5,"td")(6,"div",10),t.YNc(7,o,2,1,"span",11),t.YNc(8,_,3,6,"span",12),t.qZA()(),t.TgZ(9,"td",5),t._uU(10),t.ALo(11,"arabicDate"),t.qZA()()),2&n){const e=p.$implicit;t.hYB("routerLink","details/",e.mailId,"/",e.messageId,""),t.xp6(3),t.Q6J("ngIf",e.senderEmail.length<=70),t.xp6(1),t.Q6J("ngIf",e.senderEmail.length>70),t.xp6(3),t.Q6J("ngIf",e.subject.length<=70),t.xp6(1),t.Q6J("ngIf",e.subject.length>70),t.xp6(2),t.hij(" ",t.Dn7(11,7,e.date,"withTime",!1)," ")}}const P=function(n,p,e){return{itemsPerPage:n,currentPage:p,totalItems:e}};function U(n,p){if(1&n&&(t.TgZ(0,"tbody"),t.YNc(1,E,12,11,"tr",8),t.ALo(2,"paginate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,e.inbox,t.kEZ(5,P,e.meta.pageSize,e.meta.currentPage,e.meta.totalItems)))("ngForTrackBy",e.trackBy)}}function D(n,p){1&n&&t._UZ(0,"not-found",15)}function J(n,p){1&n&&t._UZ(0,"loading")}const F=function(n){return{"h-100":n}};let w=(()=>{class n{constructor(){this.service=(0,t.f3M)(M),this.inbox=[]}ngOnInit(){this.source1$=this.service.inbox$.subscribe(e=>{this.meta=this.service.meta.value,this.inbox=e.data.emails})}trackBy(e,l){return l.id}ngOnDestroy(){this.source1$?.unsubscribe()}static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["inbox"]],standalone:!0,features:[t.jDz],decls:19,vars:16,consts:[[3,"meta","pageChange"],["filters",""],["content",""],[1,"table","w-100","relative",3,"ngClass"],[1,"bg-gray","border-bottom"],[1,"text-left"],[4,"ngIf"],["class","a-center",4,"ngIf"],["class","border-bottom pointer",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],[1,"border-bottom","pointer",3,"routerLink"],[1,"flex","aic","bold"],["class","text-left fs-13",4,"ngIf"],["class","text-left fs-13",3,"matTooltip",4,"ngIf"],[1,"text-left","fs-13"],[1,"text-left","fs-13",3,"matTooltip"],[1,"a-center"]],template:function(l,r){1&l&&(t.TgZ(0,"layout-with-filters",0),t.NdJ("pageChange",function(Q){return r.service.page.next(Q),r.service.hasChanged.next(!0)}),t.ynx(1,1),t._UZ(2,"search"),t.BQk(),t.ynx(3,2),t.TgZ(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",5),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",5),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.YNc(16,U,3,9,"tbody",6),t.YNc(17,D,1,0,"not-found",7),t.YNc(18,J,1,0,"loading",6),t.qZA(),t.BQk(),t.qZA()),2&l&&(t.Q6J("meta",r.meta),t.xp6(4),t.Q6J("ngClass",t.VKq(14,F,0==r.inbox.length||r.service.loading.value)),t.xp6(4),t.Oqu(t.lcZ(9,8,"user")),t.xp6(3),t.Oqu(t.lcZ(12,10,"subject")),t.xp6(3),t.Oqu(t.lcZ(15,12,"date")),t.xp6(2),t.Q6J("ngIf",r.inbox.length>0&&!r.service.loading.value),t.xp6(1),t.Q6J("ngIf",0==r.inbox.length&&!r.service.loading.value),t.xp6(1),t.Q6J("ngIf",r.service.loading.value))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.OU,f.Y,g.N,v.JX,v._s,m.w,x.rH,C.aw,C.X$,Z.AV,Z.gM,a.P,h.g]})}}return n})()}}]);