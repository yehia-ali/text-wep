"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[2595],{49939:(W,I,a)=>{a.d(I,{z:()=>P});var c=a(65879),D=a(96814),_=a(16676),p=a(65619),m=a(23680),A=a(73445),T=a(56223),b=a(38034),w=a(89515),H=a(2032),F=a(64170);function Q(h,X){1&h&&(c.TgZ(0,"label",7),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&h&&(c.xp6(1),c.Oqu(c.lcZ(2,1,"date")))}const G=function(h){return{"w-15r":h}};let O,v=document.dir;O="rtl"===v?"ar-EG":"en-GB";const E={parse:{dateInput:"MMMM/YYYY"},display:{dateInput:"MMMM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"MMMM YYYY",monthYearA11yLabel:"MMMM YYYY"}};let P=(()=>{class h{constructor(){this.displayLabel=!0,this.onChange=new c.vpe,this.date=new T.NI(_()),this.now=new Date}ngOnChanges(g){g.selectedDate&&this.date.setValue(_(g.selectedDate.currentValue))}ngOnInit(){this.selectedDate&&(this.selectedDate instanceof p.X?this.selectedDate.subscribe(g=>{g&&this.date.setValue(_(g))}):this.date.setValue(_(this.selectedDate)))}setMonthAndYear(g,e){const d=this.date.value;d.month(g.month()),d.year(g.year()),this.date.setValue(d);const y=new Date(d._d).getFullYear(),Z=(new Date(d._d).getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1});let S=new Date(d._d.getFullYear(),d._d.getMonth()+1,0).getDate();this.start_date_key?.next(`${y}-${Z}-01`),this.end_date_key?.next(`${y}-${Z}-${S}`),this.onChange.emit(d._d),e.close()}static{this.\u0275fac=function(e){return new(e||h)}}static{this.\u0275cmp=c.Xpm({type:h,selectors:[["month-filter"]],inputs:{start_date_key:"start_date_key",displayLabel:"displayLabel",end_date_key:"end_date_key",selectedDate:"selectedDate",max:"max",min:"min"},outputs:{onChange:"onChange"},standalone:!0,features:[c._Bn([{provide:m.Ad,useValue:O},{provide:m._A,useClass:A.t7,deps:[m.Ad,A.o8]},{provide:m.sG,useValue:E}]),c.TTD,c.jDz],decls:7,vars:9,consts:[[1,"start-date",3,"ngClass"],["class","fs-13",4,"ngIf"],[1,"flex","aic","relative",3,"click"],[1,"input",3,"formControl","matDatepicker","min","max"],["matSuffix","",1,"picker-icon",3,"for"],["startView","multi-year","panelClass","example-month-picker",3,"monthSelected"],["picker",""],[1,"fs-13"]],template:function(e,d){if(1&e){const y=c.EpF();c.TgZ(0,"div",0),c.YNc(1,Q,3,3,"label",1),c.TgZ(2,"div",2),c.NdJ("click",function(){c.CHM(y);const S=c.MAs(6);return c.KtG(S.open())}),c._UZ(3,"input",3)(4,"mat-datepicker-toggle",4),c.TgZ(5,"mat-datepicker",5,6),c.NdJ("monthSelected",function(S){c.CHM(y);const K=c.MAs(6);return c.KtG(d.setMonthAndYear(S,K))}),c.qZA()()()}if(2&e){const y=c.MAs(6);c.Q6J("ngClass",c.VKq(7,G,d.displayLabel)),c.xp6(1),c.Q6J("ngIf",d.displayLabel),c.xp6(2),c.Q6J("formControl",d.date)("matDatepicker",y)("min",d.min)("max",d.max),c.xp6(1),c.Q6J("for",y)}},dependencies:[D.ez,D.mk,D.O5,b.FA,b.Mq,b.hl,b.nW,w.aw,w.X$,H.c,F.R9,T.UX,T.Fj,T.JJ,T.oH],styles:[".picker-icon[_ngcontent-%COMP%]{position:absolute;inset-inline-end:0}.clear[_ngcontent-%COMP%]{position:absolute;inset-inline-end:4rem;top:50%;transform:translateY(-50%);line-height:0}.example-month-picker[_ngcontent-%COMP%]   .mat-calendar-period-button[_ngcontent-%COMP%]{pointer-events:none}.example-month-picker[_ngcontent-%COMP%]   .mat-calendar-arrow[_ngcontent-%COMP%]{display:none}"]})}}return h})()},61706:(W,I,a)=>{a.d(I,{W:()=>D});var c=a(65879);let D=(()=>{class _{transform(p,m){if("hour"===m){const A=Math.floor(p),T=Math.floor(60*(p-A));return`${this.padZero(A)}:${this.padZero(T)}`}if("minutes"===m){const A=Math.floor(p/60),T=Math.floor(p%60);return`${this.padZero(A)}:${this.padZero(T)}`}return p.toString()}padZero(p){return p<10?`0${p}`:`${p}`}static{this.\u0275fac=function(m){return new(m||_)}}static{this.\u0275pipe=c.Yjl({name:"convertMinutes",type:_,pure:!0,standalone:!0})}}return _})()},2595:(W,I,a)=>{a.r(I),a.d(I,{UserAttendanceComponent:()=>mt});var c=a(96814),D=a(9619),_=a(11383),z=a(1428),p=a(824),m=a(32296),A=a(38034),T=a(64170),b=a(54807),w=a(56223),H=a(89515),F=a(23680),Q=a(65668),G=a(76472),v=a(11486),O=a(61706),E=a(17700),P=a(20938),h=a(20553),X=a(2032),g=a(49939),e=a(65879),d=a(65619),y=a(22381),Z=a(65592),S=a(43093),K=a(16699),Y=a(37398),ge=a(93997);class fe extends d.X{constructor(o,t,s){super(o),t.pipe((0,S.Q)(y.N)).pipe((0,K.R)((l,M)=>M?s(l,M):l,o)).subscribe(l=>this.next(l))}}class $ extends Z.y{constructor(o,t,s){super(),this._dispatcher=o,this._reducer=t,this.source=s}select(o){return(this.source?.pipe((0,Y.U)(o))||(new Z.y).pipe((0,Y.U)(o))).pipe((0,ge.x)())}lift(o){const t=new $(this._dispatcher,this._reducer,this);return t.operator=o,t}dispatch(o){this._dispatcher.next(o)}next(o){this._dispatcher.next(o)}error(o){this._dispatcher.error(o)}complete(){}}function Me(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function Te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMinutes(i.minuteStep))}),e._UZ(2,"span",2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.canIncrementMinutes||!t.isEditable)}}function xe(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0"),e.qZA())}function ye(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSeconds(i.secondsStep))}),e._UZ(2,"span",2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.canIncrementSeconds||!t.isEditable)}}function Ae(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function we(n,o){1&n&&e._UZ(0,"td")}function Ce(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0:\xa0"),e.qZA())}function ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",4)(1,"input",5),e.NdJ("wheel",function(i){e.CHM(t);const r=e.oxw();return r.prevDef(i),e.KtG(r.changeMinutes(r.minuteStep*r.wheelSign(i),"wheel"))})("keydown.ArrowUp",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMinutes(i.minuteStep,"key"))})("keydown.ArrowDown",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMinutes(-i.minuteStep,"key"))})("change",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.updateMinutes(i.target))}),e.qZA()()}if(2&n){const t=e.oxw();e.ekj("has-error",t.invalidMinutes),e.xp6(1),e.ekj("is-invalid",t.invalidMinutes),e.Q6J("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),e.uIk("aria-label",t.labelMinutes)}}function De(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0:\xa0"),e.qZA())}function be(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",4)(1,"input",5),e.NdJ("wheel",function(i){e.CHM(t);const r=e.oxw();return r.prevDef(i),e.KtG(r.changeSeconds(r.secondsStep*r.wheelSign(i),"wheel"))})("keydown.ArrowUp",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSeconds(i.secondsStep,"key"))})("keydown.ArrowDown",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSeconds(-i.secondsStep,"key"))})("change",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSeconds(i.target))}),e.qZA()()}if(2&n){const t=e.oxw();e.ekj("has-error",t.invalidSeconds),e.xp6(1),e.ekj("is-invalid",t.invalidSeconds),e.Q6J("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),e.uIk("aria-label",t.labelSeconds)}}function Ze(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function Se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleMeridian())}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.isEditable||!t.canToggleMeridian),e.Q6J("disabled",!t.isEditable||!t.canToggleMeridian),e.xp6(1),e.hij("",t.meridian," ")}}function Ue(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function Ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMinutes(-i.minuteStep))}),e._UZ(2,"span",7),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.canDecrementMinutes||!t.isEditable)}}function ve(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0"),e.qZA())}function Oe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"a",1),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSeconds(-i.secondsStep))}),e._UZ(2,"span",7),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.ekj("disabled",!t.canDecrementSeconds||!t.isEditable)}}function Ee(n,o){1&n&&(e.TgZ(0,"td"),e._uU(1,"\xa0\xa0\xa0"),e.qZA())}function Ne(n,o){1&n&&e._UZ(0,"td")}let C=(()=>{class n{static{this.WRITE_VALUE="[timepicker] write value from ng model"}static{this.CHANGE_HOURS="[timepicker] change hours"}static{this.CHANGE_MINUTES="[timepicker] change minutes"}static{this.CHANGE_SECONDS="[timepicker] change seconds"}static{this.SET_TIME_UNIT="[timepicker] set time unit"}static{this.UPDATE_CONTROLS="[timepicker] update controls"}writeValue(t){return{type:n.WRITE_VALUE,payload:t}}changeHours(t){return{type:n.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:n.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:n.CHANGE_SECONDS,payload:t}}setTime(t){return{type:n.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:n.UPDATE_CONTROLS,payload:t}}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const He=10,Pe=24,ee=12,Ye=60,Le=60;function q(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||q(new Date(n)))}function R(n,o){return!(n.min&&o<n.min||n.max&&o>n.max)}function U(n){return typeof n>"u"?NaN:"number"==typeof n?n:parseInt(n,He)}function te(n,o=!1){const t=U(n);return isNaN(t)||t<0||t>(o?ee:Pe)?NaN:t}function ne(n){const o=U(n);return isNaN(o)||o<0||o>Ye?NaN:o}function ie(n){const o=U(n);return isNaN(o)||o<0||o>Le?NaN:o}function se(n){return"string"==typeof n?new Date(n):n}function f(n,o){if(!n)return f(L(new Date,0,0,0),o);if(!o)return n;let t=n.getHours(),s=n.getMinutes(),i=n.getSeconds();return o.hour&&(t+=U(o.hour)),o.minute&&(s+=U(o.minute)),o.seconds&&(i+=U(o.seconds)),L(n,t,s,i)}function oe(n,o){let t=te(o.hour);const s=ne(o.minute),i=ie(o.seconds)||0;return o.isPM&&12!==t&&(t+=ee),n?isNaN(t)||isNaN(s)?n:L(n,t,s,i):isNaN(t)||isNaN(s)?n:L(new Date,t,s,i)}function L(n,o,t,s){const i=new Date(n.getFullYear(),n.getMonth(),n.getDate(),o,t,s,n.getMilliseconds());return i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate()),i}function B(n){const o=n.toString();return o.length>1?o:`0${o}`}function re(n,o){return!isNaN(te(n,o))}function ae(n){return!isNaN(ne(n))}function ce(n){return!isNaN(ie(n))}function le(n,o="0",t="0",s){return re(n,s)&&ae(o)&&ce(t)}function J(n,o){return!(n.readonlyInput||n.disabled||o&&("wheel"===o.source&&!n.mousewheel||"key"===o.source&&!n.arrowkeys))}function de(n){const{hourStep:o,minuteStep:t,secondsStep:s,readonlyInput:i,disabled:r,mousewheel:l,arrowkeys:M,showSpinners:k,showMeridian:j,showSeconds:u,meridians:N,min:x,max:_t}=n;return{hourStep:o,minuteStep:t,secondsStep:s,readonlyInput:i,disabled:r,mousewheel:l,arrowkeys:M,showSpinners:k,showMeridian:j,showSeconds:u,meridians:N,min:x,max:_t}}let ue=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const he={value:void 0,config:new ue,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function pe(n=he,o){switch(o.type){case C.WRITE_VALUE:return Object.assign({},n,{value:o.payload});case C.CHANGE_HOURS:{if(!J(n.config,o.payload)||!function je(n,o){return!(!n.step||n.step>0&&!o.canIncrementHours||n.step<0&&!o.canDecrementHours)}(o.payload,n.controls))return n;const t=f(n.value,{hour:o.payload.step});return!n.config.max&&!n.config.min||R(n.config,t)?Object.assign({},n,{value:t}):n}case C.CHANGE_MINUTES:{if(!J(n.config,o.payload)||!function Fe(n,o){return!(!n.step||n.step>0&&!o.canIncrementMinutes||n.step<0&&!o.canDecrementMinutes)}(o.payload,n.controls))return n;const t=f(n.value,{minute:o.payload.step});return!n.config.max&&!n.config.min||R(n.config,t)?Object.assign({},n,{value:t}):n}case C.CHANGE_SECONDS:{if(!J(n.config,o.payload)||!function Qe(n,o){return!(!n.step||n.step>0&&!o.canIncrementSeconds||n.step<0&&!o.canDecrementSeconds)}(o.payload,n.controls))return n;const t=f(n.value,{seconds:o.payload.step});return!n.config.max&&!n.config.min||R(n.config,t)?Object.assign({},n,{value:t}):n}case C.SET_TIME_UNIT:{if(!J(n.config))return n;const t=oe(n.value,o.payload);return Object.assign({},n,{value:t})}case C.UPDATE_CONTROLS:{const t=function Ge(n,o){const{min:i,max:r,hourStep:l,minuteStep:M,secondsStep:k,showSeconds:j}=o,u={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return u;if(r){const N=f(n,{hour:l});if(u.canIncrementHours=r>N&&n.getHours()+l<24,!u.canIncrementHours){const x=f(n,{minute:M});u.canIncrementMinutes=j?r>x:r>=x}if(!u.canIncrementMinutes){const x=f(n,{seconds:k});u.canIncrementSeconds=r>=x}n.getHours()<12&&(u.canToggleMeridian=f(n,{hour:12})<r)}if(i){const N=f(n,{hour:-l});if(u.canDecrementHours=i<N,!u.canDecrementHours){const x=f(n,{minute:-M});u.canDecrementMinutes=j?i<x:i<=x}if(!u.canDecrementMinutes){const x=f(n,{seconds:-k});u.canDecrementSeconds=i<=x}n.getHours()>=12&&(u.canToggleMeridian=f(n,{hour:-12})>i)}return u}(n.value,o.payload),s={value:n.value,config:o.payload,controls:t};return n.config.showMeridian!==s.config.showMeridian&&n.value&&(s.value=new Date(n.value)),Object.assign({},n,s)}default:return n}}let V=(()=>{class n extends ${constructor(){const t=new d.X({type:"[mini-ngrx] dispatcher init"});super(t,pe,new fe(he,t,pe))}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Ke={provide:w.JU,useExisting:(0,e.Gpc)(()=>me),multi:!0};let me=(()=>{class n{constructor(t,s,i,r){this._cd=s,this._store=i,this._timepickerActions=r,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new e.vpe,this.meridianChange=new e.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=i.select(l=>l.value).subscribe(l=>{this._renderTime(l),this.onChange(l),this._store.dispatch(this._timepickerActions.updateControls(de(this)))}),i.select(l=>l.controls).subscribe(l=>{const M=le(this.hours,this.minutes,this.seconds,this.isPM()),k=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||M;this.isValid.emit(k),Object.assign(this,l),s.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(de(this)))}changeHours(t,s=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:s}))}changeMinutes(t,s=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:s}))}changeSeconds(t,s=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:s}))}updateHours(t){this.resetValidation(),this.hours=t.value;const s=re(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||s))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const s=ae(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||s))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const s=ce(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||s))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function Je(n,o,t){const s=oe(new Date,n);return!(!s||o&&s>o||t&&s<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function Ve(n,o,t){return 0===n.length||0===o.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const i=le(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){q(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(se(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(t){if(!t||!q(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const s=se(t);if(!s)return;let r=s.getHours();this.showMeridian&&(this.meridian=this.meridians[r>=12?1:0],this.meridianChange.emit(this.meridian),r%=12,0===r&&(r=12)),this.hours=B(r),this.minutes=B(s.getMinutes()),this.seconds=B(s.getUTCSeconds())}static{this.\u0275fac=function(s){return new(s||n)(e.Y36(ue),e.Y36(e.sBO),e.Y36(V),e.Y36(C))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[e._Bn([Ke,V]),e.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],["href","javascript:void(0);",1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(s,i){1&s&&(e.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),e.NdJ("click",function(){return i.changeHours(i.hourStep)}),e._UZ(5,"span",2),e.qZA()(),e.YNc(6,Me,2,0,"td",3),e.YNc(7,Te,3,2,"td",3),e.YNc(8,xe,2,0,"td",3),e.YNc(9,ye,3,2,"td",3),e.YNc(10,Ae,2,0,"td",3),e.YNc(11,we,1,0,"td",3),e.qZA(),e.TgZ(12,"tr")(13,"td",4)(14,"input",5),e.NdJ("wheel",function(l){return i.prevDef(l),i.changeHours(i.hourStep*i.wheelSign(l),"wheel")})("keydown.ArrowUp",function(){return i.changeHours(i.hourStep,"key")})("keydown.ArrowDown",function(){return i.changeHours(-i.hourStep,"key")})("change",function(l){return i.updateHours(l.target)}),e.qZA()(),e.YNc(15,Ce,2,0,"td",3),e.YNc(16,ke,2,9,"td",6),e.YNc(17,De,2,0,"td",3),e.YNc(18,be,2,9,"td",6),e.YNc(19,Ze,2,0,"td",3),e.YNc(20,Se,3,4,"td",3),e.qZA(),e.TgZ(21,"tr",0)(22,"td")(23,"a",1),e.NdJ("click",function(){return i.changeHours(-i.hourStep)}),e._UZ(24,"span",7),e.qZA()(),e.YNc(25,Ue,2,0,"td",3),e.YNc(26,Ie,3,2,"td",3),e.YNc(27,ve,2,0,"td",3),e.YNc(28,Oe,3,2,"td",3),e.YNc(29,Ee,2,0,"td",3),e.YNc(30,Ne,1,0,"td",3),e.qZA()()()),2&s&&(e.xp6(2),e.Q6J("hidden",!i.showSpinners),e.xp6(2),e.ekj("disabled",!i.canIncrementHours||!i.isEditable),e.xp6(2),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(2),e.ekj("has-error",i.invalidHours),e.xp6(1),e.ekj("is-invalid",i.invalidHours),e.Q6J("placeholder",i.hoursPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.hours),e.uIk("aria-label",i.labelHours),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("hidden",!i.showSpinners),e.xp6(2),e.ekj("disabled",!i.canDecrementHours||!i.isEditable),e.xp6(2),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showMinutes),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showSeconds),e.xp6(1),e.Q6J("ngIf",i.showMeridian),e.xp6(1),e.Q6J("ngIf",i.showMeridian))},dependencies:[c.O5],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0})}}return n})(),$e=(()=>{class n{static forRoot(){return{ngModule:n,providers:[C,V]}}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=e.oAB({type:n})}static{this.\u0275inj=e.cJS({providers:[V],imports:[c.ez]})}}return n})();var qe=a(69862);let Re=(()=>{class n{constructor(t){this.http=t}getSpaceMembers(){return this.http.get(`${h.N.apiUrl}api/Space/GetSpaceUserProfiles?&isActive=true`).pipe((0,Y.U)(t=>t.data.items))}getUserAttendReport(t,s){return this.http.get(`${h.N.apiUrl}api/Attendance/GetUserAttendanceReport?Month=${t}&UserId=${s}`).pipe((0,Y.U)(i=>i.data))}updateAttendance(t){return this.http.post(`${h.N.apiUrl}api/Attendance/UpdateEmployeeAttendance`,t)}createAttendance(t){return this.http.post(`${h.N.apiUrl}api/Attendance/CreateEmployeeAttendance`,t)}static{this.\u0275fac=function(s){return new(s||n)(e.LFG(qe.eN))}}static{this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Be=a(99758),We=a(69323),ze=a(63934);const Xe=["dialogTemplate"];function et(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resetMonth())}),e._UZ(1,"i",17),e.qZA()}}function tt(n,o){if(1&n&&(e.TgZ(0,"tr",24)(1,"th",25),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span",26),e._uU(5),e.qZA()(),e.TgZ(6,"th",27),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"span",26),e._uU(10),e.qZA()(),e.TgZ(11,"th",25),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"span",26),e._uU(15),e.qZA()(),e.TgZ(16,"th",28),e._uU(17),e.ALo(18,"translate"),e.TgZ(19,"span",26),e._uU(20),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,8,"name")," : "),e.xp6(3),e.Oqu(null==t.attendance||null==t.attendance.list[0]?null:t.attendance.list[0].userName),e.xp6(2),e.hij(" ",e.lcZ(8,10,"position")," : "),e.xp6(3),e.Oqu(null==t.attendance||null==t.attendance.list[0]?null:t.attendance.list[0].position),e.xp6(2),e.hij(" ",e.lcZ(13,12,"department")," : "),e.xp6(3),e.Oqu(null==t.attendance||null==t.attendance.list[0]?null:t.attendance.list[0].department),e.xp6(2),e.hij(" ",e.lcZ(18,14,"total_deduction")," : "),e.xp6(3),e.Oqu(t.totalDetuction)}}function nt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDialog(i,"checkIn","update"))}),e._UZ(1,"i",39),e._uU(2),e.ALo(3,"arabicTime"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.checkIn?e.lcZ(3,1,t.checkIn):"-"," ")}}function it(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDialog(i,"checkIn","create"))}),e._UZ(1,"i",41),e.qZA()}}function st(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDialog(i,"checkOut","update"))}),e._UZ(1,"i",39),e._uU(2),e.ALo(3,"arabicTime"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.checkOut?e.lcZ(3,1,t.checkOut):"-"," ")}}function ot(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDialog(i,"checkOut","create"))}),e._UZ(1,"i",41),e.qZA()}}function rt(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td",29)(2,"p",30),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"arabicDate"),e.qZA()(),e.TgZ(6,"td",31),e.YNc(7,nt,4,3,"p",32),e.YNc(8,it,2,0,"p",33),e.qZA(),e.TgZ(9,"td",34)(10,"p"),e._uU(11),e.ALo(12,"convertMinutes"),e.qZA()(),e.TgZ(13,"td",31),e.YNc(14,st,4,3,"p",32),e.YNc(15,ot,2,0,"p",33),e.qZA(),e.TgZ(16,"td",35)(17,"p"),e._uU(18),e.ALo(19,"convertMinutes"),e.qZA()(),e.TgZ(20,"td",36)(21,"p"),e._uU(22),e.ALo(23,"convertMinutes"),e.qZA()(),e.TgZ(24,"td",37)(25,"p"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"td",37)(29,"p"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()),2&n){const t=o.$implicit;e.Tol(1==t.status||2==t.status||3==t.status?"bg-custom-light":4==t.status?"bg-light-danger":7==t.status||5==t.status&&t.deduction?"bg-light-warning":"bg-light-success"),e.xp6(3),e.AsE(" ",e.lcZ(4,14,t.dayName)," ",e.lcZ(5,16,t.date)," "),e.xp6(4),e.Q6J("ngIf",t.checkIn),e.xp6(1),e.Q6J("ngIf",!t.checkIn),e.xp6(3),e.hij(" ",t.lateCheckInValue?e.xi3(12,18,t.lateCheckInValue,"minutes"):"-"," "),e.xp6(3),e.Q6J("ngIf",t.checkOut),e.xp6(1),e.Q6J("ngIf",!t.checkOut),e.xp6(3),e.hij(" ",t.lateCheckOutValue?e.xi3(19,21,t.lateCheckOutValue,"minutes"):"-"," "),e.xp6(4),e.hij(" ",t.totalHours?e.xi3(23,24,t.totalHours,"hour"):"-"," "),e.xp6(4),e.hij(" ",t.deduction?t.deduction+" "+e.lcZ(27,27,"day"):"-"," "),e.xp6(4),e.Oqu(t.comment?e.lcZ(31,29,t.comment):"")}}function at(n,o){1&n&&e._UZ(0,"loading")}const ct=function(n){return{"h-100":n}};function lt(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"table",18)(2,"thead"),e.YNc(3,tt,21,16,"tr",19),e.TgZ(4,"tr",20)(5,"th",21),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"th",22),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",22),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",22),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th",22),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th",22),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th",22),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"th",21),e._uU(27),e.ALo(28,"translate"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,rt,32,31,"tr",23),e.qZA(),e.YNc(31,at,1,0,"loading",14),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(28,ct,t.loading)),e.xp6(2),e.Q6J("ngIf",t.attendance),e.xp6(3),e.Oqu(e.lcZ(7,12,"date")),e.xp6(3),e.hij(" ",e.lcZ(10,14,"check-in")," "),e.xp6(3),e.hij(" ",e.lcZ(13,16,"late_arrive")," "),e.xp6(3),e.hij(" ",e.lcZ(16,18,"check-out")," "),e.xp6(3),e.hij(" ",e.lcZ(19,20,"early")," "),e.xp6(3),e.hij(" ",e.lcZ(22,22,"total_hours")," "),e.xp6(3),e.hij(" ",e.lcZ(25,24,"deduction")," "),e.xp6(3),e.Oqu(e.lcZ(28,26,"notes")),e.xp6(3),e.Q6J("ngForOf",null==t.attendance?null:t.attendance.list),e.xp6(1),e.Q6J("ngIf",t.loading)}}function dt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateAttendance())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"save")," "))}function ut(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createAttendance())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"create")," "))}function ht(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"h4",44),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"mat-dialog-content",43)(6,"timepicker",45),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.attendanceDate=i)})("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.onDateChange(i))}),e.qZA()(),e.TgZ(7,"div",46),e.YNc(8,dt,3,3,"a",47),e.YNc(9,ut,3,3,"button",47),e.TgZ(10,"button",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeDialog())}),e._uU(11),e.ALo(12,"translate"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,6,"edit_login_time")),e.xp6(3),e.Q6J("minuteStep",1)("ngModel",t.attendanceDate),e.xp6(2),e.Q6J("ngIf","update"==t.title),e.xp6(1),e.Q6J("ngIf","create"==t.title),e.xp6(2),e.hij(" ",e.lcZ(12,8,"cancel")," ")}}let _e;_e="rtl"===document.dir?"ar-EG":"en-GB";let mt=(()=>{class n{constructor(t,s,i,r,l,M,k){this.elm=t,this.service=s,this.datePipe=i,this.dialog=r,this.alert=l,this.hrService=M,this.userService=k,this.now=new Date,this.month=(new Date).getMonth()+1,this.startDate=this.datePipe.transform(new Date,"yyyy-MM-01"),this.endDate=this.datePipe.transform(new Date,"yyyy-MM-30"),this.crossMonth=0,this.fromDay=1,this.toDay=30,this.loading=!1,this.teamMembers$=this.service.getSpaceMembers(),this.selectedUser=Number(localStorage.getItem("id")),this.totalDetuction=0,this.timezone=(new Date).getTimezoneOffset(),this.showClearBtn=!1}convertTimezoneOffset(t){const s=-t/60;return s>0||s<0?`${s}`:"0"}ngOnInit(){this.getPayrollCycle(),this.getUserProfile()}getAttendance(){this.loading=!0,this.totalDetuction=0,this.service.getUserAttendReport(this.month,this.selectedUser).subscribe(t=>{t&&(this.attendance=t,this.loading=!1,this.attendance.list.forEach(s=>{this.totalDetuction+=s.deduction}))}),this.exportUrl=`${h.N.apiUrl}api/Attendance/export?From=${this.startDate}&To=${this.endDate}&spaceId=${localStorage.getItem("space-id")}&timeZone=${this.convertTimezoneOffset(this.timezone)}`}getUserProfile(){this.userService.getUserProfile(this.selectedUser).subscribe(t=>{this.joinDate=t.creationDate})}userChanged(){this.selectedUser||(this.selectedUser=localStorage.getItem("id")),this.getUserProfile(),this.getAttendance()}exportToExcel(){let t=this.elm.nativeElement.querySelector("#attendance");const s=v.P6.table_to_sheet(t),i=v.P6.book_new();v.P6.book_append_sheet(i,s,"Sheet1"),v.NC(i,this.attendance.list[0]?.userName+"-"+this.datePipe.transform(this.endDate,"MMMM")+"-attendance.xlsx")}openDialog(t,s,i){if(this.title=i,this.reportDate=this.datePipe.transform(t.date,"yyyy-MM-dd"),this.checkInTime=t.checkIn,this.checkOutTime=t.checkOut,"create"==i)this.attendanceStatus="checkIn"==s?1:2,this.attendanceDate=this.getDefaultTime();else if("update"==i){this.selectedAttendance="checkIn"==s?{id:t.checkInId,date:t.checkIn}:{id:t.checkOutId,date:t.checkOut};const r=new Date(this.selectedAttendance.date),l=-this.timezone/60;r.setHours(r.getHours()+l),this.attendanceDate=r}this.dialog.open(this.dialogTemplate,{width:"500px"})}updateAttendance(){1===this.attendanceStatus&&this.checkOutTime&&this.attendanceDateTime>this.checkOutTime?this.alert.showAlert("check_in_time_greater_than_check_out_time","bg-danger"):2===this.attendanceStatus&&this.checkInTime&&this.attendanceDateTime<this.checkInTime?this.alert.showAlert("check_out_time_less_than_check_in_time","bg-danger"):this.service.updateAttendance({id:this.selectedAttendance.id,dateTime:this.newAttendanceDate}).subscribe(s=>{s.success&&(this.alert.showAlert("success"),this.getAttendance(),this.closeDialog())})}createAttendance(){if(1===this.attendanceStatus&&this.checkOutTime&&this.attendanceDateTime>this.checkOutTime)this.alert.showAlert("check_in_time_greater_than_check_out_time","bg-danger");else if(2===this.attendanceStatus&&this.checkInTime&&this.attendanceDateTime<this.checkInTime)this.alert.showAlert("check_out_time_less_than_check_in_time","bg-danger");else if(this.attendanceDate){let t={employeeId:this.selectedUser,status:this.attendanceStatus,macAddress:"admin-"+localStorage.getItem("id"),latitude:0,longitude:0,dateTime:this.attendanceDateTime};this.service.createAttendance(t).subscribe(s=>{s.success&&(this.alert.showAlert("success"),this.getAttendance(),this.closeDialog())})}else this.alert.showAlert("required","bg-danger")}closeDialog(){this.dialog.closeAll(),this.attendanceDate=this.getDefaultTime()}getDefaultTime(){const t=new Date;return t.setHours(9,0,0,0),t}onDateChange(t){this.newAttendanceDate=this.datePipe.transform(t,"yyyy-MM-ddTHH:mm:00","UTC");let s=this.datePipe.transform(t,"THH:mm:00","UTC");this.attendanceDateTime=`${this.reportDate}${s}`}getPayrollCycle(){this.hrService.getPayrollCycle().subscribe({next:t=>{if(!t?.data)return void this.alert.showAlert("error","invalid_payroll_data");const s=new Date;if(this.crossMonth=t.data.crossMonth,t.data.fromDay&&t.data.toDay){this.fromDay=t.data.fromDay,this.toDay=t.data.toDay;const i=this.fromDay<=15&&this.crossMonth?s.getMonth()+1:s.getMonth();this.updateStartEndDates(s,i),this.crossMonth?new Date(this.endDate)>s?(this.now=new Date,this.month=s.getMonth()+1):(this.now=new Date(s.getFullYear(),s.getMonth()+1,1),this.month=s.getMonth()+2):this.month=s.getMonth()+1,this.getAttendance()}else this.alert.showAlert("error","missing_payroll_days")},error:t=>{console.error("Error fetching payroll cycle:",t),this.alert.showAlert("error","fetch_payroll_failed")}})}updateStartEndDates(t,s){try{const i=this.crossMonth?1:0;this.startDate=this.datePipe.transform(new Date(t.getFullYear(),s-i,this.fromDay),"yyyy-MM-dd");const r=this.crossMonth?this.toDay:new Date(t.getFullYear(),s+1,0).getDate();if(this.endDate=this.datePipe.transform(new Date(t.getFullYear(),s,r),"yyyy-MM-dd"),!this.startDate||!this.endDate)throw new Error("Invalid date transformation")}catch(i){console.error("Error updating dates:",i),this.alert.showAlert("error","date_update_failed")}}setMonthAndYear(t){this.showClearBtn=!0,this.month=t.getMonth()+1;const s=this.fromDay<=15&&this.crossMonth?t.getMonth()+1:t.getMonth();this.updateStartEndDates(t,s)}resetMonth(){this.setMonthAndYear(new Date),this.getAttendance(),this.showClearBtn=!1}static{this.\u0275fac=function(s){return new(s||n)(e.Y36(e.SBq),e.Y36(Re),e.Y36(c.uU),e.Y36(E.uw),e.Y36(Be.c),e.Y36(We.j),e.Y36(ze.K))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["user-attendance"]],viewQuery:function(s,i){if(1&s&&e.Gf(Xe,5),2&s){let r;e.iGM(r=e.CRH())&&(i.dialogTemplate=r.first)}},standalone:!0,features:[e.jDz],decls:33,vars:39,consts:[["magicScroll","",1,"attendance","p-2","h-100","relative"],[1,"flex","aic","jcsb","gap-x-2","mb-1","select-date"],[1,"flex","aic","gap-x-2"],[1,"date-picker-card"],[1,"d-flex","justify-content-between","mb-2"],[1,"w-75"],[3,"max","min","selectedDate","displayLabel","onChange"],["class","clear-btn","type","button",3,"click",4,"ngIf"],[1,"date-picker-card-footer"],[1,"overdue","py-50","px-1"],[1,"fs-14"],["bindLabel","name","bindValue","id","appendTo","body",1,"w-22r",3,"items","placeholder","ngModel","multiple","closeOnSelect","ngModelChange"],["mat-button","","color","primary","mat-raised-button","",3,"click"],["target","_blank","mat-button","","color","primary","mat-raised-button","",3,"href"],[4,"ngIf"],["dialogTemplate",""],["type","button",1,"clear-btn",3,"click"],[1,"bx","bx-x"],["id","attendance",1,"w-100",3,"ngClass"],["class","bg-custom-light",4,"ngIf"],[1,"bg-light-primary-1"],[1,"px-2","py-2","text-left"],[1,"px-2","py-2","text-left",2,"width","10%"],[3,"class",4,"ngFor","ngForOf"],[1,"bg-custom-light"],["colspan","2",1,"text-left","py-2","px-2"],[1,"primary"],["colspan","3",1,"text-left","py-2","px-2"],["colspan","1",1,"text-left","py-2","px-2"],[1,"px-2","py-1","text-left","date","border-bottom"],[1,"fs-14","bold"],[1,"px-2","py-1","check-in","border-bottom","text-left"],["class","pointer bold flex aic",3,"click",4,"ngIf"],["class","black",3,"click",4,"ngIf"],[1,"px-2","py-1","late","border-bottom","text-left"],[1,"px-2","py-1","early","border-bottom","text-left"],[1,"px-2","py-1","total-hours","border-bottom","text-left"],[1,"px-2","py-1","note","border-bottom","text-left","text-black"],[1,"pointer","bold","flex","aic",3,"click"],[1,"bx","bx-edit","fs-16","mr-50"],[1,"black",3,"click"],[1,"bx","bx-plus-circle","pointer","fs-16"],[1,"dir"],[1,"d-flex","justify-content-center"],[1,"fs-18","bold","black","mb-2"],[1,"custom-time-picker","d-flex","justify-content-center",3,"minuteStep","ngModel","ngModelChange"],[1,"d-flex","justify-content-center","mb-2","mt-2"],["style","display: inline-block","class","btn rounded bg-primary white py-75 px-2 fs-14",3,"click",4,"ngIf"],["type","button","mat-button","",1,"bg-white","primary","py-1","px-2","border-primary","rounded","pointer","ml-1",3,"click"],[1,"btn","rounded","bg-primary","white","py-75","px-2","fs-14",2,"display","inline-block",3,"click"]],template:function(s,i){1&s&&(e.TgZ(0,"layout")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"month-filter",6),e.NdJ("onChange",function(l){return i.setMonthAndYear(l),i.getAttendance()}),e.qZA()(),e.YNc(8,et,2,0,"button",7),e.qZA(),e.TgZ(9,"div",8)(10,"p"),e._uU(11),e.ALo(12,"translate"),e.ALo(13,"date"),e.ALo(14,"translate"),e.ALo(15,"date"),e.qZA()()(),e.TgZ(16,"div",9)(17,"label",10),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"ng-select",11),e.NdJ("ngModelChange",function(l){return i.selectedUser=l})("ngModelChange",function(){return i.userChanged()}),e.ALo(21,"async"),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"div",2)(24,"button",12),e.NdJ("click",function(){return i.exportToExcel()}),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"a",13),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e.YNc(30,lt,32,30,"ng-container",14),e.qZA()(),e.YNc(31,ht,13,10,"ng-template",null,15,e.W1O)),2&s&&(e.xp6(7),e.Q6J("max",i.now)("min",i.joinDate)("selectedDate",i.now)("displayLabel",!1),e.xp6(1),e.Q6J("ngIf",i.showClearBtn),e.xp6(3),e.HOy(" ",e.lcZ(12,19,"from")," ",e.xi3(13,21,i.startDate,"dd/MM/yyyy")," ",e.lcZ(14,24,"to")," ",e.xi3(15,26,i.endDate,"dd/MM/yyyy")," "),e.xp6(7),e.Oqu(e.lcZ(19,29,"team_members")),e.xp6(2),e.Q6J("items",e.lcZ(21,31,i.teamMembers$))("placeholder",e.lcZ(22,33,"select_user"))("ngModel",i.selectedUser)("multiple",!1)("closeOnSelect",!0),e.xp6(5),e.hij(" ",e.lcZ(26,35,"export")," "),e.xp6(2),e.s9C("href",i.exportUrl,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(29,37,"export_all_team")," "),e.xp6(2),e.Q6J("ngIf",!i.loading))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.Ov,c.uU,D.P,_.E,O.W,z.$,p.h,m.ot,m.zs,m.lW,A.FA,T.lN,b.A0,b.w9,w.UX,w.JJ,H.aw,H.X$,w.u5,w.On,Q.N,G.JX,P.Ll,P.x,E.Is,E.xY,F.XK,X.c,g.z,$e,me],styles:[".attendance-label[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:1rem}  month-filter input.ng-invalid.ng-touched,   month-filter .input.ng-invalid.ng-touched{border-color:#e7e7e7!important}.date[_ngcontent-%COMP%]{width:20rem}.sticky[_ngcontent-%COMP%]{position:sticky;top:-20px;z-index:99}thead[_ngcontent-%COMP%]{top:100px!important}.bg-custom-light[_ngcontent-%COMP%]{background:rgba(238,238,238,.5)}.date-picker-card[_ngcontent-%COMP%]{position:relative;border-radius:8px;padding:12px;margin-bottom:8px;border:.5px solid rgba(157,157,157,.4)}.date-picker-card[_ngcontent-%COMP%]   .date-picker-card-body[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:flex-start;margin-block-end:8px}.clear-btn[_ngcontent-%COMP%]{background:rgba(211,47,47,.2509803922);border:none;border-radius:50%;height:16px;width:16px;color:#d32f2f}.bg-exceeded[_ngcontent-%COMP%]{background:#C6C4BD;color:#554104}"]})}}return n})()}}]);