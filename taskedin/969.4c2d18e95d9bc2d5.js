"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[969],{70969:(gi,U,c)=>{c.r(U),c.d(U,{SpaceConfigurationComponent:()=>ri});var t=c(65879),r=c(96814),H=c(1428),p=c(89515),z=c(55254),d=c(17700),w=c(74104),h=c(57105),u=c(65668),V=c(93053),B=c(53851),a=c(56223),m=c(69323),$=c(44311),M=c(52597),K=c(17857),_=c(99758);function X(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"a",13),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addLeave())}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.assignLeave())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"add_leave_type")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"assign_leave")," "))}function W(n,l){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"loading"),t.qZA())}function tt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr",23)(1,"td",24),t._uU(2),t.qZA(),t.TgZ(3,"td",24),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"td",24),t._uU(8),t.ALo(9,"translate"),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"td",24),t._uU(12),t.qZA(),t.TgZ(13,"td",24),t._uU(14),t.qZA(),t.TgZ(15,"td",25)(16,"div",26),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.addLeave(s))}),t._UZ(17,"img",27),t.qZA()()()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.isPaid?t.lcZ(5,5,"yes"):t.lcZ(6,7,"no")),t.xp6(4),t.Oqu(e.needApprove?t.lcZ(9,9,"yes"):t.lcZ(10,11,"no")),t.xp6(4),t.Oqu(e.automaticAssignDaysCount||"-"),t.xp6(2),t.Oqu(e.requestLimit)}}function et(n,l){if(1&n&&(t.TgZ(0,"div",16)(1,"table",17)(2,"thead")(3,"tr",18)(4,"th",19),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",19),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",19),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",19),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",19),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",20),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"th"),t.qZA()(),t.TgZ(23,"tbody",21),t.YNc(24,tt,18,13,"tr",22),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,7,"type")),t.xp6(3),t.Oqu(t.lcZ(9,9,"paid")),t.xp6(3),t.Oqu(t.lcZ(12,11,"required_approval")),t.xp6(3),t.Oqu(t.lcZ(15,13,"days_vacation")),t.xp6(3),t.Oqu(t.lcZ(18,15,"max_days_number")),t.xp6(3),t.Oqu(t.lcZ(21,17,"action")),t.xp6(4),t.Q6J("ngForOf",e.leaveTypes)}}function nt(n,l){1&n&&(t.TgZ(0,"div",28),t._UZ(1,"not-found"),t.qZA())}let it=(()=>{class n{search(e){throw new Error("Method not implemented.")}constructor(e,o,i,s){this.dialog=e,this.service=o,this.spacesService=i,this.alert=s,this.hrService=(0,t.f3M)(m.j),this.leaveTypes=[],this.loading=!0}ngOnInit(){this.getPayrollCycle(),this.source$=this.service.list$.subscribe(e=>{this.leaveTypes=e.data,this.loading=!1})}getPayrollCycle(){this.hrService.getPayrollCycle().subscribe({next:e=>{this.spaceConfiguration=e.data,this.leaveSystem=e.data.leaveSystem}})}updateLeaveSystem(e){this.spacesService.updateSpaceConfiguration({leaveSystem:e,fromDay:this.spaceConfiguration.fromDay,toDay:this.spaceConfiguration.toDay,crossMonth:this.spaceConfiguration.crossMonth}).subscribe(i=>{i.success&&this.alert.showAlert("space_configuration_updated")})}trackBy(e,o){return o.id}ngOnDestroy(){this.source$.unsubscribe()}addLeave(e){this.selectedLeave=null,e&&(this.selectedLeave=e),this.dialog.open(V.S,{width:"550px",data:this.selectedLeave})}assignLeave(){this.dialog.open(B.C,{panelClass:"medium-dialog"})}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(M.N),t.Y36(K.s),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["leaves-list"]],standalone:!0,features:[t.jDz],decls:14,vars:10,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-md-6"],[1,"d-flex","align-items-center","gap-x-1"],["src","assets/images/icons/eye.svg","alt","eye icon"],[1,"fs-18","black"],["id","leaveSystem",3,"labelPosition","showLabel","ngModel","ngModelChange"],["class","col-md-6 text-right",4,"ngIf"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],[1,"col-md-6","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14","mr-2",2,"display","inline-block",3,"click"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"text-right","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"text-right"],[1,"img","pointer",3,"click"],["src","assets/images/icons/edit1.svg","alt","edit icon"],[1,"py-5","text-center"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"p",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"toggle-switch",6),t.NdJ("ngModelChange",function(g){return i.leaveSystem=g})("ngModelChange",function(g){return i.updateLeaveSystem(g)}),t.qZA()()(),t.YNc(9,X,7,6,"div",7),t.qZA(),t.TgZ(10,"div",8),t.YNc(11,W,2,0,"div",9),t.YNc(12,et,25,19,"div",10),t.YNc(13,nt,2,0,"div",11),t.qZA()()),2&o&&(t.xp6(6),t.Oqu(t.lcZ(7,8,"enable_leaves_module")),t.xp6(2),t.Q6J("labelPosition","after")("showLabel",!1)("ngModel",i.leaveSystem),t.xp6(1),t.Q6J("ngIf",i.leaveSystem),t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.leaveTypes.length>0&&!i.loading&&i.leaveSystem),t.xp6(1),t.Q6J("ngIf",0==i.leaveTypes.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,h.w,u.N,p.aw,p.X$,a.u5,a.JJ,a.On,$.M],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var ot=c(65619),at=c(83620),lt=c(94664),st=c(37398),rt=c(79934),ct=c(86421),pt=c(16676),P=c(83318);function dt(n,l){1&n&&(t.TgZ(0,"div",11),t._UZ(1,"loading"),t.qZA())}function gt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"td",19)(1,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.deleteHolidayGroupConfirmation(i.groupIds))}),t.qZA()()}}function mt(n,l){if(1&n&&(t.TgZ(0,"tr",18)(1,"td",19),t._uU(2),t.qZA(),t.TgZ(3,"td",19),t._uU(4),t.qZA(),t.TgZ(5,"td",19),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td",19),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td",19),t._uU(12),t.qZA(),t.YNc(13,gt,2,0,"td",20),t.qZA()),2&n){const e=l.$implicit,o=t.oxw(2);t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.nameEn),t.xp6(2),t.Oqu(t.xi3(7,6,e.startDate,"dd/MM/yyyy")),t.xp6(3),t.Oqu(t.xi3(10,9,e.endDate,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.daysNumber),t.xp6(1),t.Q6J("ngIf",!o.isDatePassed(e.startDate))}}function _t(n,l){if(1&n&&(t.TgZ(0,"div",12)(1,"table",13)(2,"thead")(3,"tr",14)(4,"th",15),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",15),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",15),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",15),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",15),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",15),t._uU(20),t.ALo(21,"translate"),t.qZA()()(),t.TgZ(22,"tbody",16),t.YNc(23,mt,14,12,"tr",17),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,7,"arabic_name")),t.xp6(3),t.Oqu(t.lcZ(9,9,"english_name")),t.xp6(3),t.Oqu(t.lcZ(12,11,"teamKpis.start_date")),t.xp6(3),t.Oqu(t.lcZ(15,13,"teamKpis.end_date")),t.xp6(3),t.Oqu(t.lcZ(18,15,"days_number")),t.xp6(3),t.Oqu(t.lcZ(21,17,"action")),t.xp6(3),t.Q6J("ngForOf",e.holidays)}}function ut(n,l){1&n&&(t.TgZ(0,"div",22),t._UZ(1,"not-found"),t.qZA())}let ft=(()=>{class n{constructor(){this.service=(0,t.f3M)(M.N),this.dialog=(0,t.f3M)(d.uw),this.alert=(0,t.f3M)(_.c),this.holidays=[],this.loading=!0,this.year=new ot.X(pt().format("YYYY"))}ngOnInit(){this.service.year.next(this.year.value),this.service.hasChanged.pipe((0,at.b)(400),(0,lt.w)(()=>(this.service.loading.next(!0),this.service.getHolidays().pipe((0,st.U)(e=>{this.holidays=this.transformHolidaysData(e.data),this.service.loading.next(!1),this.loading=!1}))))).subscribe()}transformHolidaysData(e){const o=[];return e.forEach(i=>{if(i&&Array.isArray(i)&&i.length>0){const s=i.sort((k,di)=>new Date(k.date).getTime()-new Date(di.date).getTime()),g=new Date(s[0].date),C=new Date(s[s.length-1].date),ci=Math.ceil((C.getTime()-g.getTime())/864e5)+1,pi={groupIds:s.map(k=>k.id),startDate:g,endDate:C,daysNumber:ci,nameAr:s[0].nameAr,nameEn:s[0].nameEn,spaceId:s[0].spaceId,creationDate:s[0].creationDate,isDeleted:s[0].isDeleted,deleterUserId:s[0].deleterUserId,deletionDate:s[0].deletionDate,lastModifierUserId:s[0].lastModifierUserId,lastModificationDate:s[0].lastModificationDate,originalGroup:s};o.push(pi)}}),o.sort((i,s)=>new Date(i.startDate).getTime()-new Date(s.startDate).getTime())}trackBy(e,o){return o.id}ngOnDestroy(){this.service.loading.next(!0)}addHoliday(){this.dialog.open(rt.C,{width:"550px"}).afterClosed().subscribe(o=>{this.service.hasChanged.next(!0)})}isDatePassed(e){const o=new Date;o.setHours(0,0,0,0);const i=new Date(e);return i.setHours(0,0,0,0),i<o}deleteHolidayGroupConfirmation(e){this.dialog.open(P.v,{panelClass:"confirmation-dialog",data:{message:"delete_holiday_group_message",btn_name:"delete",classes:"w-100 bg-danger"}}).afterClosed().subscribe(i=>{i&&this.service.deleteHolidayGroup(e).subscribe(s=>{s.success&&(this.alert.showAlert("holiday_group_deleted"),this.service.hasChanged.next(!0))})})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["holidays-list"]],standalone:!0,features:[t.jDz],decls:15,vars:12,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-6","text-left","d-flex","align-items-center","gap-x-1"],[1,"simibold","black"],[3,"classes","showLabel","selectedDate","onChange"],[1,"col-lg-6","text-right"],["mat-button","",1,"bg-primary","white","py-1","px-2","border-primary","rounded","pointer",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],["class","text-left",4,"ngIf"],[1,"bx","bx-trash","danger","fs-30","pointer",3,"click"],[1,"py-5","text-center"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"year-filter",4),t.NdJ("onChange",function(g){return i.service.year.next(g),i.service.hasChanged.next(!0)}),t.qZA()(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return i.addHoliday()}),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",7),t.YNc(12,dt,2,0,"div",8),t.YNc(13,_t,24,19,"div",9),t.YNc(14,ut,2,0,"div",10),t.qZA()()),2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,8,"holidays")),t.xp6(2),t.Q6J("classes","w-12r")("showLabel",!1)("selectedDate",i.year),t.xp6(3),t.hij(" ",t.lcZ(10,10,"add_holiday")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.holidays.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.holidays.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,r.uU,u.N,h.w,p.aw,p.X$,ct.b],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var f=c(69862),x=c(1350),b=c(58964);const ht=["dialogTemplate"];function xt(n,l){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"loading"),t.qZA())}function bt(n,l){if(1&n&&(t.TgZ(0,"tr",16)(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td",17),t._uU(4),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.nameEn),t.xp6(2),t.Oqu(e.nameAr)}}function vt(n,l){if(1&n&&(t.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th",13),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",13),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"tbody",14),t.YNc(11,bt,5,2,"tr",15),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,3,"english_name")),t.xp6(3),t.Oqu(t.lcZ(9,5,"arabic_name")),t.xp6(3),t.Q6J("ngForOf",e.jobTitles)}}function Zt(n,l){1&n&&(t.TgZ(0,"div",18),t._UZ(1,"not-found"),t.qZA())}function Tt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(6,"mat-dialog-content")(7,"form",22)(8,"div",23)(9,"div",24)(10,"div",25),t._UZ(11,"input-label",26)(12,"input",27)(13,"input-error",28),t.qZA()(),t.TgZ(14,"div",24)(15,"div",25),t._UZ(16,"input-label",29)(17,"input",30)(18,"input-error",28),t.qZA()()()()(),t.TgZ(19,"mat-dialog-actions")(20,"div",31)(21,"a",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.createJobTitle())}),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"add_job_title")),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("control",e.f.nameAr),t.xp6(2),t.Q6J("control",e.f.nameAr),t.xp6(3),t.Q6J("control",e.f.nameEn),t.xp6(2),t.Q6J("control",e.f.nameEn),t.xp6(4),t.hij(" ",t.lcZ(23,9,"add_job_title")," ")}}let yt=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.jobTitles=[],this.loading=!1}ngOnInit(){this.getAllJobTitles(),this.form=this.fb.group({nameAr:["",a.kI.required],nameEn:["",a.kI.required]})}getAllJobTitles(){this.loading=!0;let e=new f.LE;this.service.getAllJobTitles(e).subscribe(o=>{this.jobTitles=o.data.items,this.loading=!1})}addJobTitle(){this.dialog.open(this.dialogTemplate,{width:"500px"}).afterClosed().subscribe(()=>{this.form.reset()})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){throw new Error("Method not implemented.")}createJobTitle(){this.form.valid?this.service.createJobTitle(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("job_title_created_success"),this.getAllJobTitles(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["job-titles"]],viewQuery:function(o,i){if(1&o&&t.Gf(ht,5),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:12,vars:6,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-12","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-lg-6"],[1,"name"],["key","ar_name",3,"control"],["type","text","formControlName","nameAr",1,"input"],[3,"control"],["key","en_name",3,"control"],["type","text","formControlName","nameEn",1,"input"],[1,"text-right","w-100"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.NdJ("click",function(){return i.addJobTitle()}),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,xt,2,0,"div",5),t.YNc(8,vt,12,7,"div",6),t.YNc(9,Zt,2,0,"div",7),t.qZA()(),t.YNc(10,Tt,24,11,"ng-template",null,8,t.W1O)),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"add_job_title")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.jobTitles.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.jobTitles.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,u.N,h.w,p.aw,p.X$,d.Is,d.xY,d.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,x.i,b.w],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var T=c(9619),J=c(92596);const At=["dialogTemplate"];function Ct(n,l){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"loading"),t.qZA())}function qt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr",16)(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td",17),t._uU(4),t.ALo(5,"arabicDate"),t.qZA(),t.TgZ(6,"td",17)(7,"i",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.openDialog(s,!1))}),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"i",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.openDialog(s,!0))}),t.ALo(10,"translate"),t.qZA()()()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.bankName),t.xp6(2),t.Oqu(t.lcZ(5,4,e.creationDate)),t.xp6(3),t.s9C("matTooltip",t.lcZ(8,6,"add_branch")),t.xp6(2),t.s9C("matTooltip",t.lcZ(10,8,"branches"))}}function Ot(n,l){if(1&n&&(t.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th",13),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",13),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"th",13),t.qZA()(),t.TgZ(11,"tbody",14),t.YNc(12,qt,11,10,"tr",15),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,3,"bank_name")),t.xp6(3),t.Oqu(t.lcZ(9,5,"date")),t.xp6(4),t.Q6J("ngForOf",e.banks)}}function wt(n,l){1&n&&(t.TgZ(0,"div",20),t._UZ(1,"not-found"),t.qZA())}function Lt(n,l){1&n&&(t.TgZ(0,"h4"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_bank")))}function kt(n,l){1&n&&(t.TgZ(0,"h4"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_branch")))}function Ut(n,l){1&n&&(t.TgZ(0,"h4"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"branches")))}function Mt(n,l){if(1&n&&(t.TgZ(0,"form",26)(1,"div",27)(2,"div",28)(3,"div",29),t._UZ(4,"input-label",30)(5,"input",31)(6,"input-error",32),t.qZA()()()()),2&n){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("control",e.f.bankName),t.xp6(2),t.Q6J("control",e.f.bankName)}}function Pt(n,l){if(1&n&&(t.TgZ(0,"form",26)(1,"div",27)(2,"div",28)(3,"div",29),t._UZ(4,"input-label",33)(5,"input",34)(6,"input-error",32),t.qZA()()()()),2&n){const e=t.oxw(3);t.Q6J("formGroup",e.branchForm),t.xp6(4),t.Q6J("control",e.f.branchName),t.xp6(2),t.Q6J("control",e.f.branchName)}}function Jt(n,l){if(1&n&&(t.ynx(0),t.YNc(1,Mt,7,3,"form",25),t.YNc(2,Pt,7,3,"form",25),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.branchDialog),t.xp6(1),t.Q6J("ngIf",e.branchDialog)}}function It(n,l){1&n&&(t.TgZ(0,"div",37),t._UZ(1,"loading"),t.qZA())}function Nt(n,l){if(1&n&&(t.TgZ(0,"p",39),t._uU(1),t.qZA()),2&n){const e=l.$implicit;t.xp6(1),t.Oqu(e.branchName)}}function Qt(n,l){if(1&n&&(t.ynx(0),t.YNc(1,Nt,2,1,"p",38),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.branches)}}function Dt(n,l){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"not-found"),t.qZA())}function Yt(n,l){if(1&n&&(t.ynx(0),t.YNc(1,It,2,0,"div",35),t.YNc(2,Qt,2,1,"ng-container",23),t.YNc(3,Dt,2,0,"div",36),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",e.branches.length>0&&!e.loading),t.xp6(1),t.Q6J("ngIf",0==e.branches.length&&!e.loading)}}function Ft(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.createBank())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"add_bank")," "))}function jt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.createBranch())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"add_branch")," "))}function Et(n,l){if(1&n&&(t.TgZ(0,"mat-dialog-actions")(1,"div",41),t.YNc(2,Ft,3,3,"a",42),t.YNc(3,jt,3,3,"a",42),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!e.branchDialog),t.xp6(1),t.Q6J("ngIf",e.branchDialog)}}function Gt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22),t.YNc(2,Lt,3,3,"h4",23),t.YNc(3,kt,3,3,"h4",23),t.YNc(4,Ut,3,3,"h4",23),t.TgZ(5,"i",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(6,"mat-dialog-content"),t.YNc(7,Jt,3,2,"ng-container",23),t.YNc(8,Yt,4,3,"ng-container",23),t.qZA(),t.YNc(9,Et,4,2,"mat-dialog-actions",23),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.branchDialog&&!e.showBankBranches),t.xp6(1),t.Q6J("ngIf",e.branchDialog&&!e.showBankBranches),t.xp6(1),t.Q6J("ngIf",e.showBankBranches),t.xp6(3),t.Q6J("ngIf",!e.showBankBranches),t.xp6(1),t.Q6J("ngIf",e.showBankBranches),t.xp6(1),t.Q6J("ngIf",!e.showBankBranches)}}let St=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.banks=[],this.loading=!1,this.branchDialog=!1,this.branches=[],this.showBankBranches=!1}ngOnInit(){this.getAllBanks(),this.form=this.fb.group({bankName:["",a.kI.required]}),this.branchForm=this.fb.group({branchName:["",a.kI.required],bankId:[""]})}getAllBanks(){this.loading=!0,new f.LE,this.service.getAllBanks().subscribe(o=>{this.banks=o.data.items,this.loading=!1})}openDialog(e,o){this.form.reset(),this.branchForm.reset(),this.branchDialog=!1,this.showBankBranches=!1,this.dialog.open(this.dialogTemplate,{width:"400px"}),e&&!o&&(this.branchDialog=!0,this.bankId=e.id),o&&(this.loading=!0,this.showBankBranches=!0,this.service.getAllBankBranches(e.id).subscribe(i=>{this.loading=!1,this.branches=i.data.items}))}createBranch(){this.branchForm.value.bankId=this.bankId,this.branchForm.valid?this.service.createBankBranch(this.branchForm.value).subscribe(e=>{e.success&&(this.alert.showAlert("branch_created_success"),this.branchDialog=!1,this.closeDialog())}):(this.branchForm.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}createBank(){this.form.valid?this.service.createBank(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("bank_created_success"),this.getAllBanks(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){throw new Error("Method not implemented.")}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["space-banks"]],viewQuery:function(o,i){if(1&o&&t.Gf(At,5),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:12,vars:6,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-12","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"bx","bx-plus-circle","fs-30","px-50","success","pointer",3,"matTooltip","click"],[1,"bx","bx-show","fs-30","px-50","blue","pointer",3,"matTooltip","click"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[4,"ngIf"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup",4,"ngIf"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-lg-12"],[1,"name"],["key","bank_name",3,"control"],["type","text","formControlName","bankName",1,"input"],[3,"control"],["key","branch_name",3,"control"],["type","text","formControlName","branchName",1,"input"],["class","aic flex jcc py-2 h-50v",4,"ngIf"],["class","py-2 text-center",4,"ngIf"],[1,"aic","flex","jcc","py-2","h-50v"],["class","pb-1 border-bottom",4,"ngFor","ngForOf"],[1,"pb-1","border-bottom"],[1,"py-2","text-center"],[1,"text-right","w-100"],["style","display: inline-block;","class","btn rounded bg-primary white py-75 px-1 fs-14 ",3,"click",4,"ngIf"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.NdJ("click",function(){return i.openDialog()}),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,Ct,2,0,"div",5),t.YNc(8,Ot,13,7,"div",6),t.YNc(9,wt,2,0,"div",7),t.qZA()(),t.YNc(10,Gt,10,6,"ng-template",null,8,t.W1O)),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"add_bank")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.banks.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.banks.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,u.N,h.w,p.aw,p.X$,T.P,d.Is,d.xY,d.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,x.i,b.w,J.AV,J.gM],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var v=c(32296),Rt=c(32091),Ht=c(14139);const zt=["dialogTemplate"];function Vt(n,l){1&n&&(t.TgZ(0,"div",11),t._UZ(1,"loading"),t.qZA())}function Bt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr",18)(1,"td",19),t._uU(2),t.qZA(),t.TgZ(3,"td",19),t._uU(4),t.qZA(),t.TgZ(5,"td",19),t._uU(6),t.qZA(),t.TgZ(7,"td",19),t._uU(8),t.qZA(),t.TgZ(9,"td",19),t._uU(10),t.qZA(),t.TgZ(11,"td",19),t._uU(12),t.qZA(),t.TgZ(13,"td",19),t._uU(14),t.ALo(15,"arabicDate"),t.qZA(),t.TgZ(16,"td")(17,"div",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.editPenalty(s))}),t._UZ(18,"img",21),t.qZA()()()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.deductionAmountFirstTime),t.xp6(2),t.Oqu(e.deductionAmountSecondTime),t.xp6(2),t.Oqu(e.deductionAmountThirdTime),t.xp6(2),t.Oqu(e.deductionAmountFourthTime),t.xp6(2),t.Oqu(t.lcZ(15,7,e.creationDate))}}function $t(n,l){if(1&n&&(t.TgZ(0,"div",12)(1,"table",13)(2,"thead")(3,"tr",14)(4,"th",15),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",15),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",15),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",15),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",15),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",15),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",15),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"th",15),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.TgZ(28,"tbody",16),t.YNc(29,Bt,19,9,"tr",17),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,9,"arabic_name")),t.xp6(3),t.Oqu(t.lcZ(9,11,"english_name")),t.xp6(3),t.Oqu(t.lcZ(12,13,"first_time")),t.xp6(3),t.Oqu(t.lcZ(15,15,"second_time")),t.xp6(3),t.Oqu(t.lcZ(18,17,"third_time")),t.xp6(3),t.Oqu(t.lcZ(21,19,"fourth_time")),t.xp6(3),t.Oqu(t.lcZ(24,21,"date")),t.xp6(3),t.Oqu(t.lcZ(27,23,"action")),t.xp6(3),t.Q6J("ngForOf",e.penalties)}}function Kt(n,l){1&n&&(t.TgZ(0,"div",22),t._UZ(1,"not-found"),t.qZA())}function Xt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addPenalty())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"add")," "))}function Wt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.updatePenalty())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"update")," "))}function te(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",23)(1,"div",24)(2,"h4",3),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"mat-dialog-content")(7,"form",25)(8,"div",26)(9,"div",27)(10,"div",28),t._UZ(11,"input-label",29)(12,"input",30)(13,"input-error",31),t.qZA()(),t.TgZ(14,"div",27)(15,"div",28),t._UZ(16,"input-label",32)(17,"input",33)(18,"input-error",31),t.qZA()(),t.TgZ(19,"div",27)(20,"div",28)(21,"div",34),t._UZ(22,"input-label",35),t.qZA(),t.TgZ(23,"div",36),t._UZ(24,"input",37),t.TgZ(25,"span",38),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t._UZ(28,"input-error",31),t.qZA()(),t.TgZ(29,"div",27)(30,"div",28)(31,"div",34),t._UZ(32,"input-label",39),t.qZA(),t.TgZ(33,"div",36),t._UZ(34,"input",40),t.TgZ(35,"span",38),t._uU(36),t.ALo(37,"translate"),t.qZA()(),t._UZ(38,"input-error",31),t.qZA()(),t.TgZ(39,"div",27)(40,"div",28)(41,"div",34),t._UZ(42,"input-label",41),t.qZA(),t.TgZ(43,"div",36),t._UZ(44,"input",42),t.TgZ(45,"span",38),t._uU(46),t.ALo(47,"translate"),t.qZA()(),t._UZ(48,"input-error",31),t.qZA()(),t.TgZ(49,"div",27)(50,"div",28)(51,"div",34),t._UZ(52,"input-label",43),t.qZA(),t.TgZ(53,"div",36),t._UZ(54,"input",44),t.TgZ(55,"span",38),t._uU(56),t.ALo(57,"translate"),t.qZA()(),t._UZ(58,"input-error",31),t.qZA()()()()(),t.TgZ(59,"mat-dialog-actions")(60,"div",45),t.YNc(61,Xt,3,3,"button",46),t.YNc(62,Wt,3,3,"button",46),t.TgZ(63,"button",47),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t._uU(64),t.ALo(65,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ","edit"===e.data.action?t.lcZ(4,40,"edit_penalty_type"):t.lcZ(5,42,"add_penalty_type")," "),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("control",e.f.nameAr)("showIcon",!0)("icon","assets/images/icons/text-block.svg"),t.xp6(1),t.Q6J("appArabicTextAllowSpaces",!0)("appArabicTextAllowNumbers",!1),t.xp6(1),t.Q6J("control",e.f.nameAr),t.xp6(3),t.Q6J("control",e.f.name)("showIcon",!0)("icon","assets/images/icons/text-block.svg"),t.xp6(1),t.Q6J("appEnglishTextAllowSpaces",!0)("appEnglishTextAllowNumbers",!1)("appEnglishTextAllowSpecialChars",!1),t.xp6(1),t.Q6J("control",e.f.name),t.xp6(4),t.Q6J("control",e.f.deductionAmountFirstTime)("showIcon",!0)("icon","assets/images/icons/number.svg"),t.xp6(2),t.Q6J("max",5),t.xp6(2),t.Oqu(t.lcZ(27,44,"day")),t.xp6(2),t.Q6J("control",e.f.deductionAmountFirstTime),t.xp6(4),t.Q6J("control",e.f.deductionAmountSecondTime),t.xp6(2),t.Q6J("max",5),t.xp6(2),t.Oqu(t.lcZ(37,46,"day")),t.xp6(2),t.Q6J("control",e.f.deductionAmountSecondTime),t.xp6(4),t.Q6J("control",e.f.deductionAmountThirdTime)("showIcon",!0)("icon","assets/images/icons/number.svg"),t.xp6(2),t.Q6J("max",5),t.xp6(2),t.Oqu(t.lcZ(47,48,"day")),t.xp6(2),t.Q6J("control",e.f.deductionAmountThirdTime),t.xp6(4),t.Q6J("control",e.f.deductionAmountFourthTime)("showIcon",!0)("icon","assets/images/icons/number.svg"),t.xp6(2),t.Q6J("max",5),t.xp6(2),t.Oqu(t.lcZ(57,50,"day")),t.xp6(2),t.Q6J("control",e.f.deductionAmountFourthTime),t.xp6(3),t.Q6J("ngIf","add"===e.data.action),t.xp6(1),t.Q6J("ngIf","edit"===e.data.action),t.xp6(2),t.hij(" ",t.lcZ(65,52,"cancel")," ")}}let ee=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.penalties=[],this.loading=!1,this.data={action:"add"}}ngOnInit(){this.getAllPenaltyTypes(),this.form=this.fb.group({name:["",a.kI.required],nameAr:["",a.kI.required],deductionAmountFirstTime:[0,[a.kI.required,a.kI.max(5)]],deductionAmountSecondTime:[0,[a.kI.required,a.kI.max(5)]],deductionAmountThirdTime:[0,[a.kI.required,a.kI.max(5)]],deductionAmountFourthTime:[0,[a.kI.required,a.kI.max(5)]]})}getAllPenaltyTypes(){this.loading=!0,new f.LE,this.service.getAllPenaltiesType().subscribe(o=>{this.penalties=o.data,this.loading=!1})}openDialog(){this.data={action:"add"},this.form.reset(),this.dialog.open(this.dialogTemplate,{width:"500px"})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){throw new Error("Method not implemented.")}addPenalty(){this.form.valid?this.service.addPenaltyType(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("penalty_type_created_success"),this.getAllPenaltyTypes(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}editPenalty(e){this.data={action:"edit",item:e},this.form.patchValue(e),this.dialog.open(this.dialogTemplate,{width:"500px"})}updatePenalty(){if(this.form.valid){const e={...this.form.value,id:this.data.item.id};this.service.updatePenaltyType(e).subscribe(o=>{o.success&&(this.alert.showAlert("penalty_type_updated_success"),this.getAllPenaltyTypes(),this.closeDialog())})}else this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger")}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["penalty-types"]],viewQuery:function(o,i){if(1&o&&t.Gf(zt,5),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:16,vars:9,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-6","text-left"],[1,"simibold","black"],[1,"col-lg-6","text-right"],["mat-button","",1,"bg-primary","white","py-1","px-2","border-primary","rounded","pointer",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"img","pointer",3,"click"],["src","assets/images/icons/edit1.svg","alt","edit icon"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-lg-6"],[1,"name"],["key","arabic_name",3,"control","showIcon","icon"],["type","text","formControlName","nameAr","appArabicText","",1,"input",3,"appArabicTextAllowSpaces","appArabicTextAllowNumbers"],[3,"control"],["key","english_name",3,"control","showIcon","icon"],["type","text","formControlName","name","appEnglishText","",1,"input",3,"appEnglishTextAllowSpaces","appEnglishTextAllowNumbers","appEnglishTextAllowSpecialChars"],[1,"flex"],["key","first_time",3,"control","showIcon","icon"],[1,"flex","aic","position-relative"],["type","text","formControlName","deductionAmountFirstTime",1,"input",3,"max"],[1,"input-suffix"],["key","second_time",3,"control"],["type","text","formControlName","deductionAmountSecondTime",1,"input",3,"max"],["key","third_time",3,"control","showIcon","icon"],["type","text","formControlName","deductionAmountThirdTime",1,"input",3,"max"],["key","fourth_time",3,"control","showIcon","icon"],["type","text","formControlName","deductionAmountFourthTime",1,"input",3,"max"],[1,"text-right","w-100"],["type","submit","class","bg-primary white py-1 px-2 border-primary rounded pointer","mat-button","",3,"click",4,"ngIf"],["type","button","mat-button","",1,"bg-white","primary","py-1","px-2","border-primary","rounded","pointer","ml-1",3,"click"],["type","submit","mat-button","",1,"bg-primary","white","py-1","px-2","border-primary","rounded","pointer",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return i.openDialog()}),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",6),t.YNc(11,Vt,2,0,"div",7),t.YNc(12,$t,30,25,"div",8),t.YNc(13,Kt,2,0,"div",9),t.qZA()(),t.YNc(14,te,66,54,"ng-template",null,10,t.W1O)),2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,5,"penalty_types")),t.xp6(4),t.hij(" ",t.lcZ(9,7,"add_penalty_type")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.penalties.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.penalties.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,u.N,h.w,v.ot,v.lW,p.aw,p.X$,T.P,d.Is,d.xY,d.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,x.i,b.w,Ht.P,Rt.E],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();const ne=["dialogTemplate"];function ie(n,l){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"loading"),t.qZA())}function oe(n,l){if(1&n&&(t.TgZ(0,"tr",16)(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td",17),t._uU(4),t.qZA(),t.TgZ(5,"td",17),t._uU(6),t.ALo(7,"arabicDate"),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.nameEn),t.xp6(2),t.Oqu(t.lcZ(7,3,e.creationDate))}}function ae(n,l){if(1&n&&(t.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th",13),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",13),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",13),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"tbody",14),t.YNc(14,oe,8,5,"tr",15),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,4,"arabic_name")),t.xp6(3),t.Oqu(t.lcZ(9,6,"english_name")),t.xp6(3),t.Oqu(t.lcZ(12,8,"date")),t.xp6(3),t.Q6J("ngForOf",e.experiences)}}function le(n,l){1&n&&(t.TgZ(0,"div",18),t._UZ(1,"not-found"),t.qZA())}function se(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(6,"mat-dialog-content")(7,"form",22)(8,"div",23)(9,"div",24)(10,"div",25),t._UZ(11,"input-label",26)(12,"input",27)(13,"input-error",28),t.qZA()(),t.TgZ(14,"div",24)(15,"div",25),t._UZ(16,"input-label",29)(17,"input",30)(18,"input-error",28),t.qZA()()()()(),t.TgZ(19,"mat-dialog-actions")(20,"div",31)(21,"a",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addExperience())}),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"add_experience")),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("control",e.f.nameAr),t.xp6(2),t.Q6J("control",e.f.nameAr),t.xp6(3),t.Q6J("control",e.f.nameAr),t.xp6(2),t.Q6J("control",e.f.nameEn),t.xp6(4),t.hij(" ",t.lcZ(23,9,"add_experience")," ")}}let re=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.experiences=[],this.loading=!1}ngOnInit(){this.getAllexperience(),this.form=this.fb.group({nameAr:["",a.kI.required],nameEn:["",a.kI.required]})}getAllexperience(){this.loading=!0,new f.LE,this.service.getAllWorkExp().subscribe(o=>{this.experiences=o.data,this.loading=!1})}openDialog(){this.dialog.open(this.dialogTemplate,{width:"500px"})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){throw new Error("Method not implemented.")}addExperience(){this.form.valid?this.service.createWorkExp(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("experience_created_success"),this.getAllexperience(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["experience-levels"]],viewQuery:function(o,i){if(1&o&&t.Gf(ne,5),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:12,vars:6,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-12","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-lg-6"],[1,"name"],["key","arabic_name",3,"control"],["type","text","formControlName","nameAr",1,"input"],[3,"control"],["key","english_name",3,"control"],["type","text","formControlName","nameEn",1,"input"],[1,"text-right","w-100"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.NdJ("click",function(){return i.openDialog()}),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,ie,2,0,"div",5),t.YNc(8,ae,15,10,"div",6),t.YNc(9,le,2,0,"div",7),t.qZA()(),t.YNc(10,se,24,11,"ng-template",null,8,t.W1O)),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"add_experience")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.experiences.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.experiences.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,u.N,h.w,p.aw,p.X$,T.P,d.Is,d.xY,d.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,x.i,b.w],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();const ce=["dialogTemplate"];function pe(n,l){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"loading"),t.qZA())}function de(n,l){if(1&n&&(t.TgZ(0,"tr",16)(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td",17),t._uU(4),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.nameEn)}}function ge(n,l){if(1&n&&(t.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th",13),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",13),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"tbody",14),t.YNc(11,de,5,2,"tr",15),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,3,"arabic_name")),t.xp6(3),t.Oqu(t.lcZ(9,5,"english_name")),t.xp6(3),t.Q6J("ngForOf",e.fileTypes)}}function me(n,l){1&n&&(t.TgZ(0,"div",18),t._UZ(1,"not-found"),t.qZA())}function _e(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(6,"mat-dialog-content")(7,"form",22)(8,"div",23)(9,"div",24)(10,"div",25),t._UZ(11,"input-label",26)(12,"input",27)(13,"input-error",28),t.qZA()(),t.TgZ(14,"div",24)(15,"div",25),t._UZ(16,"input-label",29)(17,"input",30)(18,"input-error",28),t.qZA()()()()(),t.TgZ(19,"mat-dialog-actions")(20,"div",31)(21,"a",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addfileType())}),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"add_file_type")),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("control",e.f.nameAr),t.xp6(2),t.Q6J("control",e.f.nameAr),t.xp6(3),t.Q6J("control",e.f.nameAr),t.xp6(2),t.Q6J("control",e.f.nameEn),t.xp6(4),t.hij(" ",t.lcZ(23,9,"add_file_type")," ")}}let ue=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.fileTypes=[],this.loading=!1}ngOnInit(){this.getAllPenaltyTypes(),this.form=this.fb.group({nameAr:["",a.kI.required],nameEn:["",a.kI.required]})}getAllPenaltyTypes(){this.loading=!0,new f.LE,this.service.getFilesType().subscribe(o=>{this.fileTypes=o.data,this.loading=!1})}openDialog(){this.dialog.open(this.dialogTemplate,{width:"500px"})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){throw new Error("Method not implemented.")}addfileType(){this.form.valid?this.service.createFileType(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("file_type_created_success"),this.getAllPenaltyTypes(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["file-types"]],viewQuery:function(o,i){if(1&o&&t.Gf(ce,5),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:12,vars:6,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-12","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-lg-6"],[1,"name"],["key","arabic_name",3,"control"],["type","text","formControlName","nameAr",1,"input"],[3,"control"],["key","english_name",3,"control"],["type","text","formControlName","nameEn",1,"input"],[1,"text-right","w-100"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.NdJ("click",function(){return i.openDialog()}),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,pe,2,0,"div",5),t.YNc(8,ge,12,7,"div",6),t.YNc(9,me,2,0,"div",7),t.qZA()(),t.YNc(10,_e,24,11,"ng-template",null,8,t.W1O)),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"add_file")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.fileTypes.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.fileTypes.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,u.N,h.w,p.aw,p.X$,d.Is,d.xY,d.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,x.i,b.w],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();const fe=["dialogTemplate"];function he(n,l){1&n&&(t.TgZ(0,"div",9),t._UZ(1,"loading"),t.qZA())}function xe(n,l){if(1&n&&(t.TgZ(0,"tr",16)(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td",17),t._uU(4),t.qZA(),t.TgZ(5,"td",17),t._uU(6),t.ALo(7,"arabicDate"),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(7,3,e.creationDate))}}function be(n,l){if(1&n&&(t.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th",13),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",13),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",13),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"tbody",14),t.YNc(14,xe,8,5,"tr",15),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,4,"arabic_name")),t.xp6(3),t.Oqu(t.lcZ(9,6,"english_name")),t.xp6(3),t.Oqu(t.lcZ(12,8,"date")),t.xp6(3),t.Q6J("ngForOf",e.rewardTypes)}}function ve(n,l){1&n&&(t.TgZ(0,"div",18),t._UZ(1,"not-found"),t.qZA())}function Ze(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"i",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(6,"mat-dialog-content")(7,"form",22)(8,"div",23)(9,"div",24)(10,"div",25),t._UZ(11,"input-label",26)(12,"input",27)(13,"input-error",28),t.qZA()(),t.TgZ(14,"div",24)(15,"div",25),t._UZ(16,"input-label",29)(17,"input",30)(18,"input-error",28),t.qZA()(),t.TgZ(19,"div",31)(20,"div",25),t._UZ(21,"input-label",32)(22,"input",33)(23,"input-error",28),t.qZA()()()()(),t.TgZ(24,"mat-dialog-actions")(25,"div",34)(26,"a",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addrewardType())}),t._uU(27),t.ALo(28,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,9,"add_reward_type")),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("control",e.f.nameAr),t.xp6(2),t.Q6J("control",e.f.nameAr),t.xp6(3),t.Q6J("control",e.f.name),t.xp6(2),t.Q6J("control",e.f.name),t.xp6(3),t.Q6J("control",e.f.description),t.xp6(2),t.Q6J("control",e.f.description),t.xp6(4),t.hij(" ",t.lcZ(28,11,"add_reward_type")," ")}}let Te=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.rewardTypes=[],this.loading=!1}ngOnInit(){this.getAllrewardTypes(),this.form=this.fb.group({nameAr:["",a.kI.required],name:["",a.kI.required],salaryAffectTypeEnum:[1,a.kI.required],description:["",a.kI.required]})}getAllrewardTypes(){this.loading=!0;let e=new f.LE;this.service.getAllSalaryAffectsTypes(e).subscribe(o=>{this.rewardTypes=o.data.items,this.loading=!1})}openDialog(){this.form.reset(),this.form.patchValue({salaryAffectTypeEnum:1}),this.dialog.open(this.dialogTemplate,{width:"500px"})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){throw new Error("Method not implemented.")}addrewardType(){console.log(this.form.value),this.form.valid?this.service.createSalaryAffectType(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("success"),this.getAllrewardTypes(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["rewards-types"]],viewQuery:function(o,i){if(1&o&&t.Gf(fe,5),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:12,vars:6,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-12","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-lg-6"],[1,"name"],["key","arabic_name",3,"control"],["type","text","formControlName","nameAr",1,"input"],[3,"control"],["key","english_name",3,"control"],["type","text","formControlName","name",1,"input"],[1,"col-lg-12"],["key","description",3,"control"],["type","text","formControlName","description",1,"input"],[1,"text-right","w-100"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.NdJ("click",function(){return i.openDialog()}),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,he,2,0,"div",5),t.YNc(8,be,15,10,"div",6),t.YNc(9,ve,2,0,"div",7),t.qZA()(),t.YNc(10,Ze,29,13,"ng-template",null,8,t.W1O)),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"add_reward_type")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.rewardTypes.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.rewardTypes.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,u.N,h.w,p.aw,p.X$,T.P,d.Is,d.xY,d.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,x.i,b.w],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var ye=c(44975),L=c(32801),I=c(96271);const Ae=["dialogTemplate"];function Ce(n,l){1&n&&(t.TgZ(0,"div",8),t._UZ(1,"loading"),t.qZA())}function qe(n,l){if(1&n&&t._UZ(0,"app-img-title",21),2&n){const e=t.oxw().$implicit;t.Q6J("imgSrc",e.managerImageUrl)("title",e.managerName)}}function Oe(n,l){1&n&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function we(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr",15)(1,"td",16),t._uU(2),t.qZA(),t.TgZ(3,"td",16),t.YNc(4,qe,1,2,"app-img-title",17),t.YNc(5,Oe,2,0,"span",18),t.qZA(),t.TgZ(6,"td",16),t._uU(7),t.qZA(),t.TgZ(8,"td",16)(9,"div",19),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.updateDialog(s))}),t._UZ(10,"img",20),t.qZA()()()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngIf",e.managerName),t.xp6(1),t.Q6J("ngIf",!e.managerName),t.xp6(2),t.Oqu(e.parentName||"-")}}function Le(n,l){if(1&n&&(t.TgZ(0,"div",9)(1,"table",10)(2,"thead")(3,"tr",11)(4,"th",12),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",12),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",12),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"th",12),t.qZA()(),t.TgZ(14,"tbody",13),t.YNc(15,we,11,4,"tr",14),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,4,"department")),t.xp6(3),t.Oqu(t.lcZ(9,6,"department_manager")),t.xp6(3),t.Oqu(t.lcZ(12,8,"parent_department")),t.xp6(4),t.Q6J("ngForOf",e.departments)}}function ke(n,l){1&n&&(t.TgZ(0,"div",22),t._UZ(1,"not-found"),t.qZA())}let Ue=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.departments=[],this.loading=!1}ngOnInit(){this.getAllDepartments(),this.form=this.fb.group({nameAr:["",a.kI.required],name:["",a.kI.required],salaryAffectTypeEnum:[1,a.kI.required],description:["",a.kI.required]})}getAllDepartments(){this.loading=!0;let e=new f.LE;this.service.getDepartments(e).subscribe(o=>{this.departments=o.items,this.loading=!1})}openDialog(){this.dialog.open(I.W,{width:"500px",data:{createMode:!0}}).afterClosed().subscribe(()=>{this.getAllDepartments()})}updateDialog(e){this.dialog.open(I.W,{width:"500px",data:e}).afterClosed().subscribe(()=>{this.getAllDepartments()})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){throw new Error("Method not implemented.")}createDepartment(){this.form.valid?this.service.createDepartment(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("success"),this.getAllDepartments(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}updateDepartment(){this.form.valid?this.service.createDepartment(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("success"),this.getAllDepartments(),this.closeDialog())}):(this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger"))}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["departments-list"]],viewQuery:function(o,i){if(1&o&&t.Gf(Ae,5),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:10,vars:6,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-12","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[3,"imgSrc","title",4,"ngIf"],[4,"ngIf"],[1,"img","pointer",3,"click"],["src","assets/images/icons/edit1.svg","alt","edit icon"],[3,"imgSrc","title"],[1,"py-5","text-center"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.NdJ("click",function(){return i.openDialog()}),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4),t.YNc(7,Ce,2,0,"div",5),t.YNc(8,Le,16,10,"div",6),t.YNc(9,ke,2,0,"div",7),t.qZA()()),2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"create_department")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.departments.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.departments.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,u.N,h.w,p.aw,p.X$,d.Is,a.u5,a.UX,L.G],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var N=c(24971),Q=c(37689),D=c(46540),Y=c(70468),Z=c(54807);function Me(n,l){if(1&n&&t._UZ(0,"i"),2&n){const e=t.oxw();t.Gre("fs-11 mr-50 bx ",e.icon,"")}}function Pe(n,l){if(1&n&&t._UZ(0,"filter-label",4),2&n){const e=t.oxw();t.Q6J("key",e.label)}}function Je(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"ng-select",5),t.NdJ("search",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.search(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Gre("",e.width," icon-input"),t.s9C("bindLabel","ar"==e.language?"nameAr":"nameEn"),t.Q6J("items",e.allItems)("formControlName",e.formControlName)("multiple",e.multiable)("closeOnSelect",e.closeOnSelect)}}let Ie=(()=>{class n{constructor(e){this.service=e,this.label="places",this.labelVisibilty=!0,this.width="w-100",this.multiable=!1,this.closeOnSelect=!0,this.formControlName=null,this.valueChanged=new t.vpe,this.language=localStorage.getItem("language")}ngOnInit(){this.getItems()}search(e){this.searchValue=e.term,this.getItems()}getItems(){let e=new f.LE;this.searchValue&&(e=e.set("search",this.searchValue)),this.service.getAllPlaces(e).subscribe(o=>{this.allItems=o.items,this.totalItems=o.totalItems})}onChange(){this.valueChanged.emit(this.selectedDepartment)}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(m.j))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["places-list-form"]],inputs:{icon:"icon",selectedDepartment:"selectedDepartment",label:"label",labelVisibilty:"labelVisibilty",width:"width",multiable:"multiable",closeOnSelect:"closeOnSelect",formControlName:"formControlName"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[t._Bn([],[{provide:a.gN,useExisting:a.sg}]),t.jDz],decls:4,vars:3,consts:[[1,"departments-filter"],[3,"class",4,"ngIf"],[3,"key",4,"ngIf"],["bindValue","id","appendTo","body",3,"items","formControlName","bindLabel","class","multiple","closeOnSelect","search",4,"ngIf"],[3,"key"],["bindValue","id","appendTo","body",3,"items","formControlName","bindLabel","multiple","closeOnSelect","search"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Me,1,3,"i",1),t.YNc(2,Pe,1,1,"filter-label",2),t.YNc(3,Je,1,8,"ng-select",3),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.icon),t.xp6(1),t.Q6J("ngIf",i.labelVisibilty),t.xp6(1),t.Q6J("ngIf",i.formControlName))},dependencies:[r.ez,r.O5,Y.r,Z.A0,Z.w9,a.u5,a.JJ,p.aw,a.UX,a.u],encapsulation:2})}}return n})();var F=c(10480);const Ne=["dialogTemplate"],Qe=["dialogPlaceTemplate"];function De(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr",17)(1,"td",18),t._uU(2),t.qZA(),t.TgZ(3,"td",18),t._uU(4),t.qZA(),t.TgZ(5,"td",18),t._uU(6),t.ALo(7,"arabicDate"),t.qZA(),t.TgZ(8,"td",18)(9,"div",19)(10,"div",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.openDialog(s))}),t._UZ(11,"img",21),t.qZA(),t.TgZ(12,"i",22),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.openPlaceDialog(s))}),t.qZA()()()()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.nameEn),t.xp6(2),t.Oqu(t.lcZ(7,3,e.creationDate))}}function Ye(n,l){if(1&n&&(t.TgZ(0,"div",11)(1,"table",12)(2,"thead")(3,"tr",13)(4,"th",14),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",14),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",14),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"th",14),t.qZA()(),t.TgZ(14,"tbody",15),t.YNc(15,De,13,5,"tr",16),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,4,"arabic_name")),t.xp6(3),t.Oqu(t.lcZ(9,6,"english_name")),t.xp6(3),t.Oqu(t.lcZ(12,8,"date")),t.xp6(4),t.Q6J("ngForOf",e.places)}}function Fe(n,l){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"not-found"),t.qZA())}function je(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"i",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(6,"mat-dialog-content")(7,"form",27)(8,"div",28)(9,"div",29)(10,"div",30),t._UZ(11,"input-label",31)(12,"input",32)(13,"input-error",33),t.qZA()(),t.TgZ(14,"div",29)(15,"div",30),t._UZ(16,"input-label",34)(17,"input",35)(18,"input-error",33),t.qZA()(),t.TgZ(19,"div",29)(20,"div",30),t._UZ(21,"places-list-form",36),t.qZA()(),t.TgZ(22,"div",29)(23,"div",30),t._UZ(24,"space-users-form",37),t.qZA()(),t.TgZ(25,"div",29)(26,"div",30),t._UZ(27,"input-label",38)(28,"input",39)(29,"input-error",33),t.qZA()()()(),t.TgZ(30,"div",40)(31,"app-maps",41),t.NdJ("mapChanged",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.getMapData(i))}),t.qZA()()(),t.TgZ(32,"mat-dialog-actions")(33,"div",42)(34,"a",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addPlace())}),t._uU(35),t.ALo(36,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,15,e.update?"edit_place":"create_place")),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("control",e.f.nameAr),t.xp6(2),t.Q6J("control",e.f.nameAr),t.xp6(3),t.Q6J("control",e.f.nameEn),t.xp6(2),t.Q6J("control",e.f.nameEn),t.xp6(3),t.Q6J("label","parent_place")("formControlName","parentId"),t.xp6(3),t.Q6J("formControlName","managerId")("label","manager"),t.xp6(3),t.Q6J("control",e.f.placeCode),t.xp6(2),t.Q6J("control",e.f.placeCode),t.xp6(2),t.Q6J("lat",e.form.value.lat)("long",e.form.value.long),t.xp6(4),t.hij(" ",t.lcZ(36,17,e.update?"edit_place":"create_place")," ")}}function Ee(n,l){1&n&&(t.TgZ(0,"div",49),t._UZ(1,"loading"),t.qZA())}function Ge(n,l){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"not-found"),t.qZA())}function Se(n,l){if(1&n&&(t.TgZ(0,"tr",54)(1,"td",55),t._uU(2),t.qZA(),t.TgZ(3,"td",56),t._UZ(4,"app-img-title",57),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"td",55),t._uU(7),t.ALo(8,"slice"),t.qZA(),t.TgZ(9,"td",55),t._uU(10),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.employeeCode||"-"),t.xp6(2),t.Q6J("imgSrc",e.imageUrl)("subTitle",e.jobTitle)("title",e.name.length>20?t.Dn7(5,6,e.name,0,20)+"...":e.name),t.xp6(3),t.Oqu((e.managerName.length>20?t.Dn7(8,10,e.managerName,0,20)+"...":e.managerName)||"-"),t.xp6(3),t.Oqu(e.departmentName)}}function Re(n,l){if(1&n&&(t.TgZ(0,"div",50)(1,"table",51)(2,"thead",52)(3,"tr",13)(4,"th",14),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",14),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",14),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",14),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,Se,11,14,"tr",53),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,5,"code"),""),t.xp6(3),t.Oqu(t.lcZ(9,7,"user")),t.xp6(3),t.Oqu(t.lcZ(12,9,"manager")),t.xp6(3),t.Oqu(t.lcZ(15,11,"department")),t.xp6(3),t.Q6J("ngForOf",e.placeUsers)}}function He(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",58)(1,"div",42)(2,"a",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addPlaceUsers())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"insert_users")," "))}function ze(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",43)(3,"p",44),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"select-user",45),t.NdJ("getSelectedUsers",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.getUsers(i))}),t.qZA()(),t.TgZ(7,"i",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(8,"div"),t.YNc(9,Ee,2,0,"div",46),t.YNc(10,Ge,2,0,"div",8),t.YNc(11,Re,18,13,"div",47),t.qZA(),t.YNc(12,He,5,3,"div",48),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,6,"place_users")),t.xp6(2),t.Q6J("selectedUsers",e.selectedUsers),t.xp6(3),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",0==e.placeUsers.length&&!e.loading),t.xp6(1),t.Q6J("ngIf",e.placeUsers.length>0),t.xp6(1),t.Q6J("ngIf",e.selectedUsers.length>0)}}let Ve=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.places=[],this.loading=!1,this.placeUsers=[],this.selectedUsers=[]}ngOnInit(){this.getAllPlaces(),this.form=this.fb.group({placeCode:["",a.kI.required],parentId:[null],managerId:[null],nameAr:["",a.kI.required],nameEn:["",a.kI.required],lat:[0,a.kI.required],long:[0,a.kI.required],range:[0,a.kI.required]})}getAllPlaces(){this.loading=!0;let e=new f.LE;this.searchValue&&(e=e.set("search",this.searchValue)),this.service.getAllPlaces(e).subscribe(o=>{this.places=o.items,this.loading=!1})}openDialog(e){this.dialog.open(this.dialogTemplate,{width:"800px"}),e?(this.update=!0,this.form.patchValue({...e}),this.placeId=e.id):this.update=!1}openPlaceDialog(e){this.PlaceDialogStatus=!1,setTimeout(()=>{this.PlaceDialogStatus=!0},0),this.dialog.open(this.dialogPlaceTemplate,{width:"800px"}),this.placeId=e.id,this.getPlaceUsers()}getPlaceUsers(){let e=(new f.LE).set("Places",this.placeId).set("isActive",!0);this.service.getUsers(e).subscribe(o=>{this.placeUsers=o.data.items})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){this.searchValue=e,this.getAllPlaces()}addPlace(){if(this.form.value.lat=this.lat,this.form.value.long=this.long,this.form.value.range=this.radius,this.form.valid)if(this.update){let e={...this.form.value,id:this.placeId};this.service.updatePlace(e).subscribe(o=>{o.success&&(this.alert.showAlert("success"),this.getAllPlaces(),this.closeDialog())})}else this.service.createPlace(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("success"),this.getAllPlaces(),this.closeDialog())});else this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger")}addPlaceUsers(){this.loading=!0,this.service.addUserToPlace({usersId:this.selectedUsers,placeId:this.placeId}).subscribe(o=>{this.loading=!1,o.success&&(this.alert.showAlert("success"),this.getPlaceUsers())})}getUsers(e){e.forEach(o=>{this.selectedUsers.push(o.id)})}getMapData(e){this.lat=e.lat,this.long=e.long,this.radius=e.radius}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["places-list"]],viewQuery:function(o,i){if(1&o&&(t.Gf(Ne,5),t.Gf(Qe,5)),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first),t.iGM(s=t.CRH())&&(i.dialogPlaceTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:15,vars:7,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-3"],[3,"newSearch","hideLabel","valueChanged"],[1,"col-lg-3","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],["dialogPlaceTemplate",""],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"d-flex","align-items-center","gap-2"],[1,"img","pointer",3,"click"],["src","assets/images/icons/edit1.svg","alt","edit icon"],[1,"bx","bx-show","fs-30","primary","px-50","pointer",3,"click"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-1"],[1,"col-lg-6"],[1,"name"],["key","arabic_name",3,"control"],["type","text","formControlName","nameAr",1,"input"],[3,"control"],["key","english_name",3,"control"],["type","text","formControlName","nameEn",1,"input"],[3,"label","formControlName"],[3,"formControlName","label"],["key","code",3,"control"],["type","text","formControlName","placeCode",1,"input"],[1,""],[3,"lat","long","mapChanged"],[1,"text-right","w-100"],[1,"flex","aic","pt-1","pl-1"],[1,"fs-18","simibold","mr-1"],["text","assignees",3,"selectedUsers","getSelectedUsers"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1 mt-1 mb-1 ",4,"ngIf"],["class","px-1 py-1",4,"ngIf"],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1","mt-1","mb-1"],[1,"w-100","table"],[1,"border","bg-gray"],["class","border pointer",4,"ngFor","ngForOf"],[1,"border","pointer"],[1,"fs-13","text-left"],[1,"fs-14","flex","aic","jcfs","text-left","gap-x-1"],[3,"imgSrc","subTitle","title"],[1,"px-1","py-1"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"search",3),t.NdJ("valueChanged",function(g){return i.search(g)}),t.qZA()(),t.TgZ(4,"div",4)(5,"a",5),t.NdJ("click",function(){return i.openDialog()}),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",6),t.YNc(9,Ye,16,10,"div",7),t.YNc(10,Fe,2,0,"div",8),t.qZA()(),t.YNc(11,je,37,19,"ng-template",null,9,t.W1O),t.YNc(13,ze,13,8,"ng-template",null,10,t.W1O)),2&o&&(t.xp6(3),t.Q6J("newSearch",!0)("hideLabel",!0),t.xp6(3),t.hij(" ",t.lcZ(7,5,"create_place")," "),t.xp6(3),t.Q6J("ngIf",i.places.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.places.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,r.OU,u.N,h.w,p.aw,p.X$,T.P,N.g,d.Is,d.xY,d.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,x.i,b.w,Q.E,D.o,Ie,L.G,F.V],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();function Be(n,l){if(1&n&&t._UZ(0,"i"),2&n){const e=t.oxw();t.Gre("fs-11 mr-50 bx ",e.icon,"")}}function $e(n,l){if(1&n&&t._UZ(0,"filter-label",4),2&n){const e=t.oxw();t.Q6J("key",e.label)}}function Ke(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"ng-select",5),t.NdJ("search",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.search(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Gre("",e.width," icon-input"),t.s9C("bindLabel","ar"==e.language?"nameAr":"nameEn"),t.Q6J("items",e.allItems)("formControlName",e.formControlName)("multiple",e.multiable)("closeOnSelect",e.closeOnSelect)}}let Xe=(()=>{class n{constructor(e){this.service=e,this.label="levels",this.labelVisibilty=!0,this.width="w-100",this.multiable=!1,this.closeOnSelect=!0,this.formControlName=null,this.valueChanged=new t.vpe,this.language=localStorage.getItem("language")}ngOnInit(){this.getItems()}search(e){this.searchValue=e.term,this.getItems()}getItems(){let e=new f.LE;this.searchValue&&(e=e.set("search",this.searchValue)),this.service.getAllLevels(e).subscribe(o=>{this.allItems=o.items,this.totalItems=o.totalItems})}onChange(){this.valueChanged.emit(this.selectedDepartment)}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(m.j))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["levels-list-form"]],inputs:{icon:"icon",selectedDepartment:"selectedDepartment",label:"label",labelVisibilty:"labelVisibilty",width:"width",multiable:"multiable",closeOnSelect:"closeOnSelect",formControlName:"formControlName"},outputs:{valueChanged:"valueChanged"},standalone:!0,features:[t._Bn([],[{provide:a.gN,useExisting:a.sg}]),t.jDz],decls:4,vars:3,consts:[[1,"departments-filter"],[3,"class",4,"ngIf"],[3,"key",4,"ngIf"],["bindValue","id","appendTo","body",3,"items","formControlName","bindLabel","class","multiple","closeOnSelect","search",4,"ngIf"],[3,"key"],["bindValue","id","appendTo","body",3,"items","formControlName","bindLabel","multiple","closeOnSelect","search"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Be,1,3,"i",1),t.YNc(2,$e,1,1,"filter-label",2),t.YNc(3,Ke,1,8,"ng-select",3),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.icon),t.xp6(1),t.Q6J("ngIf",i.labelVisibilty),t.xp6(1),t.Q6J("ngIf",i.formControlName))},dependencies:[r.ez,r.O5,Y.r,Z.A0,Z.w9,a.u5,a.JJ,p.aw,a.UX,a.u],encapsulation:2})}}return n})();const We=["dialogTemplate"],tn=["dialogLevelTemplate"];function en(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"tr",17)(1,"td",18),t._uU(2),t.qZA(),t.TgZ(3,"td",18),t._uU(4),t.qZA(),t.TgZ(5,"td",18),t._uU(6),t.ALo(7,"arabicDate"),t.qZA(),t.TgZ(8,"td",18)(9,"div",19)(10,"div",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.openDialog(s))}),t._UZ(11,"img",21),t.qZA(),t.TgZ(12,"i",22),t.NdJ("click",function(){const s=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.openLevelDialog(s))}),t.qZA()()()()}if(2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.nameEn),t.xp6(2),t.Oqu(t.lcZ(7,3,e.creationDate))}}function nn(n,l){if(1&n&&(t.TgZ(0,"div",11)(1,"table",12)(2,"thead")(3,"tr",13)(4,"th",14),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",14),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",14),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._UZ(13,"th",14),t.qZA()(),t.TgZ(14,"tbody",15),t.YNc(15,en,13,5,"tr",16),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,4,"arabic_name")),t.xp6(3),t.Oqu(t.lcZ(9,6,"english_name")),t.xp6(3),t.Oqu(t.lcZ(12,8,"date")),t.xp6(4),t.Q6J("ngForOf",e.levels)}}function on(n,l){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"not-found"),t.qZA())}function an(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"i",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(6,"mat-dialog-content")(7,"form",27)(8,"div",28)(9,"div",29)(10,"div",30),t._UZ(11,"input-label",31)(12,"input",32)(13,"input-error",33),t.qZA()(),t.TgZ(14,"div",29)(15,"div",30),t._UZ(16,"input-label",34)(17,"input",35)(18,"input-error",33),t.qZA()(),t.TgZ(19,"div",29)(20,"div",30),t._UZ(21,"levels-list-form",36),t.qZA()(),t.TgZ(22,"div",29)(23,"div",30),t._UZ(24,"space-users-form",37),t.qZA()(),t.TgZ(25,"div",29)(26,"div",30),t._UZ(27,"input-label",38)(28,"input",39)(29,"input-error",33),t.qZA()()()(),t.TgZ(30,"div",40)(31,"app-maps",41),t.NdJ("mapChanged",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.getMapData(i))}),t.qZA()()(),t.TgZ(32,"mat-dialog-actions")(33,"div",42)(34,"a",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.addLevel())}),t._uU(35),t.ALo(36,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,15,e.update?"edit_level":"create_level")),t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("control",e.f.nameAr),t.xp6(2),t.Q6J("control",e.f.nameAr),t.xp6(3),t.Q6J("control",e.f.nameEn),t.xp6(2),t.Q6J("control",e.f.nameEn),t.xp6(3),t.Q6J("label","parent_level")("formControlName","parentId"),t.xp6(3),t.Q6J("formControlName","managerId")("label","manager"),t.xp6(3),t.Q6J("control",e.f.levelCode),t.xp6(2),t.Q6J("control",e.f.levelCode),t.xp6(2),t.Q6J("lat",e.form.value.lat)("long",e.form.value.long),t.xp6(4),t.hij(" ",t.lcZ(36,17,e.update?"edit_level":"create_level")," ")}}function ln(n,l){1&n&&(t.TgZ(0,"div",49),t._UZ(1,"loading"),t.qZA())}function sn(n,l){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"not-found"),t.qZA())}function rn(n,l){if(1&n&&(t.TgZ(0,"tr",54)(1,"td",55),t._uU(2),t.qZA(),t.TgZ(3,"td",56),t._UZ(4,"app-img-title",57),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"td",55),t._uU(7),t.ALo(8,"slice"),t.qZA(),t.TgZ(9,"td",55),t._uU(10),t.qZA()()),2&n){const e=l.$implicit;t.xp6(2),t.Oqu(e.employeeCode||"-"),t.xp6(2),t.Q6J("imgSrc",e.imageUrl)("subTitle",e.jobTitle)("title",e.name.length>20?t.Dn7(5,6,e.name,0,20)+"...":e.name),t.xp6(3),t.Oqu((e.managerName.length>20?t.Dn7(8,10,e.managerName,0,20)+"...":e.managerName)||"-"),t.xp6(3),t.Oqu(e.departmentName)}}function cn(n,l){if(1&n&&(t.TgZ(0,"div",50)(1,"table",51)(2,"thead",52)(3,"tr",13)(4,"th",14),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",14),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",14),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",14),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,rn,11,14,"tr",53),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,5,"code"),""),t.xp6(3),t.Oqu(t.lcZ(9,7,"user")),t.xp6(3),t.Oqu(t.lcZ(12,9,"manager")),t.xp6(3),t.Oqu(t.lcZ(15,11,"department")),t.xp6(3),t.Q6J("ngForOf",e.levelUsers)}}function pn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",58)(1,"div",42)(2,"a",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.addLevelUsers())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"insert_users")," "))}function dn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",43)(3,"p",44),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"select-user",45),t.NdJ("getSelectedUsers",function(i){t.CHM(e);const s=t.oxw();return t.KtG(s.getUsers(i))}),t.qZA()(),t.TgZ(7,"i",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeDialog())}),t.qZA()(),t.TgZ(8,"div"),t.YNc(9,ln,2,0,"div",46),t.YNc(10,sn,2,0,"div",8),t.YNc(11,cn,18,13,"div",47),t.qZA(),t.YNc(12,pn,5,3,"div",48),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,6,"level_users")),t.xp6(2),t.Q6J("selectedUsers",e.selectedUsers),t.xp6(3),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",0==e.levelUsers.length&&!e.loading),t.xp6(1),t.Q6J("ngIf",e.levelUsers.length>0),t.xp6(1),t.Q6J("ngIf",e.selectedUsers.length>0)}}let gn=(()=>{class n{constructor(e,o,i,s){this.dialog=e,this.service=o,this.fb=i,this.alert=s,this.levels=[],this.loading=!1,this.levelUsers=[],this.selectedUsers=[]}ngOnInit(){this.getAllLevels(),this.form=this.fb.group({levelCode:["",a.kI.required],parentId:[null],managerId:[null],nameAr:["",a.kI.required],nameEn:["",a.kI.required],lat:[0,a.kI.required],long:[0,a.kI.required],range:[0,a.kI.required]})}getAllLevels(){this.loading=!0;let e=new f.LE;this.searchValue&&(e=e.set("search",this.searchValue)),this.service.getAllLevels(e).subscribe(o=>{this.levels=o.items,this.loading=!1})}openDialog(e){this.dialog.open(this.dialogTemplate,{width:"800px"}),e?(this.update=!0,this.form.patchValue({...e}),this.levelId=e.id):this.update=!1}openLevelDialog(e){this.LevelDialogStatus=!1,setTimeout(()=>{this.LevelDialogStatus=!0},0),this.dialog.open(this.dialogLevelTemplate,{width:"800px"}),this.levelId=e.id,this.getLevelUsers()}getLevelUsers(){let e=(new f.LE).set("Levels",this.levelId).set("isActive",!0);this.service.getUsers(e).subscribe(o=>{this.levelUsers=o.data.items})}closeDialog(){this.dialog.closeAll()}get f(){return this.form.controls}search(e){this.searchValue=e,this.getAllLevels()}addLevel(){if(this.form.value.lat=this.lat,this.form.value.long=this.long,this.form.value.range=this.radius,this.form.valid)if(this.update){let e={...this.form.value,id:this.levelId};this.service.updateLevel(e).subscribe(o=>{o.success&&(this.alert.showAlert("success"),this.getAllLevels(),this.closeDialog())})}else this.service.createLevel(this.form.value).subscribe(e=>{e.success&&(this.alert.showAlert("success"),this.getAllLevels(),this.closeDialog())});else this.form.markAllAsTouched(),this.alert.showAlert("error","bg-danger")}addLevelUsers(){this.loading=!0,this.service.addUserToLevel({usersId:this.selectedUsers,levelId:this.levelId}).subscribe(o=>{this.loading=!1,o.success&&(this.alert.showAlert("success"),this.getLevelUsers())})}getUsers(e){e.forEach(o=>{this.selectedUsers.push(o.id)})}getMapData(e){this.lat=e.lat,this.long=e.long,this.radius=e.radius}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(d.uw),t.Y36(m.j),t.Y36(a.qu),t.Y36(_.c))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["levels-list"]],viewQuery:function(o,i){if(1&o&&(t.Gf(We,5),t.Gf(tn,5)),2&o){let s;t.iGM(s=t.CRH())&&(i.dialogTemplate=s.first),t.iGM(s=t.CRH())&&(i.dialogLevelTemplate=s.first)}},standalone:!0,features:[t.jDz],decls:15,vars:7,consts:[[1,"py-1"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-3"],[3,"newSearch","hideLabel","valueChanged"],[1,"col-lg-3","text-right"],[1,"btn","rounded","bg-primary","white","py-75","px-1","fs-14",2,"display","inline-block",3,"click"],[1,"px-50"],["class","table-container mx-1",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],["dialogTemplate",""],["dialogLevelTemplate",""],[1,"table-container","mx-1"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"d-flex","align-items-center","gap-2"],[1,"img","pointer",3,"click"],["src","assets/images/icons/edit1.svg","alt","edit icon"],[1,"bx","bx-show","fs-30","primary","px-50","pointer",3,"click"],[1,"py-5","text-center"],[1,"dir"],[1,"flex","w-100","jcsb"],[1,"bx","bx-x","fs-25","danger","pointer","p-1",3,"click"],["action","",3,"formGroup"],[1,"flex-grid","gap-y-1"],[1,"col-lg-6"],[1,"name"],["key","arabic_name",3,"control"],["type","text","formControlName","nameAr",1,"input"],[3,"control"],["key","english_name",3,"control"],["type","text","formControlName","nameEn",1,"input"],[3,"label","formControlName"],[3,"formControlName","label"],["key","code",3,"control"],["type","text","formControlName","levelCode",1,"input"],[1,""],[3,"lat","long","mapChanged"],[1,"text-right","w-100"],[1,"flex","aic","pt-1","pl-1"],[1,"fs-18","simibold","mr-1"],["text","assignees",3,"selectedUsers","getSelectedUsers"],["class","aic flex jcc py-5 h-50v",4,"ngIf"],["class","table-container mx-1 mt-1 mb-1 ",4,"ngIf"],["class","px-1 py-1",4,"ngIf"],[1,"aic","flex","jcc","py-5","h-50v"],[1,"table-container","mx-1","mt-1","mb-1"],[1,"w-100","table"],[1,"border","bg-gray"],["class","border pointer",4,"ngFor","ngForOf"],[1,"border","pointer"],[1,"fs-13","text-left"],[1,"fs-14","flex","aic","jcfs","text-left","gap-x-1"],[3,"imgSrc","subTitle","title"],[1,"px-1","py-1"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"search",3),t.NdJ("valueChanged",function(g){return i.search(g)}),t.qZA()(),t.TgZ(4,"div",4)(5,"a",5),t.NdJ("click",function(){return i.openDialog()}),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"div",6),t.YNc(9,nn,16,10,"div",7),t.YNc(10,on,2,0,"div",8),t.qZA()(),t.YNc(11,an,37,19,"ng-template",null,9,t.W1O),t.YNc(13,dn,13,8,"ng-template",null,10,t.W1O)),2&o&&(t.xp6(3),t.Q6J("newSearch",!0)("hideLabel",!0),t.xp6(3),t.hij(" ",t.lcZ(7,5,"create_level")," "),t.xp6(3),t.Q6J("ngIf",i.levels.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.levels.length&&!i.loading))},dependencies:[r.ez,r.sg,r.O5,r.OU,u.N,h.w,p.aw,p.X$,T.P,N.g,d.Is,d.xY,d.H8,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u,x.i,b.w,Q.E,D.o,L.G,F.V,Xe],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}"]})}}return n})();var mn=c(26112),_n=c(60420),un=c(38034),j=c(23680),E=c(64170),G=c(2032),y=c(87466),q=c(49388);function fn(n,l){1&n&&t._UZ(0,"loading")}function hn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",18),t._UZ(2,"input-label",19),t.TgZ(3,"ng-select",20),t.NdJ("change",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.onCrossMonthChange())}),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",18),t._UZ(6,"input-label",21),t._uU(7),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("control",e.f.fromDay)("showIcon",!0)("icon","assets/images/icons/calendar-icon.svg"),t.xp6(1),t.Q6J("items",e.daysList)("clearable",!1)("placeholder",t.lcZ(4,12,"shift_start_time"))("readonly",!e.isEditing),t.xp6(3),t.Q6J("key",e.f.crossMonth.value?"end_time_next_month":"shift_end_time")("control",e.f.toDay)("showIcon",!0)("icon","assets/images/icons/calendar-icon.svg"),t.xp6(1),t.hij(" ",e.f.toDay.value," ")}}const S=function(n){return{"border-primary primary":n}};function xn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.isEditing=!0)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(5,S,e.form.valid))("disabled",e.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(2,3,"edit")," ")}}function bn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return i.updateCycle(),t.KtG(i.isEditing=!1)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"save")," "))}function vn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return i.resetToOriginalData(),t.KtG(i.isEditing=!1)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(4,S,e.form.valid)),t.xp6(1),t.hij(" ",t.lcZ(2,2,"cancel")," ")}}function Zn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"i",6),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"form",7)(7,"div",8)(8,"mat-radio-group",9),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.changeFromToDay())}),t.TgZ(9,"mat-radio-button",10)(10,"span",11)(11,"b"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"mat-radio-button",10)(17,"span",11)(18,"b"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t._uU(21),t.ALo(22,"translate"),t.qZA()()()(),t.YNc(23,hn,8,14,"div",12),t.qZA(),t.TgZ(24,"div",13),t.YNc(25,xn,3,7,"button",14),t.YNc(26,bn,3,3,"button",15),t.YNc(27,vn,3,6,"button",16),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,15,"payroll_cycle_description")),t.xp6(2),t.Q6J("formGroup",e.form)("dir","ar"===e.currentLanguage?"rtl":"ltr"),t.xp6(3),t.Q6J("value",!1)("disabled",!e.isEditing),t.xp6(3),t.Oqu(t.lcZ(13,17,"regular_payroll_cycle")),t.xp6(2),t.hij(' "',t.lcZ(15,19,"from_start_to_end_of_month"),'" '),t.xp6(2),t.Q6J("value",!0)("disabled",!e.isEditing),t.xp6(3),t.Oqu(t.lcZ(20,21,"extended_payroll_cycle")),t.xp6(2),t.hij(' "',t.lcZ(22,23,"payrolls_that_start_in_a_month_and_end_in_the_next_month"),'"'),t.xp6(2),t.Q6J("ngIf",e.f.crossMonth.value),t.xp6(2),t.Q6J("ngIf",!e.isEditing),t.xp6(1),t.Q6J("ngIf",e.isEditing),t.xp6(1),t.Q6J("ngIf",e.isEditing)}}let Tn=(()=>{class n{constructor(e,o,i,s){this.fb=e,this.service=o,this.dateAdapter=i,this.translate=s,this.isEditing=!1,this.alert=(0,t.f3M)(_.c),this.crossMonth=!1,this.daysList=Array.from({length:28},(g,C)=>({value:C+2,label:(C+2).toString()})),this.loading=!0,this.currentLanguage=this.translate.currentLang,this.dateAdapter.setLocale("en-GB"),this.initform()}ngOnInit(){this.getPayrollCycle(),this.onCrossMonthChange()}initform(){this.form=this.fb.group({leaveSystem:[!1,[a.kI.required]],fromDay:[1,[a.kI.required]],toDay:[null,[a.kI.required]],crossMonth:[!1,[a.kI.required]],autoTaskApprove:[!1,[a.kI.required]]})}get f(){return this.form.controls}onCrossMonthChange(){this.form.value.crossMonth&&this.form.patchValue({toDay:this.form.value.fromDay-1})}changeFromToDay(){if(this.form.value.crossMonth){const e=this.form.value.fromDay;if(this.form.value.toDay<=e){const i=this.daysList.find(s=>s.value>e);i&&this.form.patchValue({toDay:i.value})}}else this.form.patchValue({fromDay:1,toDay:30})}onFromDayChange(){if(this.form.value.crossMonth){const e=this.form.value.fromDay;if(this.form.value.toDay<=e){const i=this.daysList.find(s=>s.value>e);i&&this.form.patchValue({toDay:i.value})}}}getPayrollCycle(){this.service.getPayrollCycle().subscribe({next:e=>{this.loading=!1,e.data.fromDay&&e.data.toDay&&(this.originalData={leaveSystem:e.data.leaveSystem,fromDay:e.data.fromDay,toDay:e.data.toDay,crossMonth:e.data.crossMonth,autoTaskApprove:e.data.autoTaskApprove||!1},this.form.patchValue(this.originalData))}})}resetToOriginalData(){this.originalData&&this.form.patchValue(this.originalData)}updateCycle(){this.form.valid&&this.service.updatePayrollCycle(this.form.value).subscribe({next:e=>{this.alert.showAlert(e.message,e.success?"bg-success":"bg-danger")},error:()=>{this.alert.showAlert("error_updating_payroll_cycle","bg-danger")}})}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(a.qu),t.Y36(m.j),t.Y36(j._A),t.Y36(p.sK))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["payroll-cycle"]],standalone:!0,features:[t._Bn([]),t.jDz],decls:4,vars:2,consts:[[1,"px-2","py-1","h-70vh"],[1,"content"],[4,"ngIf"],["class","content-container",4,"ngIf"],[1,"content-container"],[1,"info-banner"],[1,"bx","bx-info-circle"],[3,"formGroup","dir"],[1,"radio-container","mb-1"],["formControlName","crossMonth","color","primary",1,"custom-radio-group",3,"change"],[1,"radio-option",3,"value","disabled"],[1,"radio-label"],["class","d-flex gap-y-1 mb-2",4,"ngIf"],[1,"buttons-container"],["class","border-primary primary","mat-raised-button","",3,"ngClass","disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["class","border-primary primary","mat-raised-button","",3,"ngClass","click",4,"ngIf"],[1,"d-flex","gap-y-1","mb-2"],[1,"col-lg-2"],["key","start_day",3,"control","showIcon","icon"],["bindLabel","label","bindValue","value","formControlName","fromDay",1,"late-select",3,"items","clearable","placeholder","readonly","change"],[3,"key","control","showIcon","icon"],["mat-raised-button","",1,"border-primary","primary",3,"ngClass","disabled","click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",1,"border-primary","primary",3,"ngClass","click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,fn,1,0,"loading",2),t.YNc(3,Zn,28,25,"div",3),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},dependencies:[r.ez,r.mk,r.O5,d.Is,q.Lv,p.aw,p.X$,v.ot,v.lW,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u,x.i,Z.A0,Z.w9,_n.UM,un.FA,j.XK,E.lN,G.c,y.Fk,y.VQ,y.U0,a.u5,u.N],styles:[".hint[_ngcontent-%COMP%]{padding:8px 16px;background:rgba(252,161,48,.1019607843)}.hint[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fca130}.crossMonth-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0;align-items:flex-start}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.border-none[_ngcontent-%COMP%]{border-color:transparent}.border-none[_ngcontent-%COMP%]:focus{border-color:transparent!important}.info-banner[_ngcontent-%COMP%]{background:rgba(255,169,92,.15);color:#000;padding:12px;border-radius:4px;margin-bottom:20px;display:flex;align-items:center;gap:8px}.info-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffa95c}.custom-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})}}return n})();var O=c(6311),A=function(n){return n.warning="warning",n.minutes="minutes",n.hours="hours",n.days="days",n}(A||{});function yn(n,l){1&n&&(t.TgZ(0,"div",8),t._UZ(1,"i",9),t.TgZ(2,"p",10),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"no_deduction")))}function An(n,l){1&n&&(t.TgZ(0,"div",8),t._UZ(1,"i",9),t.TgZ(2,"p",10),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"auto_deduction")))}function Cn(n,l){if(1&n&&(t.TgZ(0,"div",11),t._UZ(1,"input-label",12),t.TgZ(2,"div",13),t._UZ(3,"input",14),t.TgZ(4,"span",15),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t._UZ(7,"input-error",16),t.ALo(8,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("control",e.deductionControl)("showIcon",!0)("icon","assets/images/icons/text-block.svg"),t.xp6(2),t.Q6J("formControl",e.deductionControl),t.xp6(2),t.Oqu(t.lcZ(6,7,"h")),t.xp6(2),t.Q6J("control",e.deductionControl)("message",t.lcZ(8,9,"min_value_0_1"))}}function qn(n,l){if(1&n&&(t.TgZ(0,"div",11),t._UZ(1,"input-label",12),t.TgZ(2,"div",13),t._UZ(3,"input",14),t.TgZ(4,"span",15),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t._UZ(7,"input-error",16),t.ALo(8,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("control",e.deductionControl)("showIcon",!0)("icon","assets/images/icons/text-block.svg"),t.xp6(2),t.Q6J("formControl",e.deductionControl),t.xp6(2),t.Oqu(t.lcZ(6,7,"day")),t.xp6(2),t.Q6J("control",e.deductionControl)("message",t.lcZ(8,9,"min_value_0_1"))}}let On=(()=>{class n{constructor(){this.translate=(0,t.f3M)(p.sK),this.repetitionTypesList=[{label:this.translate.instant(A.warning),value:1},{label:this.translate.instant(A.minutes),value:2},{label:this.translate.instant(A.hours),value:3},{label:this.translate.instant(A.days),value:4}]}ngOnInit(){}get repetitionControl(){const e=1===this.repetitionNumber?"firstRepetitionsType":2===this.repetitionNumber?"socondRepetitionsType":3===this.repetitionNumber?"thirdRepetitionsType":"fourthRepetitionsType",o=this.form.get(e);if(!o)throw new Error(`Control ${e} not found`);return o}get deductionControl(){const e=1===this.repetitionNumber?"firstRepetitionsTypeValue":2===this.repetitionNumber?"socondRepetitionsTypeValue":3===this.repetitionNumber?"thirdRepetitionsTypeValue":"fourthRepetitionsTypeValue",o=this.form.get(e);if(!o)throw new Error(`Control ${e} not found`);return o}get repetitionValue(){return this.repetitionControl?.value}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["app-late-repetition"]],inputs:{form:"form",repetitionNumber:"repetitionNumber",placeholder:"placeholder",label:"label"},standalone:!0,features:[t.jDz],decls:14,vars:13,consts:[[1,"flex-grid","aife","gap-y-1","mb-2"],[1,"col-lg-6"],[1,"flex","aic","gap-x-1","mb-1"],["src","assets/images/icons/repeat-icon.svg","alt","repeat"],[1,"fs-14"],["bindLabel","label","bindValue","value",1,"late-select",3,"items","clearable","formControl","placeholder"],["class","deduction-value flex aic",4,"ngIf"],["class","value-container",4,"ngIf"],[1,"deduction-value","flex","aic"],[1,"bx","bx-info-circle"],[1,"mx-1","fs-14"],[1,"value-container"],["key","deduction_value",3,"control","showIcon","icon"],[1,"flex","aic","position-relative"],["type","number","min","0.1",1,"input",3,"formControl"],[1,"input-suffix"],[3,"control","message"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"p",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t._UZ(7,"ng-select",5),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"div",1),t.YNc(10,yn,5,3,"div",6),t.YNc(11,An,5,3,"div",6),t.YNc(12,Cn,9,11,"div",7),t.YNc(13,qn,9,11,"div",7),t.qZA()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,9,i.label)),t.xp6(2),t.Q6J("items",i.repetitionTypesList)("clearable",!1)("formControl",i.repetitionControl)("placeholder",t.lcZ(8,11,i.placeholder)),t.xp6(3),t.Q6J("ngIf",1===i.repetitionValue),t.xp6(1),t.Q6J("ngIf",2===i.repetitionValue),t.xp6(1),t.Q6J("ngIf",3===i.repetitionValue),t.xp6(1),t.Q6J("ngIf",4===i.repetitionValue))},dependencies:[r.ez,r.O5,a.UX,a.Fj,a.wV,a.JJ,a.qQ,a.oH,Z.A0,Z.w9,x.i,b.w,p.aw,p.X$],styles:[".late-select[_ngcontent-%COMP%]{width:100%}.deduction-value[_ngcontent-%COMP%]{color:var(--gray-600);padding-block-end:1rem;border-radius:4px}.value-container[_ngcontent-%COMP%]   .minutes-container[_ngcontent-%COMP%]{gap:.5rem}.value-container[_ngcontent-%COMP%]   .input-time[_ngcontent-%COMP%]{width:80px;padding:.5rem;border:1px solid var(--gray-300);border-radius:4px;text-align:center}.value-container[_ngcontent-%COMP%]   .input-time[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary)}"]})}}return n})();function wn(n,l){1&n&&(t.TgZ(0,"p",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit_late_checkin")))}function Ln(n,l){1&n&&(t.TgZ(0,"p",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"add_late_checkin")))}let R=(()=>{class n{constructor(e,o,i,s,g){this.fb=e,this.dialogRef=o,this.data=i,this.alert=s,this.translate=g,this.currentLang="",this.existingTiers=[],this.currentLang=this.translate.currentLang}ngOnInit(){this.initForm()}initForm(){this.getExistingTiers();const e=this.getNextAvailableMinsFrom();this.form=this.fb.group({id:[null],minsFrom:[e,[a.kI.required,a.kI.min(0)]],minsTo:[null,[a.kI.required,a.kI.min(0)]],firstRepetitionsType:[null],firstRepetitionsTypeValue:[0,[a.kI.min(0)]],socondRepetitionsType:[null],socondRepetitionsTypeValue:[0,[a.kI.min(0)]],thirdRepetitionsType:[null],thirdRepetitionsTypeValue:[0,[a.kI.min(0)]],fourthRepetitionsType:[null],fourthRepetitionsTypeValue:[0,[a.kI.min(0)]]}),(this.data.edit||this.data.view)&&this.form.patchValue(this.data.data),this.form.get("minsFrom")?.valueChanges.subscribe(o=>{this.updateMinsToMinimum(o)})}getExistingTiers(){this.existingTiers=this.data.existingTiers?this.data.existingTiers:[]}getNextAvailableMinsFrom(){return this.data.edit?this.data.data?.minsFrom||0:0===this.existingTiers.length?0:Math.max(...this.existingTiers.map(o=>o.minsTo||0))+1}get f(){return this.form.controls}addToMinutes(){const e=this.form.get("minsTo")?.value||0;this.form.get("minsTo")?.setValue(e+1)}minusToMinutes(){const e=this.form.get("minsTo")?.value||0;e>0&&this.form.get("minsTo")?.setValue(e-1)}submit(){if(this.form.valid){const e=this.form.value;if(e.minsTo<=e.minsFrom)return void this.alert.showAlert("end_time_must_be_greater_than_start_time","error");this.dialogRef.close(e)}else Object.keys(this.form.controls).forEach(e=>{this.form.get(e)?.markAsTouched()})}updateMinsToMinimum(e){(this.form.get("minsTo")?.value||0)<=e&&this.form.get("minsTo")?.setValue(e+1)}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(a.qu),t.Y36(d.so),t.Y36(d.WI),t.Y36(_.c),t.Y36(p.sK))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["app-late-form"]],standalone:!0,features:[t.jDz],decls:46,vars:44,consts:[[1,"late-form","p-2",3,"dir"],["class","mb-2 fs-18 simibold",4,"ngIf"],[3,"formGroup"],[1,"mb-3"],[1,"flex","aic","gap-x-1","mb-1"],["src","assets/images/icons/clock.svg","alt","repeat"],[1,"fw-medium"],[1,"flex","aic","gap-x-3","mb-2"],[1,"flex","aic"],[1,"mx-2"],[1,"minutes-container","flex","aic"],["formControlName","minsFrom","type","number","min","0","readonly","",1,"input-time"],[1,"me-2"],[3,"control"],["type","button",1,"btn-circle",3,"click"],[1,"bx","bx-minus"],["formControlName","minsTo","type","number",1,"input-time",3,"min"],[1,"bx","bx-plus"],[3,"form","repetitionNumber","label","placeholder"],[1,"text-right","mt-4"],["type","submit","mat-button","",1,"bg-primary","white","py-1","px-2","border-primary","rounded","pointer",3,"click"],["type","button","mat-button","",1,"bg-white","primary","py-1","px-2","border-primary","rounded","pointer","ml-1",3,"click"],[1,"mb-2","fs-18","simibold"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,wn,3,3,"p",1),t.YNc(2,Ln,3,3,"p",1),t.TgZ(3,"form",2)(4,"div",3)(5,"div",4),t._UZ(6,"img",5),t.TgZ(7,"p",6),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"p",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"div",10),t._UZ(16,"input",11),t.qZA(),t.TgZ(17,"p",12),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._UZ(20,"input-error",13),t.qZA(),t.TgZ(21,"div",8)(22,"p",9),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",10)(26,"button",14),t.NdJ("click",function(){return i.minusToMinutes()}),t._UZ(27,"i",15),t.qZA(),t._UZ(28,"input",16),t.TgZ(29,"button",14),t.NdJ("click",function(){return i.addToMinutes()}),t._UZ(30,"i",17),t.qZA()(),t.TgZ(31,"p",12),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"input-error",13),t.qZA()()(),t._UZ(35,"app-late-repetition",18)(36,"app-late-repetition",18)(37,"app-late-repetition",18)(38,"app-late-repetition",18),t.TgZ(39,"div",19)(40,"button",20),t.NdJ("click",function(){return i.submit()}),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"button",21),t.NdJ("click",function(){return i.dialogRef.close()}),t._uU(44),t.ALo(45,"translate"),t.qZA()()()()),2&o&&(t.Q6J("dir","ar"===i.currentLang?"rtl":"ltr"),t.xp6(1),t.Q6J("ngIf",i.data.edit),t.xp6(1),t.Q6J("ngIf",i.data.add),t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(5),t.Oqu(t.lcZ(9,30,"late_checkin_period")),t.xp6(5),t.Oqu(t.lcZ(14,32,"from")),t.xp6(5),t.Oqu(t.lcZ(19,34,"minutes")),t.xp6(2),t.Q6J("control",i.f.minsFrom),t.xp6(3),t.Oqu(t.lcZ(24,36,"to")),t.xp6(5),t.Q6J("min",i.f.minsFrom.value+1),t.xp6(4),t.Oqu(t.lcZ(33,38,"minutes")),t.xp6(2),t.Q6J("control",i.f.minsTo),t.xp6(1),t.Q6J("form",i.form)("repetitionNumber",1)("label","late_checkin_first_repetition")("placeholder","select_repetition_type"),t.xp6(1),t.Q6J("form",i.form)("repetitionNumber",2)("label","late_checkin_second_repetition")("placeholder","select_repetition_type"),t.xp6(1),t.Q6J("form",i.form)("repetitionNumber",3)("label","late_checkin_third_repetition")("placeholder","select_repetition_type"),t.xp6(1),t.Q6J("form",i.form)("repetitionNumber",4)("label","late_checkin_fourth_repetition")("placeholder","select_repetition_type"),t.xp6(3),t.hij(" ",t.lcZ(42,40,i.data.edit?"update":"add")," "),t.xp6(3),t.hij(" ",t.lcZ(45,42,"cancel")," "))},dependencies:[r.ez,r.O5,a.UX,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.sg,a.u,Z.A0,v.ot,v.lW,q.Lv,p.aw,p.X$,b.w,On],styles:[".late-form[_ngcontent-%COMP%]   .btn-circle[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;border:1px solid transparent;background:#7B55D3;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff}.late-form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .late-form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.late-form[_ngcontent-%COMP%]   .input-time[_ngcontent-%COMP%]{width:32px;border-radius:2px;margin:0 5px;padding:4px 0;text-align:center;border:.5px solid var(--divder, rgba(157, 157, 157, .4))}.late-form[_ngcontent-%COMP%]   .minutes-container[_ngcontent-%COMP%]{padding:8px;border-radius:4px}.late-form[_ngcontent-%COMP%]   .late-select[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:4px}.late-form[_ngcontent-%COMP%]   .deduction-value[_ngcontent-%COMP%]{padding:8px}.late-form[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]{margin-top:8px}"]})}}return n})(),kn=(()=>{class n{constructor(e,o){this.fb=e,this.dialogRef=o,this.editMode=!1}ngOnInit(){this.initForm()}initForm(){this.form=this.fb.group({firstRepetitionDiscount:new a.NI(""),secondRepetitionDiscount:new a.NI(""),thirdRepetitionDiscount:new a.NI(""),fourthRepetitionDiscount:new a.NI("")})}get f(){return this.form.controls}submit(){console.log(this.form.value)}cancel(){this.dialogRef.close()}static{this.\u0275fac=function(o){return new(o||n)(t.Y36(a.qu),t.Y36(d.so))}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["absences-form"]],standalone:!0,features:[t.jDz],decls:47,vars:38,consts:[[1,"late-form","p-2"],[1,"mb-2","fs-18","simibold"],[3,"formGroup"],[1,"form-group"],[1,"flex-grid","aife","gap-y-1","mb-2"],[1,"col-lg-6"],["key","first_repetition_discount",3,"control","showIcon","icon"],[1,"flex","aic","position-relative"],["type","text","formControlName","firstRepetitionDiscount",1,"input"],[1,"input-suffix"],[3,"control"],["key","second_repetition_discount",3,"control","showIcon","icon"],["type","text","formControlName","secondRepetitionDiscount",1,"input"],["key","third_repetition_discount",3,"control","showIcon","icon"],["type","text","formControlName","thirdRepetitionDiscount",1,"input"],["key","fourth_repetition_discount",3,"control","showIcon","icon"],["type","text","formControlName","fourthRepetitionDiscount",1,"input"],[1,"text-right","mt-4"],["type","submit","mat-button","",1,"bg-primary","white","py-1","px-2","border-primary","rounded","pointer",3,"click"],["type","button","mat-button","",1,"bg-white","primary","py-1","px-2","border-primary","rounded","pointer","ml-1",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form",2)(5,"div",3)(6,"div",4)(7,"div",5),t._UZ(8,"input-label",6),t.TgZ(9,"div",7),t._UZ(10,"input",8),t.TgZ(11,"span",9),t._uU(12),t.ALo(13,"translate"),t.qZA()(),t._UZ(14,"input-error",10),t.qZA(),t.TgZ(15,"div",5),t._UZ(16,"input-label",11),t.TgZ(17,"div",7),t._UZ(18,"input",12),t.TgZ(19,"span",9),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t._UZ(22,"input-error",10),t.qZA()(),t.TgZ(23,"div",4)(24,"div",5),t._UZ(25,"input-label",13),t.TgZ(26,"div",7),t._UZ(27,"input",14),t.TgZ(28,"span",9),t._uU(29),t.ALo(30,"translate"),t.qZA()(),t._UZ(31,"input-error",10),t.qZA(),t.TgZ(32,"div",5),t._UZ(33,"input-label",15),t.TgZ(34,"div",7),t._UZ(35,"input",16),t.TgZ(36,"span",9),t._uU(37),t.ALo(38,"translate"),t.qZA()(),t._UZ(39,"input-error",10),t.qZA()()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){return i.submit()}),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"button",19),t.NdJ("click",function(){return i.cancel()}),t._uU(45),t.ALo(46,"translate"),t.qZA()()()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,24,"add_absence")),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(4),t.Q6J("control",i.f.firstRepetitionDiscount)("showIcon",!0)("icon","assets/images/icons/number.svg"),t.xp6(4),t.Oqu(t.lcZ(13,26,"day")),t.xp6(2),t.Q6J("control",i.f.firstRepetitionDiscount),t.xp6(2),t.Q6J("control",i.f.secondRepetitionDiscount)("showIcon",!0)("icon","assets/images/icons/number.svg"),t.xp6(4),t.Oqu(t.lcZ(21,28,"day")),t.xp6(2),t.Q6J("control",i.f.secondRepetitionDiscount),t.xp6(3),t.Q6J("control",i.f.thirdRepetitionDiscount)("showIcon",!0)("icon","assets/images/icons/number.svg"),t.xp6(4),t.Oqu(t.lcZ(30,30,"day")),t.xp6(2),t.Q6J("control",i.f.thirdRepetitionDiscount),t.xp6(2),t.Q6J("control",i.f.fourthRepetitionDiscount)("showIcon",!0)("icon","assets/images/icons/number.svg"),t.xp6(4),t.Oqu(t.lcZ(38,32,"day")),t.xp6(2),t.Q6J("control",i.f.fourthRepetitionDiscount),t.xp6(3),t.hij(" ",t.lcZ(43,34,i.editMode?"save":"add")," "),t.xp6(3),t.hij(" ",t.lcZ(46,36,"cancel")," "))},dependencies:[x.i,b.w,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,r.ez,p.aw,p.X$]})}}return n})();var Un=c(17476);function Mn(n,l){if(1&n&&(t.TgZ(0,"span",12),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"arabicDate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE("",t.lcZ(2,2,"last_update_in")," ",t.lcZ(3,4,e.updateDate),"")}}function Pn(n,l){1&n&&(t.TgZ(0,"div",13),t._UZ(1,"loading"),t.qZA())}function Jn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,s=t.oxw(2);return t.KtG(s.editLatencyPolicyItem(i))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"edit")))}function In(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit,s=t.oxw(2);return t.KtG(s.deleteLatencyPolicyItem(i.id))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"delete")))}function Nn(n,l){if(1&n&&(t.TgZ(0,"div")(1,"button",25),t._UZ(2,"i",26),t.qZA(),t.TgZ(3,"mat-menu",null,27),t.YNc(5,Jn,3,3,"button",28),t.YNc(6,In,3,3,"button",29),t.qZA()()),2&n){const e=t.MAs(4),o=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(4),t.Q6J("ngIf",i.isAdmin||i.loggedInUserId==(null==o?null:o.creatorId)&&!(null!=o&&o.isApproved)),t.xp6(1),t.Q6J("ngIf",i.isAdmin||i.loggedInUserId==(null==o?null:o.creatorId)&&!(null!=o&&o.isApproved))}}function Qn(n,l){if(1&n&&(t.TgZ(0,"tr",20)(1,"td",21),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"td",21),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"td",21),t._uU(8),t.qZA(),t.TgZ(9,"td",21),t._uU(10),t.qZA(),t.TgZ(11,"td",21),t._uU(12),t.qZA(),t.TgZ(13,"td",21),t._uU(14),t.qZA(),t.TgZ(15,"td",22),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(16,"div",23),t.YNc(17,Nn,7,3,"div",24),t.qZA()()()),2&n){const e=l.$implicit,o=l.index,i=t.oxw(2);t.xp6(2),t.AsE("",t.lcZ(3,10,"late_checkin_period")," ",o+1,""),t.xp6(3),t.lnq("",null==e?null:e.minsFrom," - ",null==e?null:e.minsTo," ",t.lcZ(6,12,"minutes")," "),t.xp6(3),t.Oqu(i.getRepetitionDisplay(null==e?null:e.firstRepetitionsType,null==e?null:e.firstRepetitionsTypeValue)),t.xp6(2),t.Oqu(i.getRepetitionDisplay(null==e?null:e.socondRepetitionsType,null==e?null:e.socondRepetitionsTypeValue)),t.xp6(2),t.Oqu(i.getRepetitionDisplay(null==e?null:e.thirdRepetitionsType,null==e?null:e.thirdRepetitionsTypeValue)),t.xp6(2),t.Oqu(i.getRepetitionDisplay(null==e?null:e.fourthRepetitionsType,null==e?null:e.fourthRepetitionsTypeValue)),t.xp6(3),t.Q6J("ngIf",!(null!=e&&e.isApproved)&&i.loggedInUserId==(null==e?null:e.creatorId)||i.isAdmin)}}function Dn(n,l){if(1&n&&(t.TgZ(0,"div",14)(1,"table",15)(2,"thead")(3,"tr",16)(4,"th",17),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",17),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",17),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th",17),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",17),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",17),t._uU(20),t.ALo(21,"translate"),t.qZA(),t._UZ(22,"th",17),t.qZA()(),t.TgZ(23,"tbody",18),t.YNc(24,Qn,18,14,"tr",19),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,7,"late_checkin_period_type")),t.xp6(3),t.Oqu(t.lcZ(9,9,"late_checkin_period")),t.xp6(3),t.Oqu(t.lcZ(12,11,"late_checkin_first_repetition")),t.xp6(3),t.Oqu(t.lcZ(15,13,"late_checkin_second_repetition")),t.xp6(3),t.Oqu(t.lcZ(18,15,"late_checkin_third_repetition")),t.xp6(3),t.Oqu(t.lcZ(21,17,"late_checkin_fourth_repetition")),t.xp6(4),t.Q6J("ngForOf",e.lateList)}}function Yn(n,l){1&n&&(t.TgZ(0,"div",32),t._UZ(1,"not-found",33),t.qZA())}const Fn=function(n){return{"bg-primary white":n}};let jn=(()=>{class n{constructor(){this.service=(0,t.f3M)(m.j),this.role=(0,t.f3M)(Un.f),this.dialog=(0,t.f3M)(d.uw),this.alert=(0,t.f3M)(_.c),this.translate=(0,t.f3M)(p.sK),this.loading=!1,this.lateList=[],this.absences=[],this.loggedInUserId=localStorage.getItem("id"),this.isAdmin=!1}ngOnInit(){this.getRoles(),this.getLatencyPolicies()}getRoles(){this.role.canAccessAdmin.subscribe(e=>{this.isAdmin=e})}getRepetitionDisplay(e,o){switch(e){case 1:return this.translate.instant("no_deduction");case 2:return this.translate.instant("auto_deduction");case 3:return`${o} ${this.translate.instant("hours")}`;case 4:return`${o} ${this.translate.instant("days")}`;default:return""}}getLatencyPolicies(){this.loading=!0,this.service.getAllLatencyPolicies().subscribe(e=>{this.lateList=e.data.list.items,this.updateDate=e.data.updatedDate,this.lateList.sort((o,i)=>(o.minsFrom||0)-(i.minsFrom||0)),this.loading=!1})}editLatencyPolicyItem(e){this.dialog.open(R,{width:"600px",data:{edit:!0,data:e}}).afterClosed().subscribe(i=>{i&&this.editLatencyPolicy(i)})}editLatencyPolicy(e){this.service.editLatencyPolicy(e).subscribe(o=>{o.success&&(this.alert.showAlert("latency_policy_updated"),this.getLatencyPolicies())})}deleteLatencyPolicyItem(e){this.dialog.open(P.v,{panelClass:"small-dialog",data:{id:e,btn_name:"confirm",classes:"bg-primary white",message:"delete_latency_policy"}}).afterClosed().subscribe(i=>{i&&this.deleteLatencyPolicy(e)})}deleteLatencyPolicy(e){this.service.deleteLatencyPolicy(e).subscribe(o=>{o.success&&(this.alert.showAlert("latency_policy_deleted"),this.getLatencyPolicies())})}addLatencyPolicyItem(){this.dialog.open(R,{width:"600px",data:{isEdit:!1,view:!1,existingTiers:this.lateList}}).afterClosed().subscribe(o=>{if(o){const i=Object.fromEntries(Object.entries(o).filter(([s,g])=>null!==g));this.addLatencyPolicy(i)}})}addLatencyPolicy(e){this.service.addLatencyPolicy(e).subscribe(o=>{o.success&&(this.alert.showAlert("latency_policy_added"),this.getLatencyPolicies())})}addAbsence(){this.dialog.open(kn,{width:"600px",data:{isEdit:!1}}).afterClosed().subscribe(o=>{})}getLateCheckins(){this.loading=!0,setTimeout(()=>{this.loading=!1},1e3)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["attendance-leave"]],standalone:!0,features:[t.jDz],decls:16,vars:14,consts:[[1,"m-2","py-2","border","h-70vh"],[1,"filters","flex-grid","mb-2","aie","jcsb","w-100","mx-0"],[1,"col-lg-6","text-left"],[1,"d-flex","align-items-center","gap-3"],[1,"simibold","black"],["class","fs-12 fw-normal text-gray",4,"ngIf"],[1,"col-lg-6","text-right"],["mat-raised-button","",3,"ngClass","disabled","click"],[1,"px-50"],["class","aic flex jcc py-5",4,"ngIf"],["class","table-container",4,"ngIf"],["class","py-5 text-center",4,"ngIf"],[1,"fs-12","fw-normal","text-gray"],[1,"aic","flex","jcc","py-5"],[1,"table-container"],[1,"table","table-bordered"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"border-bottom","fs-12"],[1,"text-left"],[1,"text-right","pl-0",3,"click"],[1,"flex","aic","jce","gap-x-2"],[4,"ngIf"],[1,"clickable-btn",3,"matMenuTriggerFor"],[1,"bx","bx-dots-vertical-rounded","fs-25"],["menu","matMenu"],["mat-menu-item","","dir","auto","ngClass","",3,"click",4,"ngIf"],["mat-menu-item","","dir","auto",3,"click",4,"ngIf"],["mat-menu-item","","dir","auto","ngClass","",3,"click"],["mat-menu-item","","dir","auto",3,"click"],[1,"py-5","text-center"],["message","no_data_found_late_checkin"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,Mn,4,6,"span",5),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return i.addLatencyPolicyItem()}),t._uU(10),t.ALo(11,"translate"),t.qZA()()(),t.TgZ(12,"div",8),t.YNc(13,Pn,2,0,"div",9),t.YNc(14,Dn,25,19,"div",10),t.YNc(15,Yn,2,0,"div",11),t.qZA()()),2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,8,"late_checkin_policy")," "),t.xp6(2),t.Q6J("ngIf",i.updateDate),t.xp6(2),t.Q6J("ngClass",t.VKq(12,Fn,i.lateList.length<4))("disabled",4==i.lateList.length),t.xp6(1),t.hij(" ",t.lcZ(11,10,"add_late_checkin")," "),t.xp6(3),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.lateList.length>0&&!i.loading),t.xp6(1),t.Q6J("ngIf",0==i.lateList.length&&!i.loading))},dependencies:[r.ez,r.mk,r.sg,r.O5,p.aw,p.X$,u.N,h.w,O.Tx,O.VK,q.Lv,O.OP,O.p6,v.ot,v.lW,T.P],styles:[".text-gray[_ngcontent-%COMP%]{color:#606060}"]})}}return n})();var En=c(75986);function Gn(n,l){1&n&&t._UZ(0,"loading")}function Sn(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"form",7)(7,"div",8)(8,"mat-radio-group",9),t.NdJ("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.setTasksConfig())}),t.TgZ(9,"mat-radio-button",10)(10,"span",11),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"mat-radio-button",10)(14,"span",11),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,7,"manager_approval")),t.xp6(2),t.Q6J("formGroup",e.form)("dir","ar"===e.currentLanguage?"rtl":"ltr"),t.xp6(3),t.Q6J("value",!1),t.xp6(2),t.Oqu(t.lcZ(12,9,"allow_manager_to_approve_every_task")),t.xp6(2),t.Q6J("value",!0),t.xp6(2),t.Oqu(t.lcZ(16,11,"add_task_without_manager_approval"))}}let Rn=(()=>{class n{constructor(){this.fb=(0,t.f3M)(a.qu),this.service=(0,t.f3M)(m.j),this.alert=(0,t.f3M)(_.c),this.translate=(0,t.f3M)(p.sK),this.currentLanguage=this.translate.currentLang,this.loading=!0}ngOnInit(){this.initForm(),this.getTasksConfig()}initForm(){this.form=this.fb.group({leaveSystem:[!1,[a.kI.required]],fromDay:[1,[a.kI.required]],toDay:[30,[a.kI.required]],crossMonth:[!1,[a.kI.required]],autoTaskApprove:[!1,[a.kI.required]]})}getTasksConfig(){this.service.getPayrollCycle().subscribe({next:e=>{this.loading=!1,this.form.patchValue({leaveSystem:e.data.leaveSystem,autoTaskApprove:e.data.autoTaskApprove||!1,fromDay:e.data.fromDay,toDay:e.data.toDay,crossMonth:e.data.crossMonth})},error:e=>{this.alert.showAlert(e.message,"bg-danger")}})}setTasksConfig(){this.service.updatePayrollCycle(this.form.value).subscribe(e=>{this.alert.showAlert(e.message,e.success?"bg-success":"bg-danger")})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["tasks-config"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[1,"container","px-2","py-1","h-70vh","mx-0"],[4,"ngIf"],["class","content-container",4,"ngIf"],[1,"content-container"],[1,"row"],[1,"col-12"],[1,"mb-2","simibold","black"],[3,"formGroup","dir"],[1,"radio-container","mb-1"],["formControlName","autoTaskApprove","color","primary",1,"custom-radio-group",3,"change"],[1,"radio-option",3,"value"],[1,"radio-label"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Gn,1,0,"loading",1),t.YNc(2,Sn,17,13,"div",2),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",!i.loading))},dependencies:[r.ez,r.O5,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u,p.aw,p.X$,E.lN,q.Lv,G.c,v.ot,En.p9,y.Fk,y.VQ,y.U0,u.N],styles:[".custom-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}"]})}}return n})();function Hn(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"leaves-list"),t.qZA())}function zn(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"holidays-list"),t.qZA())}function Vn(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"job-titles"),t.qZA())}function Bn(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"space-banks"),t.qZA())}function $n(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"penalty-types"),t.qZA())}function Kn(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"experience-levels"),t.qZA())}function Xn(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"file-types"),t.qZA())}function Wn(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"shifts-config"),t.qZA())}function ti(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"rewards-types"),t.qZA())}function ei(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"departments-list"),t.qZA())}function ni(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"places-list"),t.qZA())}function ii(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"levels-list"),t.qZA())}function oi(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"kpis",5),t.qZA()),2&n&&(t.xp6(1),t.Q6J("space",!0))}function ai(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"tasks-config"),t.qZA())}function li(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"payroll-cycle"),t.qZA())}function si(n,l){1&n&&(t.TgZ(0,"div",4),t._UZ(1,"attendance-leave"),t.qZA())}let ri=(()=>{class n{constructor(){this.service=(0,t.f3M)(z.e),this.dialog=(0,t.f3M)(d.uw),this.activeTab=0}onTabChange(e){this.activeTab=e.index}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.Xpm({type:n,selectors:[["space-configuration"]],standalone:!0,features:[t.jDz],decls:51,vars:64,consts:[[1,"pb-2","overflow-y-auto","bg-white"],["mat-stretch-tabs","false","mat-align-tabs","start","animationDuration","0s",1,"leaves-group",3,"selectedTabChange"],[3,"label"],["class","",4,"ngIf"],[1,""],[3,"space"]],template:function(o,i){1&o&&(t.TgZ(0,"layout")(1,"div",0)(2,"mat-tab-group",1),t.NdJ("selectedTabChange",function(g){return i.onTabChange(g)}),t.TgZ(3,"mat-tab",2),t.ALo(4,"translate"),t.YNc(5,Hn,2,0,"div",3),t.qZA(),t.TgZ(6,"mat-tab",2),t.ALo(7,"translate"),t.YNc(8,zn,2,0,"div",3),t.qZA(),t.TgZ(9,"mat-tab",2),t.ALo(10,"translate"),t.YNc(11,Vn,2,0,"div",3),t.qZA(),t.TgZ(12,"mat-tab",2),t.ALo(13,"translate"),t.YNc(14,Bn,2,0,"div",3),t.qZA(),t.TgZ(15,"mat-tab",2),t.ALo(16,"translate"),t.YNc(17,$n,2,0,"div",3),t.qZA(),t.TgZ(18,"mat-tab",2),t.ALo(19,"translate"),t.YNc(20,Kn,2,0,"div",3),t.qZA(),t.TgZ(21,"mat-tab",2),t.ALo(22,"translate"),t.YNc(23,Xn,2,0,"div",3),t.qZA(),t.TgZ(24,"mat-tab",2),t.ALo(25,"translate"),t.YNc(26,Wn,2,0,"div",3),t.qZA(),t.TgZ(27,"mat-tab",2),t.ALo(28,"translate"),t.YNc(29,ti,2,0,"div",3),t.qZA(),t.TgZ(30,"mat-tab",2),t.ALo(31,"translate"),t.YNc(32,ei,2,0,"div",3),t.qZA(),t.TgZ(33,"mat-tab",2),t.ALo(34,"translate"),t.YNc(35,ni,2,0,"div",3),t.qZA(),t.TgZ(36,"mat-tab",2),t.ALo(37,"translate"),t.YNc(38,ii,2,0,"div",3),t.qZA(),t.TgZ(39,"mat-tab",2),t.ALo(40,"translate"),t.YNc(41,oi,2,1,"div",3),t.qZA(),t.TgZ(42,"mat-tab",2),t.ALo(43,"translate"),t.YNc(44,ai,2,0,"div",3),t.qZA(),t.TgZ(45,"mat-tab",2),t.ALo(46,"translate"),t.YNc(47,li,2,0,"div",3),t.qZA(),t.TgZ(48,"mat-tab",2),t.ALo(49,"translate"),t.YNc(50,si,2,0,"div",3),t.qZA()()()()),2&o&&(t.xp6(3),t.Q6J("label",t.lcZ(4,32,"leave_types")),t.xp6(2),t.Q6J("ngIf",0===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(7,34,"holidays")),t.xp6(2),t.Q6J("ngIf",1===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(10,36,"job_titles")),t.xp6(2),t.Q6J("ngIf",2===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(13,38,"banks")),t.xp6(2),t.Q6J("ngIf",3===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(16,40,"penalty_types")),t.xp6(2),t.Q6J("ngIf",4===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(19,42,"experiences_level")),t.xp6(2),t.Q6J("ngIf",5===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(22,44,"file_types")),t.xp6(2),t.Q6J("ngIf",6===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(25,46,"shifts")),t.xp6(2),t.Q6J("ngIf",7===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(28,48,"rewards_types")),t.xp6(2),t.Q6J("ngIf",8===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(31,50,"departments")),t.xp6(2),t.Q6J("ngIf",9===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(34,52,"places")),t.xp6(2),t.Q6J("ngIf",10===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(37,54,"levels")),t.xp6(2),t.Q6J("ngIf",11===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(40,56,"kpis")),t.xp6(2),t.Q6J("ngIf",12===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(43,58,"tasks")),t.xp6(2),t.Q6J("ngIf",13===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(46,60,"payroll_cycle")),t.xp6(2),t.Q6J("ngIf",14===i.activeTab),t.xp6(1),t.Q6J("label",t.lcZ(49,62,"attendance_and_leave")),t.xp6(2),t.Q6J("ngIf",15===i.activeTab))},dependencies:[r.ez,r.O5,H.$,p.aw,p.X$,w.Nh,w.uX,w.SP,it,ft,yt,St,ee,re,ue,Te,ye.ShiftsComponent,Ue,Ve,gn,mn.u,Tn,jn,Rn],styles:["[_nghost-%COMP%]     mat-form-field{width:100%}[_nghost-%COMP%]     mat-form-field .mdc-text-field{background:transparent;border:1px solid #e7e7e7;border-radius:4px;height:41px}[_nghost-%COMP%]     mat-form-field .mdc-text-field .mat-mdc-icon-button{top:-9px}[_nghost-%COMP%]     .mat-mdc-tab-labels{display:block}[_nghost-%COMP%]     .mat-mdc-tab-labels .mdc-tab{display:inline-block;letter-spacing:0!important}.overflow-y-auto[_ngcontent-%COMP%]{max-height:calc(100vh - 111px)!important;overflow-y:auto}"]})}}return n})()}}]);