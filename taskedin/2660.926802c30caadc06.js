"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[2660,1428,6526],{1428:(h,u,t)=>{t.d(u,{$:()=>p});var e=t(65879),s=t(96814),r=t(3131);const l=function(i){return{"max-width":i}},d=["*"];let p=(()=>{class i{constructor(){this.scroll=!1,this.service=(0,e.f3M)(r.P)}static{this.\u0275fac=function(c){return new(c||i)}}static{this.\u0275cmp=e.Xpm({type:i,selectors:[["layout"]],inputs:{scroll:"scroll"},standalone:!0,features:[e.jDz],ngContentSelectors:d,decls:2,vars:6,consts:[[3,"ngStyle"]],template:function(c,m){1&c&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&c&&(e.Gre("",m.scroll?"scroll":""," layout rounded bg-white border"),e.Q6J("ngStyle",e.VKq(4,l,m.service.withSubMenu.value?"100vw":"calc(100vw - 92px)")))},dependencies:[s.ez,s.PC],styles:[".layout[_ngcontent-%COMP%]{overflow:hidden;height:calc(100vh - 11rem);box-shadow:0 1px 38px #0000001a,0 2px 4px -1px #0000000f}.scroll[_ngcontent-%COMP%]{overflow-y:auto!important}"]})}}return i})()},3131:(h,u,t)=>{t.d(u,{P:()=>r});var e=t(65619),s=t(65879);let r=(()=>{class l{constructor(){this.withSubMenu=new e.X(!0)}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275prov=s.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},22660:(h,u,t)=>{t.r(u),t.d(u,{ProfileComponent:()=>O});var e=t(65879),s=t(96814),r=t(56223),l=t(20553),d=t(75411),p=t(1350),i=t(58964),v=t(89515),f=t(1428),c=t(824),m=t(17476),g=t(63934),P=t(99758),M=t(83628);function D(_,C){if(1&_&&(e.TgZ(0,"a",16),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&_){const o=e.oxw();e.Q6J("href",o.env+"/"+o.user.profileCV.filePath,e.LSH),e.xp6(1),e.Oqu(e.lcZ(2,2,"view_cv"))}}let O=(()=>{class _{constructor(o,a,n,E){this.service=o,this.userSer=a,this.alertSer=n,this.fb=E,this.rolesService=(0,e.f3M)(m.f),this.isAdmin=!1,this.spaceId=localStorage.getItem("space-id"),this.loading=!1,this.env=l.N.apiUrl,this.form=this.fb.group({name:[{value:""},r.kI.required],jobTitle:[{value:"",disabled:!0},r.kI.required],email:[{value:"",disabled:!0},[r.kI.required,r.kI.email]],phoneNumber:[{value:"",disabled:!0}],jobDescription:[{value:""}]})}ngOnInit(){this.rolesService.canAccessAdmin.subscribe(o=>{this.isAdmin=o}),this.userSer.user$.subscribe(o=>{this.user=o,o&&this.form.patchValue({name:o.name,jobTitle:o.jobTitle,email:o.email,phoneNumber:o.phoneNumber,jobDescription:o.jobDescription})})}updateImage(o){this.alertSer.showAlert("file_uploading","bg-primary",5e6);let a=new FormData;a.append("uploadedFile",o),this.service.updateImage(a).subscribe(n=>{n.success&&(this.alertSer.showAlert("profile_updated"),this.userSer.getMyProfile(this.spaceId).subscribe())})}submit(){this.loading=!0,this.service.updateProfile(this.form.value).subscribe(o=>{o.success&&(this.alertSer.showAlert("profile_updated"),this.userSer.getMyProfile(this.spaceId).subscribe()),this.loading=!1})}get f(){return this.form.controls}static{this.\u0275fac=function(a){return new(a||_)(e.Y36(g.K),e.Y36(g.K),e.Y36(P.c),e.Y36(r.qu))}}static{this.\u0275cmp=e.Xpm({type:_,selectors:[["profile"]],standalone:!0,features:[e.jDz],decls:23,vars:17,consts:[["magicScroll","",1,"profile-settings","p-5","h-100"],[1,"update-image","mb-4","flex","aic","jcsb"],[3,"img","file"],["download","","target","_blank","class","underline primary",3,"href",4,"ngIf"],[3,"formGroup"],[1,"flex-grid","gap-y-2"],[1,"col-xl-6"],["key","full_name",3,"control","maxLength"],["type","text","formControlName","name",1,"input",3,"maxLength","readonly"],[3,"control"],["key","job_title",3,"control"],["type","text","formControlName","jobTitle",1,"input",3,"readonly"],["key","email",3,"control"],["type","text","formControlName","email",1,"input",3,"readonly"],["key","phone",3,"control"],["type","text","formControlName","phoneNumber",1,"input",3,"readonly"],["download","","target","_blank",1,"underline","primary",3,"href"]],template:function(a,n){1&a&&(e.TgZ(0,"layout")(1,"div",0)(2,"div",1)(3,"upload-image",2),e.NdJ("file",function(y){return n.updateImage(y)}),e.qZA(),e.YNc(4,D,3,4,"a",3),e.qZA(),e.TgZ(5,"form",4)(6,"div",5)(7,"div",6),e._UZ(8,"input-label",7)(9,"input",8)(10,"input-error",9),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"input-label",10)(13,"input",11)(14,"input-error",9),e.qZA(),e.TgZ(15,"div",6),e._UZ(16,"input-label",12)(17,"input",13)(18,"input-error",9),e.qZA(),e.TgZ(19,"div",6),e._UZ(20,"input-label",14)(21,"input",15)(22,"input-error",9),e.qZA()()()()()),2&a&&(e.xp6(3),e.Q6J("img",n.user.imageUrl),e.xp6(1),e.Q6J("ngIf",n.user.profileCV),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("control",n.f.name)("maxLength",25),e.xp6(1),e.Q6J("maxLength",25)("readonly",!0),e.xp6(1),e.Q6J("control",n.f.name),e.xp6(2),e.Q6J("control",n.f.jobTitle),e.xp6(1),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("control",n.f.jobTitle),e.xp6(2),e.Q6J("control",n.f.email),e.xp6(1),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("control",n.f.email),e.xp6(2),e.Q6J("control",n.f.phoneNumber),e.xp6(1),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("control",n.f.phoneNumber))},dependencies:[s.ez,s.O5,d.u,M.I,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,p.i,i.w,v.aw,v.X$,f.$,c.h],styles:[".submit[_ngcontent-%COMP%]{width:15rem!important}"]})}}return _})()}}]);