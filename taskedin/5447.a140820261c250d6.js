"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[5447],{8078:(R,A,o)=>{o.d(A,{y:()=>M});var t=o(96814),c=o(89515),x=o(86903),C=o(52081),n=o(65879);const _=["chart"];function h(m,T){if(1&m&&(n.TgZ(0,"div",6),n._uU(1),n.ALo(2,"arabicNumbers"),n.qZA()),2&m){const u=n.oxw(3);n.xp6(1),n.hij(" ",n.lcZ(2,1,(null==u.details?null:u.details.value)||0)," ")}}function y(m,T){if(1&m&&(n.TgZ(0,"div",4)(1,"div",5)(2,"div",6),n._uU(3),n.ALo(4,"arabicNumbers"),n.qZA(),n.TgZ(5,"div",7),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n.TgZ(8,"div",5)(9,"div",6),n._uU(10),n.ALo(11,"arabicNumbers"),n.qZA(),n.TgZ(12,"div",8),n._uU(13),n.ALo(14,"translate"),n.qZA()(),n.TgZ(15,"div",5),n.YNc(16,h,3,3,"div",9),n.TgZ(17,"div",10),n._uU(18),n.ALo(19,"translate"),n.qZA()()()),2&m){const u=n.oxw(2);n.xp6(3),n.hij("",n.lcZ(4,6,(null==u.details?null:u.details.weight)||0),"%"),n.xp6(3),n.Oqu(n.lcZ(7,8,"weight")),n.xp6(4),n.Oqu(n.lcZ(11,10,(null==u.details?null:u.details.target)||0)),n.xp6(3),n.Oqu(n.lcZ(14,12,"target")),n.xp6(3),n.Q6J("ngIf",(null==u.details?null:u.details.kpi)&&1==(null==u.details?null:u.details.kpi)),n.xp6(2),n.Oqu(n.lcZ(19,14,"achieved"))}}function U(m,T){if(1&m&&(n.TgZ(0,"div",4)(1,"div",11)(2,"div",10),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"div",12),n._uU(6),n.ALo(7,"arabicNumbers"),n.qZA()(),n.TgZ(8,"div",11)(9,"div",8),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.TgZ(12,"div",12),n._uU(13),n.ALo(14,"arabicNumbers"),n.qZA()(),n.TgZ(15,"div",5)(16,"div",10),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"div",12),n._uU(20),n.ALo(21,"arabicNumbers"),n.qZA()()()),2&m){const u=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,6,"weight")),n.xp6(3),n.hij("",n.lcZ(7,8,(null==u.details?null:u.details.weight)||0),"%"),n.xp6(4),n.Oqu(n.lcZ(11,10,"target")),n.xp6(3),n.Oqu(n.lcZ(14,12,(null==u.details?null:u.details.target)||(null==u.details?null:u.details.target)||0)),n.xp6(4),n.Oqu(n.lcZ(18,14,"achieved")),n.xp6(3),n.hij(" ",n.lcZ(21,16,(null==u.details?null:u.details.value)||0)," ")}}function S(m,T){if(1&m&&(n.TgZ(0,"div"),n.YNc(1,y,20,16,"div",3),n.YNc(2,U,22,18,"div",3),n.qZA()),2&m){const u=n.oxw();n.xp6(1),n.Q6J("ngIf",u.details&&!u.small),n.xp6(1),n.Q6J("ngIf",u.details&&u.small)}}let M=(()=>{class m{constructor(u,f){this.translate=u,this.arabicNumbers=f,this.label=" ",this.full=!1,this.fillType="solid",this.percentWeight=700,this.percentSize="25px",this.percentOffset=-20,this.small=!1,this.labelFontSize="15px",this.labelColor="#999",this.labelWeight=600,this.labelOffset=-10,this.labelValueColor=!0,this.chartStart=-90,this.chartEnd=90,this.hideDetails=!1}ngOnInit(){this.values=this.details.achieved||0,this.full&&(this.chartStart=-135,this.chartEnd=225),this.valueColor="gradient"!=this.fillType?this.values<35?"#ea5455":this.values<70?"#f69e42":"#29cc99":"#7B58CA",this.labelValueColor&&(this.percentColor=this.valueColor),this.chartOptions={series:[this.values],chart:{type:"radialBar",offsetY:0},stroke:{lineCap:"round"},plotOptions:{radialBar:{startAngle:this.chartStart,endAngle:this.chartEnd,track:{background:"#f0f0f0",strokeWidth:"97%",margin:5,dropShadow:{enabled:!0,top:1,left:0,opacity:.21,blur:2}},dataLabels:{name:{fontSize:this.labelFontSize,color:this.labelColor,fontWeight:this.labelWeight,offsetY:this.labelOffset,fontFamily:"Tajawal"},value:{offsetY:this.percentOffset,fontSize:this.percentSize,fontWeight:this.percentWeight,fontFamily:"Tajawal",color:this.percentColor}}}},fill:{colors:[this.valueColor],type:this.fillType,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#65C7C3"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},labels:[this.translate.instant(this.label)]}}static{this.\u0275fac=function(f){return new(f||m)(n.Y36(c.sK),n.Y36(C.m))}}static{this.\u0275cmp=n.Xpm({type:m,selectors:[["chart-radial-bar"]],viewQuery:function(f,v){if(1&f&&n.Gf(_,5),2&f){let w;n.iGM(w=n.CRH())&&(v.chart=w.first)}},inputs:{label:"label",details:"details",full:"full",fillType:"fillType",percentWeight:"percentWeight",percentSize:"percentSize",percentOffset:"percentOffset",percentColor:"percentColor",small:"small",labelFontSize:"labelFontSize",labelColor:"labelColor",labelWeight:"labelWeight",labelOffset:"labelOffset",labelValueColor:"labelValueColor",hideDetails:"hideDetails"},standalone:!0,features:[n.jDz],decls:5,vars:9,consts:[[4,"ngIf"],["id","chart"],[3,"series","chart","plotOptions","labels","fill"],["class","kpi-values flex-grid aic jcc ",4,"ngIf"],[1,"kpi-values","flex-grid","aic","jcc"],[1,"text-center","col-sm-4","mb-1"],[1,"simibold"],[1,"success","fs-15"],[1,"primary"],["class","simibold ",4,"ngIf"],[1,"success"],[1,"text-center","col-sm-4","mb-1","fs-14"],[1,"fw-500"]],template:function(f,v){1&f&&(n.TgZ(0,"div"),n.YNc(1,S,3,2,"div",0),n.TgZ(2,"div")(3,"div",1),n._UZ(4,"apx-chart",2),n.qZA()()()),2&f&&(n.xp6(1),n.Q6J("ngIf",!v.hideDetails),n.xp6(1),n.Tol(v.small?"small-chart":""),n.xp6(2),n.Q6J("series",v.chartOptions.series)("chart",v.chartOptions.chart)("plotOptions",v.chartOptions.plotOptions)("labels",v.chartOptions.labels)("fill",v.chartOptions.fill))},dependencies:[x.X,x.x,c.aw,c.X$,C.m,t.ez,t.O5],styles:["#chart{padding:0;max-width:450px;margin:0 auto;height:200px!important}.small-chart{margin:0 auto;max-width:150px;height:110px!important;display:flex;align-items:center;justify-content:center}.apexcharts-canvas{height:200px!important;display:flex!important;justify-content:center;align-items:center}.kpi-values{max-width:400px;margin:0 auto}.kpi-values .kpi-start{inset-inline-start:-46px}.kpi-values .kpi-end{inset-inline-end:-46px}\n"],encapsulation:2})}}return m})()},47719:(R,A,o)=>{o.d(A,{L:()=>S});var t=o(96814),c=o(89515),x=o(17700),C=o(49298),n=o(32296),_=o(65879),h=o(98771),y=o(99758),U=o(49388);let S=(()=>{class M{constructor(T,u,f,v){this.data=T,this.service=u,this.alert=f,this.dialogRef=v,this.disabled=!1}ngOnInit(){}update(){this.disabled=!0,this.service.updateTaskProgress({id:this.data.task.taskId,actualTime:this.time,percentage:100}).subscribe(u=>{u.success&&(this.alert.showAlert("task_updated"),this.service.hasChanged.next(!0),this.dialogRef.close({success:!0})),this.disabled=!1})}updateProgress(){5==this.data.task.taskGroupType?this.data.task.inLocation?this.update():(this.alert.showAlert("not_in_location","bg-danger",5e3),this.dialogRef.close({success:!1}),document.body.click()):this.update()}static{this.\u0275fac=function(u){return new(u||M)(_.Y36(x.WI),_.Y36(h.i),_.Y36(y.c),_.Y36(x.so))}}static{this.\u0275cmp=_.Xpm({type:M,selectors:[["set-actual-time"]],standalone:!0,features:[_.jDz],decls:14,vars:10,consts:[["dir","auto",1,"set-actual-time"],[1,"black","text-center","mb-1"],[1,"time"],[3,"calcMinutes"],["mat-dialog-actions","",1,"mt-1"],[1,"flex","aic","gap-x-2","w-100"],["mat-dialog-close","","mat-raised-button","",1,"flex-50","w-100","dark-color","rounded","cancel-btn"],["mat-raised-button","","color","primary",1,"flex-50","w-100","rounded",3,"disabled","click"]],template:function(u,f){1&u&&(_.TgZ(0,"div",0)(1,"h2",1),_._uU(2),_.ALo(3,"translate"),_.qZA(),_.TgZ(4,"div",2)(5,"select-time",3),_.NdJ("calcMinutes",function(w){return f.time=w}),_.qZA()(),_.TgZ(6,"div",4)(7,"div",5)(8,"button",6),_._uU(9),_.ALo(10,"translate"),_.qZA(),_.TgZ(11,"button",7),_.NdJ("click",function(){return f.updateProgress()}),_._uU(12),_.ALo(13,"translate"),_.qZA()()()()),2&u&&(_.xp6(2),_.Oqu(_.lcZ(3,4,"actual_time")),_.xp6(7),_.Oqu(_.lcZ(10,6,"cancel")),_.xp6(2),_.Q6J("disabled",!f.time||f.disabled),_.xp6(1),_.Oqu(_.lcZ(13,8,"save")))},dependencies:[t.ez,c.aw,c.X$,C.m,x.Is,x.ZT,x.H8,U.Lv,n.ot,n.lW],encapsulation:2})}}return M})()},17023:(R,A,o)=>{o.d(A,{q:()=>t});var t=function(c){return c[c.critical=1]="critical",c[c.at_risk=2]="at_risk",c[c.on_track=3]="on_track",c[c.achieved=4]="achieved",c[c.out_standing=5]="out_standing",c}(t||{})},61706:(R,A,o)=>{o.d(A,{W:()=>c});var t=o(65879);let c=(()=>{class x{transform(n,_){if("hour"===_){const h=Math.floor(n),y=Math.floor(60*(n-h));return`${this.padZero(h)}:${this.padZero(y)}`}if("minutes"===_){const h=Math.floor(n/60),y=Math.floor(n%60);return`${this.padZero(h)}:${this.padZero(y)}`}return n.toString()}padZero(n){return n<10?`0${n}`:`${n}`}static{this.\u0275fac=function(_){return new(_||x)}}static{this.\u0275pipe=t.Yjl({name:"convertMinutes",type:x,pure:!0,standalone:!0})}}return x})()},85447:(R,A,o)=>{o.r(A),o.d(A,{TaskDetailsComponent:()=>_i});var t=o(65879),c=o(96814),x=o(54234),C=o(98771),n=o(64190),_=o(65668),h=o(89515);function y(s,r){if(1&s&&t._UZ(0,"p",3),2&s){const e=t.oxw();t.Q6J("innerHTML",e.task.description,t.oJD)}}function U(s,r){if(1&s&&(t.TgZ(0,"div",4)(1,"audio",5),t._UZ(2,"source",6),t._uU(3," Your browser does not support the audio element. "),t.qZA()()),2&s){const e=t.oxw();t.xp6(2),t.s9C("src",e.task.soundDescription,t.LSH)}}let S=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["task-description"]],inputs:{task:"task"},standalone:!0,features:[t.jDz],decls:5,vars:5,consts:[[1,"fs-16","bold"],["class","mt-1 contains-link word-break",3,"innerHTML",4,"ngIf"],["class","sound mt-1",4,"ngIf"],[1,"mt-1","contains-link","word-break",3,"innerHTML"],[1,"sound","mt-1"],["controls","controls",1,"w-100","rounded","border"],["type","audio/mpeg",3,"src"]],template:function(i,a){1&i&&(t.TgZ(0,"p",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.YNc(3,y,1,1,"p",1),t.YNc(4,U,4,1,"div",2)),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,3,"description")),t.xp6(2),t.Q6J("ngIf",a.task.description),t.xp6(1),t.Q6J("ngIf",a.task.soundDescription))},dependencies:[c.ez,c.O5,h.aw,h.X$],encapsulation:2})}}return s})();var M=o(95982),m=o(99758),T=o(75986);function u(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"div",3)(1,"mat-checkbox",4),t.NdJ("change",function(){const l=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.check(l))}),t.TgZ(2,"p"),t._uU(3),t.qZA()()()}if(2&s){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("disabled",3!=i.task.taskStateId||!i.task.isAssignee)("checked",e.isChecked),t.xp6(2),t.Oqu(e.todoText)}}let f=(()=>{class s{constructor(){this.service=(0,t.f3M)(C.i),this.alert=(0,t.f3M)(m.c)}ngOnInit(){}check(e){this.service.updateTodoList({assigneeId:this.task.assigneeId,taskGroupTodoListId:e.id,isChecked:!e.isChecked}).subscribe(a=>{a.success&&this.alert.showAlert("task_updated")})}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["task-todo"]],inputs:{task:"task"},standalone:!0,features:[t.jDz],decls:6,vars:4,consts:[[1,"todo-list"],[1,"todos","mt-1"],["class","todo-card px-2 py-1 bg-gray flex aic rounded w-100 mb-2",4,"ngFor","ngForOf"],[1,"todo-card","px-2","py-1","bg-gray","flex","aic","rounded","w-100","mb-2"],["color","primary",3,"disabled","checked","change"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",1),t.YNc(5,u,4,3,"div",2),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"todo_list")),t.xp6(3),t.Q6J("ngForOf",a.task.taskTodosList))},dependencies:[c.ez,c.sg,h.aw,h.X$,T.p9,T.oG],encapsulation:2})}}return s})();var v=o(9619),w=o(88492),B=o(52081);function et(s,r){1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"daily")))}function it(s,r){1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"weekly")))}function st(s,r){1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"monthly")))}function at(s,r){1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"yearly")))}function nt(s,r){if(1&s&&(t.TgZ(0,"p",11),t.YNc(1,et,3,3,"span",12),t.YNc(2,it,3,3,"span",12),t.YNc(3,st,3,3,"span",12),t.YNc(4,at,3,3,"span",12),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1==e.details.taskRepeatedPeriod),t.xp6(1),t.Q6J("ngIf",2==e.details.taskRepeatedPeriod),t.xp6(1),t.Q6J("ngIf",3==e.details.taskRepeatedPeriod),t.xp6(1),t.Q6J("ngIf",4==e.details.taskRepeatedPeriod)}}function lt(s,r){if(1&s&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"arabicNumbers"),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,e.details.repeatedPeriodNumber))}}function rt(s,r){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"defineDays"),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,t.lcZ(3,3,e.details.repeatedPeriodNumber)+"_day"))}}function ot(s,r){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"defineDays"),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,t.lcZ(3,3,e.details.repeatedPeriodNumber)+"_week"))}}function dt(s,r){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"defineDays"),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,t.lcZ(3,3,e.details.repeatedPeriodNumber)+"_month"))}}function ct(s,r){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"defineDays"),t.qZA()),2&s){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,t.lcZ(3,3,e.details.repeatedPeriodNumber)+"_year"))}}function _t(s,r){if(1&s&&(t.TgZ(0,"p",13)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,lt,3,3,"span",14),t.YNc(5,rt,4,5,"span",12),t.YNc(6,ot,4,5,"span",12),t.YNc(7,dt,4,5,"span",12),t.YNc(8,ct,4,5,"span",12),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,6,"every")),t.xp6(2),t.Q6J("ngIf",e.details.repeatedPeriodNumber>2&&"ar"==e.lang||"en"==e.lang),t.xp6(1),t.Q6J("ngIf",1==e.details.taskRepeatedPeriod),t.xp6(1),t.Q6J("ngIf",2==e.details.taskRepeatedPeriod),t.xp6(1),t.Q6J("ngIf",3==e.details.taskRepeatedPeriod),t.xp6(1),t.Q6J("ngIf",4==e.details.taskRepeatedPeriod)}}function ut(s,r){1&s&&(t.TgZ(0,"p")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"sunday")))}function pt(s,r){1&s&&(t.TgZ(0,"p")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"monday")))}function ht(s,r){1&s&&(t.TgZ(0,"p")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"tuesday")))}function mt(s,r){1&s&&(t.TgZ(0,"p")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"wednesday")))}function gt(s,r){1&s&&(t.TgZ(0,"p")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"thursday")))}function ft(s,r){1&s&&(t.TgZ(0,"p")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"friday")))}function vt(s,r){1&s&&(t.TgZ(0,"p")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"saturday")))}function bt(s,r){1&s&&(t.TgZ(0,"p"),t._uU(1,", \xa0"),t.qZA())}function xt(s,r){1&s&&(t.TgZ(0,"p",20),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij("",t.lcZ(2,1,"and")," \xa0"))}function Tt(s,r){if(1&s&&(t.ynx(0),t.YNc(1,ut,4,3,"p",12),t.YNc(2,pt,4,3,"p",12),t.YNc(3,ht,4,3,"p",12),t.YNc(4,mt,4,3,"p",12),t.YNc(5,gt,4,3,"p",12),t.YNc(6,ft,4,3,"p",12),t.YNc(7,vt,4,3,"p",12),t.YNc(8,bt,2,0,"p",12),t.YNc(9,xt,3,3,"p",19),t.BQk()),2&s){const e=r.$implicit,i=r.index,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==e),t.xp6(1),t.Q6J("ngIf",1==e),t.xp6(1),t.Q6J("ngIf",2==e),t.xp6(1),t.Q6J("ngIf",3==e),t.xp6(1),t.Q6J("ngIf",4==e),t.xp6(1),t.Q6J("ngIf",5==e),t.xp6(1),t.Q6J("ngIf",6==e),t.xp6(1),t.Q6J("ngIf",i!=a.details.repetitionSelectedDays.length-1&&i!=a.details.repetitionSelectedDays.length-2),t.xp6(1),t.Q6J("ngIf",i==a.details.repetitionSelectedDays.length-2)}}function kt(s,r){if(1&s&&(t.TgZ(0,"div",16)(1,"p",17),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Tt,10,9,"ng-container",18),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"every")),t.xp6(2),t.Q6J("ngForOf",e.details.repetitionSelectedDays)}}function It(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.stopRepeat())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"stop_repeat")," "))}const Zt=function(s){return{"ml-50":s}};function At(s,r){if(1&s&&(t.TgZ(0,"div",5)(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,nt,5,4,"p",6),t.YNc(5,_t,9,8,"p",7),t.YNc(6,kt,5,4,"div",8),t.TgZ(7,"p",9),t._uU(8),t.ALo(9,"translate"),t.ALo(10,"arabicDate"),t.qZA(),t.YNc(11,It,3,3,"button",10),t.qZA()),2&s){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,8,"repeat_message")),t.xp6(2),t.Q6J("ngIf",!(e.details.repeatedPeriodNumber&&1!=e.details.repeatedPeriodNumber||e.details.repetitionSelectedDays)),t.xp6(1),t.Q6J("ngIf",e.details.repeatedPeriodNumber>1&&(!e.details.repetitionSelectedDays||0==e.details.repetitionSelectedDays.length)),t.xp6(1),t.Q6J("ngIf",e.details.repetitionSelectedDays&&e.details.repetitionSelectedDays.length>0),t.xp6(1),t.Q6J("ngClass",t.VKq(14,Zt,e.details.repetitionSelectedDays&&e.details.repetitionSelectedDays.length>0)),t.xp6(1),t.AsE(" ",t.lcZ(9,10,"until")," ",t.lcZ(10,12,e.details.endTimeForRepeat)," "),t.xp6(3),t.Q6J("ngIf",e.creator)}}function Ct(s,r){1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"automatically")))}function yt(s,r){1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"manually")))}function Mt(s,r){if(1&s&&(t.TgZ(0,"p")(1,"span",23),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4),t.ALo(5,"arabicDate"),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"in")),t.xp6(2),t.hij(" ",t.lcZ(5,4,e.details.endTimeForRepeat),"")}}function wt(s,r){if(1&s&&(t.TgZ(0,"p")(1,"span",23),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4),t.ALo(5,"arabicDate"),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"in")),t.xp6(2),t.hij(" ",t.lcZ(5,4,e.details.stopedRepeatDate),"")}}function Ut(s,r){if(1&s&&(t.TgZ(0,"div",22)(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p",15),t.YNc(5,Ct,3,3,"span",12),t.YNc(6,yt,3,3,"span",12),t.qZA(),t.YNc(7,Mt,6,6,"p",12),t.YNc(8,wt,6,6,"p",12),t.qZA()),2&s){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"repetition_stopped")),t.xp6(3),t.Q6J("ngIf",3==e.details.taskStopedRepeated),t.xp6(1),t.Q6J("ngIf",2==e.details.taskStopedRepeated),t.xp6(1),t.Q6J("ngIf",3==e.details.taskStopedRepeated),t.xp6(1),t.Q6J("ngIf",2==e.details.taskStopedRepeated)}}const St=function(s,r){return{aic:s,aifs:r}};let Rt=(()=>{class s{constructor(e,i){this.service=e,this.alert=i,this.lang=localStorage.getItem("language")||"en",this.creator=!1}ngOnInit(){console.log("this.details",this.details),this.details&&this.details.taskGroupCreatorId==localStorage.getItem("id")&&(this.creator=!0)}stopRepeat(){this.service.stopRepeat({id:this.details.parentTaskGroupId||this.details.taskGroupId}).subscribe(e=>{e.success&&(this.service.hasChanged.next(!0),this.alert.showAlert("task_updated"))})}static{this.\u0275fac=function(i){return new(i||s)(t.Y36(C.i),t.Y36(m.c))}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["task-repeat"]],inputs:{details:"details"},standalone:!0,features:[t.jDz],decls:5,vars:6,consts:[[1,"task-repeat","flex","rounded","black",3,"ngClass"],[1,"img","mr-1"],["src","../../../../../../../assets/images/icons/repeat.svg","alt","repeat","width","18"],["class","start flex flex-wrap fs-14",4,"ngIf"],["class","flex",4,"ngIf"],[1,"start","flex","flex-wrap","fs-14"],["class","fs-14 mx-50",4,"ngIf"],["class","mx-50",4,"ngIf"],["class","ml-50 flex aic",4,"ngIf"],[1,"mr-1",3,"ngClass"],["class","end underline line-height bold fs-15 clickable-btn",3,"click",4,"ngIf"],[1,"fs-14","mx-50"],[4,"ngIf"],[1,"mx-50"],["class","ml-50 mr-50",4,"ngIf"],[1,"ml-50","mr-50"],[1,"ml-50","flex","aic"],[1,"mr-50"],[4,"ngFor","ngForOf"],["class","ml-50",4,"ngIf"],[1,"ml-50"],[1,"end","underline","line-height","bold","fs-15","clickable-btn",3,"click"],[1,"flex"],[1,"mr-25"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.YNc(3,At,12,16,"div",3),t.YNc(4,Ut,9,7,"div",4),t.qZA()),2&i&&(t.Q6J("ngClass",t.WLB(3,St,a.details.stopedRepeat,!a.details.stopedRepeat)),t.xp6(3),t.Q6J("ngIf",!a.details.stopedRepeat),t.xp6(1),t.Q6J("ngIf",a.details.stopedRepeat))},dependencies:[c.ez,c.mk,c.sg,c.O5,h.aw,h.X$,w.K,B.m,v.P],styles:[".task-repeat[_ngcontent-%COMP%]{background:#FBF1F1;padding:1.5rem 2rem}.task-repeat[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{text-decoration:underline;color:#8361cc}"]})}}return s})();var L=o(69025),Dt=o(77053),Ot=o(68671),D=o(32296),k=o(17700),p=o(56223),Et=o(58964),Y=o(1350),Lt=o(49298),O=o(38034),F=o(64170),I=o(23680),q=o(73445),qt=o(82458),J=o(49388);function Jt(s,r){1&s&&(t.TgZ(0,"div",24),t.NdJ("click",function(i){return i.stopImmediatePropagation()}),t._UZ(1,"i",25),t.qZA())}let P,Pt=document.dir;P="rtl"===Pt?"ar-EG":"en-GB";let Nt=(()=>{class s{constructor(e,i,a){this.fb=e,this.data=i,this.dialogRef=a,this.service=(0,t.f3M)(C.i),this.dialog=(0,t.f3M)(k.uw),this.alert=(0,t.f3M)(m.c),this.hours=0,this.minutes=0,this.today=new Date,this.loading=!1,this.form=this.fb.group({title:["",p.kI.required],hours:["",p.kI.required],minutes:["",p.kI.required],date:[new Date,p.kI.required]})}setLogTime(e){this.f.minutes.markAsTouched(),this.form.patchValue({hours:Math.floor(e/60),minutes:e%60})}submit(){let e=new Date,i=(new Date).getTimezoneOffset(),a=e.getHours()+i/60<=0?e.getHours()+12+i/60:e.getHours()+i/60;if(console.log(a),this.form.valid){this.loading=!0;let l={taskId:this.data||this.service.id.value,...this.form.value,date:(0,c.p6)(this.form.value.date,`yyyy-MM-ddT${a.toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`,"en-US")+"Z"};this.service.logTime(l).subscribe(d=>{d.success?(this.alert.showAlert("log_added"),this.dialogRef.close(),this.service.hasChanged.next(!0)):this.loading=!1})}}get f(){return this.form.controls}static{this.\u0275fac=function(i){return new(i||s)(t.Y36(p.qu),t.Y36(k.WI),t.Y36(k.so))}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["log-time"]],standalone:!0,features:[t._Bn([{provide:I.Ad,useValue:P},{provide:I._A,useClass:q.t7,deps:[I.Ad,q.o8]},{provide:I.sG,useValue:q.$o}]),t.jDz],decls:32,vars:24,consts:[["dir","auto",1,"log-time"],["mat-dialog-content",""],[3,"formGroup"],[1,"flex-grid","gap-y-1"],[1,"col-lg-6"],["key","title",3,"control"],["type","text","formControlName","title",1,"input"],[3,"control"],["key","date",3,"control"],[1,"date-picker"],[1,"flex","aic","relative",3,"click"],["formControlName","date",1,"input",3,"matDatepicker","max","min"],["class","clear pointer danger",3,"click",4,"ngIf"],["matSuffix","",1,"picker-icon",3,"for"],[3,"disabled"],["picker",""],[1,"col-lg-12"],["key","time",3,"control"],[3,"hours","minutes","withMargin","calcMinutes"],["mat-dialog-actions","","align","end","dir","auto"],[1,"flex"],["mat-dialog-close","",1,"px-4","mr-2","dark-color","clickable-btn","rounded","cancel-btn"],["mat-raised-button","","color","primary",1,"px-5","fs-15",3,"disabled","click"],["text","add",3,"loading"],[1,"clear","pointer","danger",3,"click"],[1,"bx","bx-x","fs-23"]],template:function(i,a){if(1&i){const l=t.EpF();t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",1)(5,"form",2)(6,"div",3)(7,"div",4),t._UZ(8,"input-label",5)(9,"input",6)(10,"input-error",7),t.qZA(),t.TgZ(11,"div",4),t._UZ(12,"input-label",8),t.TgZ(13,"div",9)(14,"div",10),t.NdJ("click",function(){t.CHM(l);const g=t.MAs(19);return t.KtG(g.open())}),t._UZ(15,"input",11),t.YNc(16,Jt,2,0,"div",12),t._UZ(17,"mat-datepicker-toggle",13)(18,"mat-datepicker",14,15),t.qZA()(),t._UZ(20,"input-error",7),t.qZA(),t.TgZ(21,"div",16),t._UZ(22,"input-label",17),t.TgZ(23,"select-time",18),t.NdJ("calcMinutes",function(g){return a.setLogTime(g)}),t.qZA(),t._UZ(24,"input-error",7),t.qZA()()()(),t.TgZ(25,"div",19)(26,"div",20)(27,"button",21),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"button",22),t.NdJ("click",function(){return a.submit()}),t._UZ(31,"submit-button",23),t.qZA()()()()}if(2&i){const l=t.MAs(19);t.xp6(2),t.Oqu(t.lcZ(3,20,"log_time")),t.xp6(3),t.Q6J("formGroup",a.form),t.xp6(3),t.Q6J("control",a.f.title),t.xp6(2),t.Q6J("control",a.f.title),t.xp6(2),t.Q6J("control",a.f.date),t.xp6(3),t.Q6J("matDatepicker",l)("max",a.today)("min",a.service.details.value.startDate),t.xp6(1),t.Q6J("ngIf",a.f.date.value),t.xp6(1),t.Q6J("for",l),t.xp6(1),t.Q6J("disabled",!1),t.xp6(2),t.Q6J("control",a.f.date),t.xp6(2),t.Q6J("control",a.f.minutes),t.xp6(1),t.Q6J("hours",a.hours)("minutes",a.minutes)("withMargin",!1),t.xp6(1),t.Q6J("control",a.f.minutes),t.xp6(4),t.Oqu(t.lcZ(29,22,"cancel")),t.xp6(2),t.Q6J("disabled",a.form.invalid||a.loading),t.xp6(1),t.Q6J("loading",a.loading)}},dependencies:[c.ez,c.O5,h.aw,h.X$,k.Is,k.ZT,k.xY,k.H8,J.Lv,Et.w,Y.i,Lt.m,p.UX,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,O.FA,O.Mq,O.hl,O.nW,F.lN,F.R9,p.u5,D.ot,D.lW,qt.w],styles:[".picker-icon[_ngcontent-%COMP%]{position:absolute;inset-inline-end:0}.clear[_ngcontent-%COMP%]{position:absolute;inset-inline-end:4rem;top:50%;transform:translateY(-50%);line-height:0}"]})}}return s})();var Qt=o(41865),Vt=o(68585),Bt=o(7691),Yt=o(32801),Ft=o(61706),zt=o(11383),N=o(19300),z=o(37008),Q=o(47719);let Wt=(()=>{class s{constructor(e){this.el=e,this.appSafeHtml=""}ngOnChanges(){this.el.nativeElement.innerHTML=this.appSafeHtml}static{this.\u0275fac=function(i){return new(i||s)(t.Y36(t.SBq))}}static{this.\u0275dir=t.lG2({type:s,selectors:[["","appSafeHtml",""]],inputs:{appSafeHtml:"appSafeHtml"},standalone:!0,features:[t.TTD]})}}return s})();var W=o(69862),H=o(70474),Ht=o(20553),b=o(42495),G=o(62831),Gt=o(78645);const Xt=["knob"],$t=["valueIndicatorContainer"];function jt(s,r){if(1&s&&(t.TgZ(0,"div",4,5)(2,"div",6)(3,"span",7),t._uU(4),t.qZA()()()),2&s){const e=t.oxw();t.xp6(4),t.Oqu(e.valueIndicatorText)}}const Kt=["trackActive"];function te(s,r){if(1&s&&t._UZ(0,"div"),2&s){const e=r.$implicit,i=r.index,a=t.oxw(3);t.Tol(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),t.Udp("transform",a._calcTickMarkTransform(i))}}function ee(s,r){if(1&s&&(t.ynx(0),t.YNc(1,te,1,4,"div",11),t.BQk()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e._tickMarks)}}function ie(s,r){if(1&s&&(t.TgZ(0,"div",8,9),t.YNc(2,ee,2,1,"ng-container",10),t.qZA()),2&s){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e._cachedWidth)}}function se(s,r){if(1&s&&t._UZ(0,"mat-slider-visual-thumb",7),2&s){const e=t.oxw();t.Q6J("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const ae=["*"],E=new t.OlP("_MatSlider"),X=new t.OlP("_MatSliderThumb"),$=new t.OlP("_MatSliderRangeThumb"),j=new t.OlP("_MatSliderVisualThumb");let ne=(()=>{class s{constructor(e,i,a,l){this._cdr=e,this._ngZone=i,this._slider=l,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=d=>{if(this._sliderInput._isFocused)return;const g=this._hostElement.getBoundingClientRect(),Z=this._slider._isCursorOnSliderThumb(d,g);this._isHovered=Z,Z?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=d=>{0===d.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=a.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static{this.\u0275fac=function(i){return new(i||s)(t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(E))}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,a){if(1&i&&(t.Gf(I.wG,5),t.Gf(Xt,5),t.Gf($t,5)),2&i){let l;t.iGM(l=t.CRH())&&(a._ripple=l.first),t.iGM(l=t.CRH())&&(a._knob=l.first),t.iGM(l=t.CRH())&&(a._valueIndicatorContainer=l.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[t._Bn([{provide:j,useExisting:s}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,a){1&i&&(t.YNc(0,jt,5,1,"div",0),t._UZ(1,"div",1,2)(3,"div",3)),2&i&&(t.Q6J("ngIf",a.discrete),t.xp6(3),t.Q6J("matRippleDisabled",!0))},dependencies:[c.O5,I.wG],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}}return s})();const le=(0,I.pj)((0,I.Kr)(class{constructor(s){this._elementRef=s}}),"primary");let re=(()=>{class s extends le{get disabled(){return this._disabled}set disabled(e){this._disabled=(0,b.Ig)(e);const i=this._getInput(2),a=this._getInput(1);i&&(i.disabled=this._disabled),a&&(a.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=(0,b.Ig)(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=(0,b.Ig)(e)}get min(){return this._min}set min(e){const i=(0,b.su)(e,this._min);this._min!==i&&this._updateMin(i)}_updateMin(e){const i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const i=this._getInput(2),a=this._getInput(1),l=i.value,d=a.value;a.min=e.new,i.min=Math.max(e.new,a.value),a.max=Math.min(i.max,i.value),a._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,a):this._onTranslateXChangeBySideEffect(a,i),l!==i.value&&this._onValueChange(i),d!==a.value&&this._onValueChange(a)}_updateMinNonRange(e){const i=this._getInput(2);if(i){const a=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),a!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){const i=(0,b.su)(e,this._max);this._max!==i&&this._updateMax(i)}_updateMax(e){const i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const i=this._getInput(2),a=this._getInput(1),l=i.value,d=a.value;i.max=e.new,a.max=Math.min(e.new,i.value),i.min=a.value,i._updateWidthInactive(),a._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(a,i):this._onTranslateXChangeBySideEffect(i,a),l!==i.value&&this._onValueChange(i),d!==a.value&&this._onValueChange(a)}_updateMaxNonRange(e){const i=this._getInput(2);if(i){const a=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),a!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){const i=(0,b.su)(e,this._step);this._step!==i&&this._updateStep(i)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),i=this._getInput(1),a=e.value,l=i.value,d=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<d?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),a!==e.value&&this._onValueChange(e),l!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const e=this._getInput(2);if(e){const i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}constructor(e,i,a,l,d,g){super(a),this._ngZone=e,this._cdr=i,this._dir=l,this._globalRippleOptions=d,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=1,this.displayWith=Z=>`${Z}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,t.f3M)(G.t4),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===g,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),i=this._getInput(1);this._isRange=!!e&&!!i,this._cdr.detectChanges();const a=this._getThumb(2);this._rippleRadius=a._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),i=this._getInput(1);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),i=this._getInput(1);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),i=this._getInput(2);return!(!e||!i)&&i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const i=e.getSibling(),a=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),a._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=i:e._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const a=this._getThumb(e.thumbPosition);i.length<3?a._hostElement.classList.add("mdc-slider__thumb--short-value"):a._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),i=this._getInput(1);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,a=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*a-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const i=e.getSibling();if(!i||!this._cachedWidth)return;const a=Math.abs(i.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${a})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${a})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const i=this._getValue();let a=Math.max(Math.round((i-this.min)/e),0),l=Math.max(Math.round((this.max-i)/e),0);this._isRtl?a++:l++,this._tickMarks=Array(a).fill(0).concat(Array(l).fill(1))}_updateTickMarkUIRange(e){const i=this._getValue(),a=this._getValue(1),l=Math.max(Math.floor((a-this.min)/e),0),d=Math.max(Math.floor((i-a)/e)+1,0),g=Math.max(Math.floor((this.max-i)/e),0);this._tickMarks=Array(l).fill(1).concat(Array(d).fill(0),Array(g).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,i){const a=i.width/2,Z=e.clientY-(i.y+a);return Math.pow(e.clientX-(i.x+a),2)+Math.pow(Z,2)<Math.pow(a,2)}static{this.\u0275fac=function(i){return new(i||s)(t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(J.Is,8),t.Y36(I.Y2,8),t.Y36(t.QbO,8))}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["mat-slider"]],contentQueries:function(i,a,l){if(1&i&&(t.Suo(l,X,5),t.Suo(l,$,4)),2&i){let d;t.iGM(d=t.CRH())&&(a._input=d.first),t.iGM(d=t.CRH())&&(a._inputs=d)}},viewQuery:function(i,a){if(1&i&&(t.Gf(Kt,5),t.Gf(j,5)),2&i){let l;t.iGM(l=t.CRH())&&(a._trackActive=l.first),t.iGM(l=t.CRH())&&(a._thumbs=l)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(i,a){2&i&&t.ekj("mdc-slider--range",a._isRange)("mdc-slider--disabled",a.disabled)("mdc-slider--discrete",a.discrete)("mdc-slider--tick-marks",a.showTickMarks)("_mat-animation-noopable",a._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[t._Bn([{provide:E,useExisting:s}]),t.qOj],ngContentSelectors:ae,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(i,a){1&i&&(t.F$t(),t.Hsn(0),t.TgZ(1,"div",0),t._UZ(2,"div",1),t.TgZ(3,"div",2),t._UZ(4,"div",3,4),t.qZA(),t.YNc(6,ie,3,1,"div",5),t.qZA(),t.YNc(7,se,1,3,"mat-slider-visual-thumb",6),t._UZ(8,"mat-slider-visual-thumb",7)),2&i&&(t.xp6(6),t.Q6J("ngIf",a.showTickMarks),t.xp6(1),t.Q6J("ngIf",a._isRange),t.xp6(1),t.Q6J("discrete",a.discrete)("thumbPosition",2)("valueIndicatorText",a.endValueIndicatorText))},dependencies:[c.sg,c.O5,ne],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return s})();const de={provide:p.JU,useExisting:(0,t.Gpc)(()=>V),multi:!0};let V=(()=>{class s{get value(){return(0,b.su)(this._hostElement.value)}set value(e){const i=(0,b.su)(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return(0,b.su)(this._hostElement.min)}set min(e){this._hostElement.min=(0,b.su)(e).toString(),this._cdr.detectChanges()}get max(){return(0,b.su)(this._hostElement.max)}set max(e){this._hostElement.max=(0,b.su)(e).toString(),this._cdr.detectChanges()}get step(){return(0,b.su)(this._hostElement.step)}set step(e){this._hostElement.step=(0,b.su)(e).toString(),this._cdr.detectChanges()}get disabled(){return(0,b.Ig)(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=(0,b.Ig)(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,i,a,l){this._ngZone=e,this._elementRef=i,this._cdr=a,this._slider=l,this.valueChange=new t.vpe,this.dragStart=new t.vpe,this.dragEnd=new t.vpe,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Gt.x,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,t.f3M)(G.t4),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!this.disabled&&0===e.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const i=e.clientX-this._slider._cachedLeft,a=this._slider._cachedWidth,l=0===this._slider.step?1:this._slider.step,d=Math.floor((this._slider.max-this._slider.min)/l),ui=Math.round((this._slider._isRtl?1-i/a:i/a)*d)/d*(this._slider.max-this._slider.min)+this._slider.min,tt=Math.round(ui/l)*l;if(tt===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=tt,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||null!==e)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static{this.\u0275fac=function(i){return new(i||s)(t.Y36(t.R0b),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(E))}}static{this.\u0275dir=t.lG2({type:s,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,a){1&i&&t.NdJ("change",function(){return a._onChange()})("input",function(){return a._onInput()})("blur",function(){return a._onBlur()})("focus",function(){return a._onFocus()}),2&i&&t.uIk("aria-valuetext",a._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[t._Bn([de,{provide:X,useExisting:s}])]})}}return s})(),ue=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=t.oAB({type:s})}static{this.\u0275inj=t.cJS({imports:[I.BQ,c.ez,I.si]})}}return s})(),pe=(()=>{class s{constructor(){this.reason=""}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["decrease-reason"]],standalone:!0,features:[t.jDz],decls:15,vars:13,consts:[["dir","auto",1,"decrease-form"],[1,"black","mb-1"],["mat-dialog-content","",1,"mb-1"],[3,"key"],["name","","id","","cols","30","rows","3",1,"input",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],[1,"flex-center","w-100","gap-x-1"],["mat-dialog-close","",1,"flex-auto","py-1","dark-color","clickable-btn","rounded","cancel-btn"],[1,"clickable-btn","white","flex-auto","py-1","rounded","bg-primary","border-primary",3,"mat-dialog-close","disabled"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"input-label",3),t.TgZ(6,"textarea",4),t.NdJ("ngModelChange",function(d){return a.reason=d}),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6)(9,"button",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"button",8),t._uU(13),t.ALo(14,"translate"),t.qZA()()()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"decrease_reason")),t.xp6(3),t.Q6J("key","the_reason"),t.xp6(1),t.Q6J("ngModel",a.reason),t.xp6(4),t.Oqu(t.lcZ(11,9,"cancel")),t.xp6(2),t.Q6J("mat-dialog-close",a.reason)("disabled",!a.reason),t.xp6(1),t.Oqu(t.lcZ(14,11,"save")))},dependencies:[c.ez,k.Is,k.ZT,k.xY,k.H8,J.Lv,h.aw,h.X$,Y.i,p.u5,p.Fj,p.JJ,p.On,D.ot],encapsulation:2})}}return s})();function he(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"i",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.disabled=!1)}),t.qZA()}}function me(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.progressValue())}),t.qZA()}}function ge(s,r){if(1&s&&(t.TgZ(0,"div",11),t.YNc(1,he,1,0,"i",12),t.YNc(2,me,1,0,"i",13),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.disabled),t.xp6(1),t.Q6J("ngIf",!e.disabled&&(e.details.percentage<100&&!e.details.logsFlag||e.details.logsFlag))}}function fe(s,r){1&s&&(t.TgZ(0,"p",16),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"arabicNumbers"),t.qZA()),2&s&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"max_percentage")," ",t.lcZ(3,4,99),"% "))}const ve=function(s){return{completed:s}};function be(s,r){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"h4"),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"span",3),t._uU(7),t.ALo(8,"arabicNumbers"),t.qZA()(),t.YNc(9,ge,3,2,"div",4),t.qZA(),t.TgZ(10,"div",5)(11,"div",6)(12,"mat-slider",7)(13,"input",8,9),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.details.percentage=a)})("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openActualDialog())}),t.qZA()()(),t.YNc(15,fe,4,6,"p",10),t.qZA()(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(12,ve,100==e.details.percentage)),t.xp6(3),t.hij("",t.lcZ(5,8,"task_progress")," "),t.xp6(3),t.hij("",t.lcZ(8,10,e.details.percentage||0),"%"),t.xp6(2),t.Q6J("ngIf",(3==e.details.taskStateId||2==e.details.taskStateId&&!e.details.rate)&&(e.details.isAssignee||e.creator)),t.xp6(3),t.Q6J("disabled",e.disabled)("max",e.details.max),t.xp6(1),t.Q6J("ngModel",e.details.percentage),t.xp6(2),t.Q6J("ngIf",99==e.details.percentage&&e.details.creator&&!e.details.isAssignee&&!e.disabled)}}let xe=(()=>{class s{constructor(e,i,a){this.service=e,this.alert=i,this.dialog=a,this.progressUpdated=new t.vpe,this.disabled=!0,this.dir=document.dir}ngOnInit(){this.creator=this.details?.taskGroupCreatorId==localStorage.getItem("id")}ngOnChanges(){this.actualProgress=this.details.percentage,this.progress=this.details.percentage}openActualDialog(){100==this.details.percentage&&!this.details.logsFlag&&(this.dialog.open(Q.L,{panelClass:"small-dialog",data:{task:this.details}}),this.dialog.afterAllClosed.subscribe(e=>{this.disabled=!0,this.details.percentage=this.actualProgress,this.progressUpdated.emit()}))}progressValue(){this.creator&&!this.details.isAssignee&&this.actualProgress>this.details.percentage?this.dialog.open(pe,{panelClass:"decrease-reason-dialog"}).afterClosed().subscribe(i=>{i&&(this.updateProgress(i),this.progressUpdated.emit())}):this.updateProgress()}updateProgress(e=null){this.disabled=!0;const a={id:this.details.taskId,...100==this.details.percentage&&{actualTime:this.details.logsFlag?this.details.logsMinuts:null},percentage:this.details.percentage,stateReason:e};this.actual=null,this.service.updateTaskProgress(a).subscribe(l=>{l.success&&(this.alert.showAlert("task_updated"),this.service.hasChanged.next(!0),this.progressUpdated.emit())})}static{this.\u0275fac=function(i){return new(i||s)(t.Y36(C.i),t.Y36(m.c),t.Y36(k.uw))}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["task-update-progress"]],inputs:{details:"details"},outputs:{progressUpdated:"progressUpdated"},standalone:!0,features:[t.TTD,t.jDz],decls:1,vars:1,consts:[[4,"ngIf"],[1,"task-progress","bg-gray","p-2","mb-2","rounded",3,"ngClass"],[1,"flex","aic","jcsb","px-75"],[1,"ml-1"],["class","img pointer",4,"ngIf"],[1,"slider","relative"],[1,"w-100","flex-center"],["dir","ltr",3,"disabled","max"],["matSliderThumb","",3,"ngModel","ngModelChange","change"],["slider",""],["class","max rounded bg-gray",4,"ngIf"],[1,"img","pointer"],["class","bx bx-edit fs-25 warning",3,"click",4,"ngIf"],["class","bx bx-check fs-25 primary",3,"click",4,"ngIf"],[1,"bx","bx-edit","fs-25","warning",3,"click"],[1,"bx","bx-check","fs-25","primary",3,"click"],[1,"max","rounded","bg-gray"]],template:function(i,a){1&i&&t.YNc(0,be,16,14,"ng-container",0),2&i&&t.Q6J("ngIf",a.details)},dependencies:[c.ez,c.mk,c.O5,h.aw,h.X$,B.m,ue,re,V,p.u5,p.Fj,p.JJ,p.On],styles:['.actual-time[_ngcontent-%COMP%]{position:absolute;bottom:calc(-100% - 3.5rem);inset-inline-end:-8px;transform:translateY(-50%);box-shadow:0 5px 14px 4px #0000001a,0 2px 4px -1px #0000000f}.actual-time[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-8px;inset-inline-end:10px;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #fff}.actual-time[_ngcontent-%COMP%]   .time-input[_ngcontent-%COMP%]{border:none;height:3rem;width:10.5rem;color:#b3b3b3;background:transparent}.actual-time[_ngcontent-%COMP%]   .time-input[_ngcontent-%COMP%]::placeholder{color:#b3b3b3}.max[_ngcontent-%COMP%]{position:absolute;bottom:-6rem;inset-inline-end:0;transform:translateY(-50%);padding:1rem;box-shadow:0 5px 14px 4px #0000001a,0 2px 4px -1px #0000000f}']})}}return s})();var Te=o(8078),ke=o(17023),Ie=o(67145);function Ze(s,r){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s){const e=t.oxw(2);let i;t.Gre("px-1 rounded  border status-",null==e.details?null:e.details.taskStateId,""),t.xp6(1),t.Oqu(t.lcZ(2,4,null==(i=e.getTaskStatusByValue(null==e.details?null:e.details.taskStateId))?null:i.name))}}function Ae(s,r){1&s&&(t.TgZ(0,"span",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"not_started")))}function Ce(s,r){1&s&&(t.TgZ(0,"span",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"canceled")))}function ye(s,r){if(1&s&&(t._UZ(0,"p-splitButton",33),t.ALo(1,"translate")),2&s){const e=t.oxw(2);let i;t.s9C("styleClass",1==(null==e.details?null:e.details.taskStateId)?"p-button-p-button-primary":2==(null==e.details?null:e.details.taskStateId)?"p-button-success":3==(null==e.details?null:e.details.taskStateId)?"p-button-warning":""),t.Q6J("model",e.items)("label",t.lcZ(1,3,null==(i=e.getTaskStatusByValue(null==e.details?null:e.details.taskStateId))?null:i.name))}}function Me(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changeStatus(2))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"noted")," "))}function we(s,r){if(1&s&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._UZ(3,"i",35),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",13)(8,"span",36),t._uU(9),t.qZA()()()()),2&s){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,2,"stage")),t.xp6(4),t.Oqu(null==e.details?null:e.details.stageName)}}function Ue(s,r){if(1&s&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._UZ(3,"i",37),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",13)(8,"span"),t._uU(9),t.ALo(10,"convertMinutes"),t.ALo(11,"translate"),t.qZA()()()()),2&s){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,2,"expected")),t.xp6(4),t.Oqu(t.xi3(10,4,null==e.details?null:e.details.expectedTime,"minutes")+t.lcZ(11,7,"h"))}}function Se(s,r){if(1&s&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._UZ(3,"i",38),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",39)(8,"span",40),t._uU(9),t.ALo(10,"convertMinutes"),t.ALo(11,"translate"),t.qZA()()()()),2&s){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,2,"actual")),t.xp6(4),t.Oqu(t.xi3(10,4,null==e.details?null:e.details.actualTime,"minutes")+t.lcZ(11,7,"h"))}}function Re(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._UZ(3,"i",38),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",39)(8,"i",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.logTime())}),t.qZA(),t.TgZ(9,"span",40),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()}if(2&s){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,2,"actual")),t.xp6(5),t.Oqu(e.loggedTime+t.lcZ(11,4,"h"))}}function De(s,r){if(1&s&&(t.TgZ(0,"div",42)(1,"p",43),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p",44),t._uU(5),t.qZA()()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"rejection_reason")),t.xp6(3),t.Oqu(null==e.details?null:e.details.stateReason)}}function Oe(s,r){if(1&s&&(t.TgZ(0,"div",45),t._UZ(1,"task-description",46),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("task",e.details)}}function Ee(s,r){if(1&s&&(t.TgZ(0,"div",45)(1,"p",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"p",48),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"description")),t.xp6(2),t.Q6J("appSafeHtml",null==e.details?null:e.details.description)}}function Le(s,r){if(1&s&&(t.TgZ(0,"div",49)(1,"div",50)(2,"div",51)(3,"h5",52),t._uU(4),t.qZA(),t.TgZ(5,"div",53)(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",54),t._uU(10),t.ALo(11,"arabicDate"),t.qZA()()(),t._UZ(12,"chart-radial-bar",55),t.qZA()()),2&s){const e=t.oxw(2);t.xp6(4),t.Oqu(null==e.details?null:e.details.kpi.kpiName),t.xp6(2),t.Gre("px-1 rounded-5 kpi-status-",null==e.details?null:e.details.kpi.kpiStatus,""),t.xp6(1),t.Oqu(t.lcZ(8,20,e.kpiStatus[null==e.details?null:e.details.kpi.kpiStatus])),t.xp6(3),t.Oqu(t.lcZ(11,22,null==e.details?null:e.details.kpi.endDate)),t.xp6(2),t.Q6J("details",e.details.kpi)("full",!0)("fillType","gradient")("percentSize","18px")("percentWeight",600)("percentOffset",-16)("percentColor","#222")("labelOffset",10)("labelColor","#222")("labelFontSize","10px")("labelWeight",500)("label","achieved")("labelValueColor",!1)("small",!0)}}function qe(s,r){if(1&s&&(t.TgZ(0,"div",45)(1,"p",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"p",48),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,2,"dod")),t.xp6(2),t.Q6J("appSafeHtml",null==e.details?null:e.details.definitionOfDone)}}function Je(s,r){if(1&s&&(t.TgZ(0,"div",45)(1,"p",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"a",56),t._uU(5),t.qZA()()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"meeting_link")),t.xp6(2),t.s9C("href",null==e.details?null:e.details.link,t.LSH),t.xp6(1),t.Oqu(null==e.details?null:e.details.link)}}const K=function(s,r){return{lat:s,lng:r}};function Pe(s,r){if(1&s&&(t.TgZ(0,"div",57)(1,"h4"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"google-map",58),t._UZ(5,"map-marker",59),t.qZA()()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,5,"location")),t.xp6(2),t.Q6J("zoom",16)("center",t.WLB(7,K,null==e.details?null:e.details.latitude,null==e.details?null:e.details.longitude))("options",e.options),t.xp6(1),t.Q6J("position",t.WLB(10,K,null==e.details?null:e.details.latitude,null==e.details?null:e.details.longitude))}}function Ne(s,r){if(1&s&&(t.TgZ(0,"div",45),t._UZ(1,"task-attachments",60),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("images",null==e.details?null:e.details.taskGroupAttachments)}}function Qe(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"div",45)(1,"task-update-progress",61),t.NdJ("progressUpdated",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.getTaskDetails())}),t.qZA()()}if(2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("details",e.details)}}function Ve(s,r){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",64),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.value=a)}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&s){const e=t.oxw().$implicit;t.xp6(1),t.s9C("placeholder",t.lcZ(2,3,"answer")),t.Q6J("ngModel",e.value)("disabled",e.isAnswered)}}function Be(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"div")(1,"label",68)(2,"span",69),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",70),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw(2).$implicit;return t.KtG(l.value=a)}),t.qZA()(),t.TgZ(6,"label",68)(7,"span",69),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",71),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw(2).$implicit;return t.KtG(l.value=a)}),t.qZA()()()}if(2&s){const e=t.oxw(2),i=e.index,a=e.$implicit;t.xp6(1),t.MGl("for","true-",i,""),t.xp6(2),t.Oqu(t.lcZ(4,10,"yes")),t.xp6(2),t.MGl("name","select-",i,"")("id","true-",i,""),t.Q6J("ngModel",a.value),t.xp6(1),t.MGl("for","false-",i,""),t.xp6(2),t.Oqu(t.lcZ(9,12,"no")),t.xp6(2),t.MGl("name","select-",i,"")("id","false-",i,""),t.Q6J("ngModel",a.value)}}function Ye(s,r){1&s&&t._UZ(0,"i",72)}function Fe(s,r){1&s&&t._UZ(0,"i",73)}function ze(s,r){1&s&&t._UZ(0,"i",74)}function We(s,r){if(1&s&&(t.ynx(0),t.YNc(1,Be,11,14,"div",1),t.YNc(2,Ye,1,0,"i",65),t.YNc(3,Fe,1,0,"i",66),t.YNc(4,ze,1,0,"i",67),t.BQk()),2&s){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!e.isAnswered&&i.isAssinee),t.xp6(1),t.Q6J("ngIf",!e.isAnswered&&!i.isAssinee),t.xp6(1),t.Q6J("ngIf",e.isAnswered&&"false"==e.value||!i.isAssinee&&"false"==e.value),t.xp6(1),t.Q6J("ngIf",e.isAnswered&&"true"==e.value||!i.isAssinee&&"true"==e.value)}}function He(s,r){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",75),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.value=a)}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&s){const e=t.oxw().$implicit;t.xp6(1),t.s9C("placeholder",t.lcZ(2,3,"answer")),t.Q6J("ngModel",e.value)("disabled",e.isAnswered)}}function Ge(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"p-calendar",77),t.NdJ("ngModelChange",function(a){t.CHM(e);const l=t.oxw(2).$implicit;return t.KtG(l.value=a)}),t.qZA()}if(2&s){const e=t.oxw(2).$implicit;t.Q6J("ngModel",e.value)("showTime",!0)}}function Xe(s,r){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"arabicDate"),t.qZA()),2&s){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.value,"withTime"))}}function $e(s,r){if(1&s&&(t.ynx(0),t.YNc(1,Ge,1,2,"p-calendar",76),t.YNc(2,Xe,3,4,"span",1),t.BQk()),2&s){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.isAnswered),t.xp6(1),t.Q6J("ngIf",e.isAnswered)}}function je(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"button",82),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,l=t.oxw(3);return t.KtG(l.uploadFile(a))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"add_file")," "))}function Ke(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"div",83)(1,"span",84),t._uU(2),t.qZA(),t.TgZ(3,"i",85),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,l=t.oxw(3);return t.KtG(l.clearFile(a))}),t.qZA()()}if(2&s){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(2),t.Oqu(null==i.selectedFiles[e.id]?null:i.selectedFiles[e.id].name)}}function ti(s,r){if(1&s&&(t.TgZ(0,"a",86),t._uU(1),t.qZA()),2&s){const e=t.oxw(2).$implicit,i=t.oxw(3);t.Q6J("href",i.url+"Companies/"+i.spaceId+"/attachments/"+e.value,t.LSH),t.xp6(1),t.Oqu(e.value)}}function ei(s,r){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",78),t.NdJ("change",function(a){t.CHM(e);const l=t.oxw().$implicit,d=t.oxw(3);return t.KtG(d.onFileSelect(a,l))}),t.qZA(),t.YNc(2,je,3,3,"button",79),t.YNc(3,Ke,4,1,"div",80),t.YNc(4,ti,2,2,"a",81),t.BQk()}if(2&s){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("id","fileInput"+e.id),t.xp6(1),t.Q6J("ngIf",!i.uploadFileBtns[e.id]&&!e.isAnswered),t.xp6(1),t.Q6J("ngIf",i.uploadFileBtns[e.id]&&!e.isAnswered),t.xp6(1),t.Q6J("ngIf",e.isAnswered)}}function ii(s,r){if(1&s&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2),t.qZA(),t.YNc(3,Ve,3,5,"ng-container",1),t.YNc(4,We,5,4,"ng-container",1),t.YNc(5,He,3,5,"ng-container",1),t.YNc(6,$e,3,2,"ng-container",1),t.YNc(7,ei,5,4,"ng-container",1),t.BQk()),2&s){const e=r.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",1==e.dataType),t.xp6(1),t.Q6J("ngIf",2==e.dataType),t.xp6(1),t.Q6J("ngIf",3==e.dataType),t.xp6(1),t.Q6J("ngIf",4==e.dataType),t.xp6(1),t.Q6J("ngIf",5==e.dataType)}}function si(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"div",87)(1,"button",82),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.saveAnswers())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"save_answers")))}function ai(s,r){if(1&s&&(t.TgZ(0,"div",45)(1,"p",47),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,ii,8,6,"ng-container",62),t.YNc(5,si,4,3,"div",63),t.qZA()),2&s){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"questions")),t.xp6(2),t.Q6J("ngForOf",e.questions),t.xp6(1),t.Q6J("ngIf",e.isAssinee&&!e.isAnswered)}}function ni(s,r){if(1&s&&(t.TgZ(0,"div",45),t._UZ(1,"task-todo",46),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("task",e.details)}}function li(s,r){if(1&s&&(t.TgZ(0,"div",45),t._UZ(1,"task-repeat",88),t.qZA()),2&s){const e=t.oxw(2);t.xp6(1),t.Q6J("details",e.details)}}function ri(s,r){if(1&s&&t._UZ(0,"app-room",89),2&s){const e=t.oxw(2);t.Q6J("chatBtns",e.chatBtn)("taskDetails",!0)("header",!1)}}function oi(s,r){1&s&&t._UZ(0,"loading")}function di(s,r){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"top-section",3),t.NdJ("rateAdded",function(a){t.CHM(e);const l=t.oxw();return t.KtG(l.rateAdded(a))}),t.qZA(),t.TgZ(2,"div",4)(3,"div",5)(4,"div")(5,"div",6)(6,"div",7)(7,"div",8)(8,"div",9)(9,"div",10)(10,"div",11),t._UZ(11,"i",12),t.TgZ(12,"span",4),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",13),t.ynx(16),t.YNc(17,Ze,3,6,"span",14),t.YNc(18,Ae,3,3,"span",15),t.YNc(19,Ce,3,3,"span",16),t.BQk(),t.YNc(20,ye,2,5,"p-splitButton",17),t.YNc(21,Me,3,3,"button",18),t.qZA()()(),t.YNc(22,we,10,4,"div",19),t.TgZ(23,"div",9)(24,"div",10)(25,"div",11),t._UZ(26,"i",20),t.TgZ(27,"span",4),t._uU(28),t.ALo(29,"translate"),t.qZA()(),t.TgZ(30,"div",13)(31,"span",21),t._uU(32),t.ALo(33,"translate"),t._UZ(34,"i"),t.qZA()()()(),t.TgZ(35,"div",9)(36,"div",10)(37,"div",11),t._UZ(38,"i",22),t.TgZ(39,"span",4),t._uU(40),t.ALo(41,"translate"),t.qZA()(),t.TgZ(42,"div",13),t._UZ(43,"app-img-title",23),t.qZA()()(),t.TgZ(44,"div",9)(45,"div",10)(46,"div",11),t._UZ(47,"i",22),t.TgZ(48,"span",4),t._uU(49),t.ALo(50,"translate"),t.qZA()(),t.TgZ(51,"div",13),t._UZ(52,"app-img-title",23),t.qZA()()(),t.TgZ(53,"div",9)(54,"div",10)(55,"div",11),t._UZ(56,"i",24),t.TgZ(57,"span",4),t._uU(58),t.ALo(59,"translate"),t.qZA()(),t.TgZ(60,"div",13)(61,"span"),t._uU(62),t.ALo(63,"arabicDate"),t.ALo(64,"arabicTime"),t.qZA()()()(),t.TgZ(65,"div",9)(66,"div",10)(67,"div",11),t._UZ(68,"i",24),t.TgZ(69,"span",4),t._uU(70),t.ALo(71,"translate"),t.qZA()(),t.TgZ(72,"div",13)(73,"span"),t._uU(74),t.ALo(75,"arabicDate"),t.ALo(76,"arabicTime"),t.qZA()()()(),t.YNc(77,Ue,12,9,"div",19),t.YNc(78,Se,12,9,"div",19),t.YNc(79,Re,12,6,"div",19),t.qZA()(),t.YNc(80,De,6,4,"div",25),t.YNc(81,Oe,2,1,"div",26),t.YNc(82,Ee,5,4,"div",26),t.YNc(83,Le,13,24,"div",27),t.YNc(84,qe,5,4,"div",26),t.YNc(85,Je,6,5,"div",26),t.YNc(86,Pe,6,13,"div",28),t.YNc(87,Ne,2,1,"div",26),t.YNc(88,Qe,2,1,"div",26),t.YNc(89,ai,6,5,"div",26),t.YNc(90,ni,2,1,"div",26),t.YNc(91,li,2,1,"div",26),t.qZA()(),t.TgZ(92,"div")(93,"div",29),t.YNc(94,ri,1,3,"app-room",30),t.YNc(95,oi,1,0,"loading",1),t.qZA()()()(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(1),t.Q6J("taskId",e.id)("data",!!e.route.snapshot.queryParams.id)("details",e.details),t.xp6(3),t.Gre("",e.chatData?"col-xl-9 col-lg-8":"col-lg-12"," border-right task-details-dialog-content"),t.xp6(9),t.Oqu(t.lcZ(14,54,"status")),t.xp6(4),t.Q6J("ngIf",(null==e.details?null:e.details.rate)||!e.taskStarted||!e.isAssinee||8==(null==e.details?null:e.details.taskGroupType)&&2==(null==e.details?null:e.details.taskStateId)),t.xp6(1),t.Q6J("ngIf",!e.taskStarted),t.xp6(1),t.Q6J("ngIf",6==(null==e.details?null:e.details.taskStateId)),t.xp6(1),t.Q6J("ngIf",(1==(null==e.details?null:e.details.taskStateId)||2==(null==e.details?null:e.details.taskStateId)||3==(null==e.details?null:e.details.taskStateId))&&!(null!=e.details&&e.details.rate)&&e.taskStarted&&e.isAssinee&&8!=(null==e.details?null:e.details.taskGroupType)),t.xp6(1),t.Q6J("ngIf",8==(null==e.details?null:e.details.taskGroupType)&&1==(null==e.details?null:e.details.taskStateId)&&e.taskStarted),t.xp6(1),t.Q6J("ngIf",null==e.details?null:e.details.stageName),t.xp6(6),t.Oqu(t.lcZ(29,56,"priority")),t.xp6(4),t.hij("",t.lcZ(33,58,null==e.Priority[null==e.details?null:e.details.priority]?null:e.Priority[null==e.details?null:e.details.priority].name)," "),t.xp6(2),t.Gre("bx bxs-flag fs-16 priority-",null==e.details?null:e.details.priority,""),t.xp6(6),t.Oqu(t.lcZ(41,60,"creator")),t.xp6(3),t.Q6J("userId",null==e.details?null:e.details.taskGroupCreatorId)("fontSize","fs-16")("title",null==e.details?null:e.details.taskGroupCreatorName)("imgSrc",null==e.details?null:e.details.taskGroupCreatorImageUrl)("imgSize",25),t.xp6(6),t.Oqu(t.lcZ(50,62,"assignee")),t.xp6(3),t.Q6J("userId",null==e.details?null:e.details.assigneeId)("fontSize","fs-16")("title",null==e.details?null:e.details.assigneeName)("imgSrc",null==e.details?null:e.details.assigneeImageUrl)("imgSize",25),t.xp6(6),t.Oqu(t.lcZ(59,64,"start")),t.xp6(4),t.Oqu(t.xi3(63,66,null==e.details?null:e.details.startDate,"long")+" , "+t.lcZ(64,69,null==e.details?null:e.details.startDate)),t.xp6(8),t.Oqu(t.lcZ(71,71,"due")),t.xp6(4),t.Oqu(t.xi3(75,73,null==e.details?null:e.details.endDate,"long")+" , "+t.lcZ(76,76,null==e.details?null:e.details.endDate)),t.xp6(3),t.Q6J("ngIf",8!=(null==e.details?null:e.details.taskGroupType)),t.xp6(1),t.Q6J("ngIf",(null==e.details?null:e.details.actualTime)&&2==(null==e.details?null:e.details.taskStateId)&&8!=(null==e.details?null:e.details.taskGroupType)),t.xp6(1),t.Q6J("ngIf",!(null!=e.details&&e.details.actualTime)&&(1==(null==e.details?null:e.details.taskStateId)||3==(null==e.details?null:e.details.taskStateId))&&e.isAssinee&&8!=(null==e.details?null:e.details.taskGroupType)),t.xp6(1),t.Q6J("ngIf",8==(null==e.details?null:e.details.taskStateId)||(null==e.details?null:e.details.stateReason)),t.xp6(1),t.Q6J("ngIf",null==e.details?null:e.details.soundDescription),t.xp6(1),t.Q6J("ngIf",(null==e.details?null:e.details.description)||(null==e.details?null:e.details.soundDescription)),t.xp6(1),t.Q6J("ngIf",e.details.kpi),t.xp6(1),t.Q6J("ngIf",null==e.details?null:e.details.definitionOfDone),t.xp6(1),t.Q6J("ngIf",null==e.details?null:e.details.link),t.xp6(1),t.Q6J("ngIf",null==e.details?null:e.details.longitude),t.xp6(1),t.Q6J("ngIf",(null==e.details?null:e.details.taskGroupAttachments)&&(null==e.details?null:e.details.taskGroupAttachments.length)>0),t.xp6(1),t.Q6J("ngIf",(3==(null==e.details?null:e.details.taskStateId)||2==(null==e.details?null:e.details.taskStateId))&&8!=(null==e.details?null:e.details.taskGroupType)),t.xp6(1),t.Q6J("ngIf",e.questions&&e.questions.length>0),t.xp6(1),t.Q6J("ngIf",(null==e.details?null:e.details.taskTodosList)&&(null==e.details?null:e.details.taskTodosList.length)>0),t.xp6(1),t.Q6J("ngIf",(null==e.details?null:e.details.isRepeated)||(null==e.details?null:e.details.parentTaskGroupId)&&!(null!=e.details&&e.details.isSubTasks)),t.xp6(1),t.Gre("",e.chatData?"col-xl-3 col-lg-4":""," relative  h-100 px-0"),t.xp6(2),t.Q6J("ngIf",!e.service.chatLoading.value),t.xp6(1),t.Q6J("ngIf",e.service.chatLoading.value)}}function ci(s,r){1&s&&t._UZ(0,"loading",90)}let _i=(()=>{class s{rateAdded(e){e&&this.getTaskDetails()}constructor(e,i,a){this.translate=e,this.datePipe=i,this.alert=a,this.kpiStatus=ke.q,this.items=[],this.taskType=(0,N.q)(Bt.U),this.TaskStatus=(0,N.q)(Vt.h),this.Priority=(0,N.q)(Qt.U),this.service=(0,t.f3M)(C.i),this.dialog=(0,t.f3M)(k.uw),this.chatSer=(0,t.f3M)(Ot.a),this.url=Ht.N.apiUrl,this.spaceId=localStorage.getItem("space-id"),this.route=(0,t.f3M)(n.gz),this.loading=this.service.loading,this.options={zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!1,maxZoom:25,minZoom:8},this.questions=[],this.isAnswered=!1,this.uploadFileBtn=!1,this.selectedFiles={},this.uploadFileBtns={}}ngOnInit(){this.id=this.route.snapshot.queryParams.id||this.route.snapshot.params.id,this.chatBtn=!this.route.snapshot.queryParams.id,this.route.queryParamMap.subscribe(e=>{e.get("startDate"),e.get("endDate")}),this.getTaskDetails(),this.setTranslatedItems(),this.getLoggedTime()}setTranslatedItems(){this.translate.get(["todo","completed","in_progress"]).subscribe(e=>{this.items=[{label:e.in_progress,command:()=>this.changeStatus(3)},{label:e.completed,command:()=>this.changeStatus(2)}]})}changeStatus(e){if(3==e&&1==this.details.taskStateId){let i={id:this.details.taskId,percentage:0,actualTime:null};this.service.updateEstimate({estimatedTime:this.details.expectedTime,id:this.details.taskId}).subscribe(()=>{this.service.updateTaskProgress(i).subscribe(a=>{a.success&&(this.alert.showAlert("success"),this.getTaskDetails())})})}else if(3==e&&2==this.details.taskStateId)this.service.updateTaskProgress({id:this.details.taskId,percentage:0,actualTime:null}).subscribe(a=>{a.success&&(this.alert.showAlert("success"),this.getTaskDetails())});else if(2==e&&3==this.details.taskStateId){let i;if(this.isAnswered)if(i="00:00"!=this.loggedTime?60*this.totalHours+this.totalMinutes:null,i){let a={id:this.id,percentage:0,actualTime:i};this.service.updateTaskProgress(a).subscribe(l=>{l.success&&(a.percentage=100,this.service.updateTaskProgress(a).subscribe(d=>{d.success&&(this.alert.showAlert("success"),this.getTaskDetails())}))})}else this.dialog.open(Q.L,{panelClass:"small-dialog",data:{task:this.details}}).afterClosed().subscribe(l=>{l.success&&(this.alert.showAlert("success"),this.getTaskDetails())});else this.alert.showAlert("answer_questions_first","bg-danger")}else if(2==e&&1==this.details.taskStateId&&8!=this.details.taskGroupType)if(this.isAnswered){let i;i="00:00"!=this.loggedTime?60*this.totalHours+this.totalMinutes:null;let a={id:this.id,percentage:0,actualTime:i};this.service.updateEstimate({estimatedTime:this.details.expectedTime,id:this.details.taskId}).subscribe(l=>{i?this.service.updateTaskProgress(a).subscribe(d=>{d.success&&(a.percentage=100,this.service.updateTaskProgress(a).subscribe(g=>{g.success&&(this.alert.showAlert("success"),this.getTaskDetails())}))}):this.service.updateTaskProgress(a).subscribe(d=>{this.dialog.open(Q.L,{panelClass:"small-dialog",data:{task:this.details}}).afterClosed().subscribe(Z=>{Z.success&&(this.alert.showAlert("success"),this.getTaskDetails())})})})}else this.alert.showAlert("answer_questions_first","bg-danger");else if(2==e&&1==this.details.taskStateId&&8==this.details.taskGroupType){let i={id:this.id,percentage:0,actualTime:15};this.service.updateEstimate({estimatedTime:15,id:this.details.taskId}).subscribe(a=>{this.service.updateTaskProgress(i).subscribe(l=>{l.success&&(i.percentage=100,this.service.updateTaskProgress(i).subscribe(d=>{d.success&&(this.alert.showAlert("success"),this.getTaskDetails())}))})})}}getTaskDetails(){this.details=null,this.service.loading.next(!0),setTimeout(()=>{this.service.getDetails(this.id).subscribe(e=>{if(this.service.loading.next(!1),e.success){this.details=e.data,this.service.getProps(e.data.taskId).subscribe(l=>{this.isAnswered=l.data.every(d=>1==d.isAnswered),this.questions=l.data}),this.isAssinee=this.details.assigneeId==localStorage.getItem("id"),this.details.isAssignee=this.isAssinee;let i=this.datePipe.transform(e.data.startDate,"yyyy-MM-ddTHH:mm:ss");this.taskStarted=this.datePipe.transform(new Date,"yyyy-MM-ddTHH:mm:ss","UTC")>=i,this.service.getOrCreateChat(e.data.taskGroupId).subscribe(l=>{l&&l.data&&l.data.taskGroupChatId&&(this.chatData=l.data,this.chatSer.roomId.next(this.chatData.taskGroupChatId),this.chatSer.getRoomChat(!0),this.service.gotChat.next(!0),setTimeout(()=>{this.service.chatLoading.next(!1)},100))}),this.achieved=(Number(this.details?.kpi.value)||0)/(Number(this.details?.kpi.target)||0)*100||0}})},1e3)}logTime(){this.dialog.open(Nt,{panelClass:"manage-users-dialog",data:this.id}).afterClosed().subscribe(i=>{this.getLoggedTime()})}getLoggedTime(){this.service.getTaskLog(this.id).subscribe(e=>{this.calculateTotalTime(e)})}calculateTotalTime(e){this.totalHours=0,this.totalMinutes=0,e.forEach(l=>{this.totalHours+=l.hours,this.totalMinutes+=l.minutes}),this.totalHours+=Math.floor(this.totalMinutes/60),this.totalMinutes=this.totalMinutes%60;const i=this.totalHours.toString().padStart(2,"0"),a=this.totalMinutes.toString().padStart(2,"0");return this.loggedTime=`${i}:${a}`,`${i}:${a}`}ngOnDestroy(){this.chatSer.roomId.next("0"),this.chatSer.roomUsersIds.next([]),this.chatSer.messages$.next([]),this.service.gotChat.next(!1)}saveAnswers(){let e=0;this.questions.forEach(i=>{if(e++,i&&!i.isAnswered&&5!=i.dataType){if(2==i.dataType&&null==i.value&&(i.value=!1),4==i.dataType){let l=this.datePipe.transform(i.value,"yyyy-MM-ddTHH:mm:ss","UTC");i.value=l}let a=(new W.LE).set("taskId",this.id).set("propId",i.id).set("value",i.value);this.service.answerProps(a).subscribe(l=>{})}else if(i&&!i.isAnswered&&5==i.dataType&&this.selectedFiles[i.id]){const a=new FormData;a.append("file",this.selectedFiles[i.id]),this.service.uploadPropFile(a).subscribe(l=>{if(l.success){i.value=l.data;let d=(new W.LE).set("taskId",this.id).set("propId",i.id).set("value",i.value);this.service.answerProps(d).subscribe()}})}}),e==this.questions.length&&(this.alert.showAlert("success"),this.getTaskDetails())}uploadFile(e){const i=document.getElementById("fileInput"+e.id);i&&i.click()}onFileSelect(e,i){const a=e.target.files[0];if(a){const l=[".jpg",".jpeg",".png",".gif",".bmp",".tiff",".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".txt",".csv",".zip",".rar",".7z",".xml",".json",".mp3",".wav",".mp4",".avi",".mov",".mkv"],d=a.name.slice(2+(a.name.lastIndexOf(".")-1>>>0)).toLowerCase();if(!l.includes(`.${d}`))return void this.alert.showAlert("file_not_allow","bg-danger");if(a.size>5e6)return void this.alert.showAlert("file_grater_than","bg-danger");this.uploadFileBtns[i.id]=!0,this.selectedFiles[i.id]=a}}clearFile(e){delete this.selectedFiles[e.id],this.uploadFileBtns[e.id]=!1}getTaskStatusByValue(e){return this.TaskStatus.find(a=>a.value==e)}static{this.\u0275fac=function(i){return new(i||s)(t.Y36(h.sK),t.Y36(c.uU),t.Y36(m.c))}}static{this.\u0275cmp=t.Xpm({type:s,selectors:[["task-details"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[1,"task-details","relative","h-100","dir","bg-white","rounded","shadow","w-100"],[4,"ngIf"],["class","a-center",4,"ngIf"],[3,"taskId","data","details","rateAdded"],[1,""],[1,"flex-grid","w-100"],[1,"pb-4"],[1,"pt-2"],[1,"flex-grid"],[1,"col-lg-6","col-md-12","mb-2","fs-16","pl-0"],[1,"flex","aic"],[1,"info-title","simibold","flex","aic"],[1,"fs-16","bx","bx-check-circle","mr-50"],[1,"info-data"],[3,"class",4,"ngIf"],["class","px-1 rounded  border status-6 ml-50",4,"ngIf"],["class","px-1 rounded  border status-4 ml-50",4,"ngIf"],[3,"model","label","styleClass",4,"ngIf"],["class","py-25 fs-14 px-2 rounded-3 border-0 bg-primary shadow pointer white",3,"click",4,"ngIf"],["class","col-lg-6 col-md-12 mb-2 fs-16 pl-0",4,"ngIf"],[1,"fs-16","bx","bx-flag","mr-50"],[1,"px-1","rounded"],[1,"fs-16","bx","bx-user","mr-50"],[3,"userId","fontSize","title","imgSrc","imgSize"],[1,"fs-16","bx","bx-calendar-week","mr-50"],["class","rejection-reason mb-2 danger",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","col-lg-6",4,"ngIf"],["class","location mt-2",4,"ngIf"],[1,"pl-","chat-section"],[3,"chatBtns","taskDetails","header",4,"ngIf"],[1,"px-1","rounded","border","status-6","ml-50"],[1,"px-1","rounded","border","status-4","ml-50"],[3,"model","label","styleClass"],[1,"py-25","fs-14","px-2","rounded-3","border-0","bg-primary","shadow","pointer","white",3,"click"],[1,"fs-16","bx","bx-git-pull-request","mr-50"],[1,"px-1","rounded","border","status-5","ml-50"],[1,"fs-16","bx","bx-hourglass","mr-50"],[1,"fs-16","bx","bx-stopwatch","mr-50"],[1,"info-data","flex","aic"],[1,"ml-75"],[1,"fs-16","bx","bx-play-circle","success","pointer","fs-18",3,"click"],[1,"rejection-reason","mb-2","danger"],[1,"fs-20","simibold","mb-75"],[1,"word-break"],[1,"mt-2"],[3,"task"],[1,"fs-17","bold"],[1,"mt-1","contains-link","word-break",3,"appSafeHtml"],[1,"col-lg-6"],[1,"card-shadow","pt-3","rounded","mt-2"],[1,"title","px-2","mb-2"],[1,"mb-1"],[1,"flex","jcsb","aic"],[1,"px-1","rounded-5","bg-gray"],[3,"details","full","fillType","percentSize","percentWeight","percentOffset","percentColor","labelOffset","labelColor","labelFontSize","labelWeight","label","labelValueColor","small"],["target","_blank",1,"font-small-4","primary",3,"href"],[1,"location","mt-2"],["height","300px","width","100%",3,"zoom","center","options"],[3,"position"],[3,"images"],[3,"details","progressUpdated"],[4,"ngFor","ngForOf"],["class","flex jce",4,"ngIf"],["type","text",1,"answer-input","border-bottom","w-100","fs-16","px-2","py-1","mb-1",3,"ngModel","disabled","placeholder","ngModelChange"],["class","bx bx-checkbox fs-30 px-2",4,"ngIf"],["class","bx bx-x-circle fs-30 px-2 danger",4,"ngIf"],["class","bx bx-check-circle fs-30 px-2 success",4,"ngIf"],[1,"inline-flex","aic","mr-2",3,"for"],[1,"pr-25"],["type","radio","value","true",3,"name","id","ngModel","ngModelChange"],["type","radio","value","false",3,"name","id","ngModel","ngModelChange"],[1,"bx","bx-checkbox","fs-30","px-2"],[1,"bx","bx-x-circle","fs-30","px-2","danger"],[1,"bx","bx-check-circle","fs-30","px-2","success"],["type","number",1,"answer-input","border-bottom","w-100","fs-16","px-2","py-1","mb-1",3,"ngModel","disabled","placeholder","ngModelChange"],["inputId","calendar-12h","hourFormat","12",3,"ngModel","showTime","ngModelChange",4,"ngIf"],["inputId","calendar-12h","hourFormat","12",3,"ngModel","showTime","ngModelChange"],["type","file","hidden","","accept",".jpg, .jpeg, .png, .gif, .bmp, .tiff, .pdf, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .txt, .csv, .zip, .rar, .7z, .xml, .json, .mp3, .wav, .mp4, .avi, .mov, .mkv",3,"id","change"],["class","btn mr-1 rounded bg-primary white py-50 px-2 fs-12",3,"click",4,"ngIf"],["class","inline-flex aic btn mr-1 rounded bg-light py-50 px-2 fs-12",4,"ngIf"],["class","primary","target","_blank",3,"href",4,"ngIf"],[1,"btn","mr-1","rounded","bg-primary","white","py-50","px-2","fs-12",3,"click"],[1,"inline-flex","aic","btn","mr-1","rounded","bg-light","py-50","px-2","fs-12"],[1,"pr-1"],[1,"bx","bx-x","danger","pointer","fs-18",3,"click"],["target","_blank",1,"primary",3,"href"],[1,"flex","jce"],[3,"details"],[3,"chatBtns","taskDetails","header"],[1,"a-center"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0),t.YNc(1,di,96,78,"ng-container",1),t.YNc(2,ci,1,0,"loading",2),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf",a.details),t.xp6(1),t.Q6J("ngIf",a.loading.value))},dependencies:[c.ez,c.sg,c.O5,Wt,z.l,z.a,x.N,_.N,h.aw,h.X$,S,M.i,f,v.P,Rt,L.Y4,L.b6,L.O_,Dt.ChatModule,Ie.Y,D.ot,Yt.G,Ft.W,zt.E,T.p9,p.u5,p.Fj,p.wV,p._,p.JJ,p.On,H._8,H.f,xe,Te.y],styles:[".task-details{max-height:85vh;height:85vh;overflow:hidden}.task-details-dialog-content,.chat-section{height:calc(85vh - 49px);overflow:auto}.task-details .flex-grid{margin:0 auto}.chat-section{position:sticky;top:-1px;width:100%}.inline-flex{display:inline-flex}.border-start{border-inline-start:1px solid #e7e7e7!important}.status-1{background-color:#7b58ca33}.status-2{background-color:#29cc9933}.status-3{background-color:#f69e4233}.status-4{background-color:#ccc3}.status-5{background-color:#3f51b533}.status-6{background-color:#ea545533}.priority-0{color:#7b58ca}.priority-1{color:#29cc99}.priority-2{color:#ea5455}.jce{justify-content:end}.description,.description *{font-family:Tajawal,sans-serif!important}.info-title{width:100px}.answer-input{border:0}.task-details a{text-decoration:underline!important;color:#3f51b5!important}\n"],encapsulation:2})}}return s})()}}]);