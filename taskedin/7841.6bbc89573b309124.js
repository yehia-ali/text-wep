"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[7841],{38140:(b,T,s)=>{s.d(T,{Y:()=>y});var e=s(65879),u=s(96814),m=s(89515),g=s(824),x=s(52081),d=s(56223),h=s(76472),v=s(3131);function Z(o,C){if(1&o&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"arabicNumbers"),e.ALo(3,"translate"),e.qZA()),2&o){const c=e.oxw();e.xp6(1),e.Oqu(null!=c.meta&&c.meta.pageSize?e.lcZ(2,1,null==c.meta?null:c.meta.pageSize):e.lcZ(3,3,"unlimited"))}}function A(o,C){if(1&o){const c=e.EpF();e.TgZ(0,"input",11),e.NdJ("ngModelChange",function(l){e.CHM(c);const E=e.oxw();return e.KtG(E.limit=l)})("ngModelChange",function(){e.CHM(c);const l=e.oxw();return e.KtG(l.changeLimit())}),e.qZA()}if(2&o){const c=e.oxw();e.Q6J("ngModel",c.limit)}}function M(o,C){1&o&&(e.TgZ(0,"p",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"record")))}function O(o,C){if(1&o){const c=e.EpF();e.TgZ(0,"pagination-controls",13),e.NdJ("pageChange",function(l){e.CHM(c);const E=e.oxw();return e.KtG(E.pageChanged(l))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.qZA()}2&o&&e.Q6J("maxSize",7)("directionLinks",!0)("previousLabel",e.lcZ(1,4,"previous"))("nextLabel",e.lcZ(2,6,"next"))}const D=[[["","filters",""]],[["","content",""]]],L=function(o,C){return{height:o,"max-width":C}},P=["[filters]","[content]"];let y=(()=>{class o{constructor(){this.pageChange=new e.vpe,this.limitChanged=new e.vpe,this.hasTitle=!1,this.admin=!1,this.limit=15,this.hasCard=!1,this.extraHeight=0,this.service=(0,e.f3M)(v.P)}changeLimit(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.limit<1&&(this.limit=15),this.limitChanged.emit(this.limit)},500)}pageChanged(c){this.pageChange.emit(c)}static{this.\u0275fac=function(f){return new(f||o)}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["layout-with-filters"]],inputs:{meta:"meta",hasTitle:"hasTitle",admin:"admin",limit:"limit",hasCard:"hasCard",extraHeight:"extraHeight"},outputs:{pageChange:"pageChange",limitChanged:"limitChanged"},standalone:!0,features:[e.jDz],ngContentSelectors:P,decls:21,vars:20,consts:[[1,"layout-with-filters","w-100","rounded","bg-white","border",3,"ngStyle"],[1,"filters","border-bottom","px-1","pb-1","pt-25"],["magicScroll","",1,"content","relative"],[1,"pagination-content","flex","aic","jcsr","py-1","bg-white","border-top"],[1,"flex","aic"],["class","ml-75 primary",4,"ngIf"],["type","number","class","input ml-75 limit text-center","min","1",3,"ngModel","ngModelChange",4,"ngIf"],["class","ml-50 primary",4,"ngIf"],[3,"maxSize","directionLinks","previousLabel","nextLabel","pageChange",4,"ngIf"],[1,"primary"],[1,"ml-75","primary"],["type","number","min","1",1,"input","ml-75","limit","text-center",3,"ngModel","ngModelChange"],[1,"ml-50","primary"],[3,"maxSize","directionLinks","previousLabel","nextLabel","pageChange"]],template:function(f,l){1&f&&(e.F$t(D),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.TgZ(3,"div",2),e.Hsn(4,1),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,Z,4,5,"p",5),e.YNc(11,A,1,1,"input",6),e.YNc(12,M,3,3,"p",7),e.qZA(),e.YNc(13,O,3,8,"pagination-controls",8),e.TgZ(14,"p"),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"span",9),e._uU(18),e.ALo(19,"arabicNumbers"),e.ALo(20,"translate"),e.qZA()()()()),2&f&&(e.Q6J("ngStyle",e.WLB(17,L,l.hasTitle?"calc(100vh - 14.5rem)":l.hasCard?"calc(100vh - 27.7rem)":"calc(100vh - 11rem)",l.service.withSubMenu.value?"calc(100vw - 277px)":"calc(100vw - 92px)")),e.xp6(8),e.hij("",e.lcZ(9,9,"pagination_per_page")," "),e.xp6(2),e.Q6J("ngIf",!l.admin),e.xp6(1),e.Q6J("ngIf",l.admin),e.xp6(1),e.Q6J("ngIf",null==l.meta?null:l.meta.pageSize),e.xp6(1),e.Q6J("ngIf",(null==l.meta?null:l.meta.totalItems)>15),e.xp6(2),e.hij("",e.lcZ(16,11,"pagination_total_records")," "),e.xp6(3),e.AsE("",e.lcZ(19,13,null==l.meta?null:l.meta.totalItems)," ",e.lcZ(20,15,"record"),""))},dependencies:[u.ez,u.O5,u.PC,m.aw,m.X$,g.h,x.m,d.u5,d.Fj,d.wV,d.JJ,d.qQ,d.On,h.JX,h.LS],styles:[".layout-with-filters[_ngcontent-%COMP%]{overflow:hidden;box-shadow:0 1px 38px #0000001a,0 2px 4px -1px #0000000f}.layout-with-filters[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{z-index:999}.layout-with-filters[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:calc(100% - 137px)}.layout-with-filters[_ngcontent-%COMP%]   .pagination-content[_ngcontent-%COMP%]{height:58px}.limit[_ngcontent-%COMP%]{width:5rem;padding:1.1rem .5rem}"]})}}return o})()},59466:(b,T,s)=>{s.d(T,{i:()=>m});var e=s(65879),u=s(96814);let m=(()=>{class g{constructor(){this.up=new e.vpe,this.down=new e.vpe}ngOnInit(){}sortUp(){this.up.emit(0)}sortDown(){this.down.emit(1)}static{this.\u0275fac=function(h){return new(h||g)}}static{this.\u0275cmp=e.Xpm({type:g,selectors:[["sorting"]],outputs:{up:"up",down:"down"},standalone:!0,features:[e.jDz],decls:3,vars:0,consts:[[1,"flex-column-center"],[1,"bx","bx-chevron-up","fs-18","pointer",3,"click"],[1,"bx","bx-chevron-down","fs-18","pointer",3,"click"]],template:function(h,v){1&h&&(e.TgZ(0,"div",0)(1,"i",1),e.NdJ("click",function(){return v.sortUp()}),e.qZA(),e.TgZ(2,"i",2),e.NdJ("click",function(){return v.sortDown()}),e.qZA()())},dependencies:[u.ez],styles:[".bx[_ngcontent-%COMP%]{line-height:.6}"]})}}return g})()},18512:(b,T,s)=>{s.d(T,{v:()=>S});var e=s(65879),u=s(96814),m=s(54807),g=s(89515),x=s(65619),d=s(1350),h=s(32296),v=s(86760),Z=s(24971),A=s(81854),M=s(14653);function O(i,p){1&i&&(e._uU(0),e.ALo(1,"translate")),2&i&&e.hij(" ",e.lcZ(1,1,p.item.name)," ")}function D(i,p){if(1&i&&(e.TgZ(0,"span",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const a=p.item;e.xp6(1),e.Oqu(e.lcZ(2,1,a.name))}}function L(i,p){1&i&&(e._uU(0),e.ALo(1,"translate")),2&i&&e.hij(" ",e.lcZ(1,1,p.item.name)," ")}function P(i,p){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&i){const a=e.oxw().items;e.xp6(1),e.hij("",e.Dn7(2,1,a[0].name,0,10),"...")}}function y(i,p){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const a=e.oxw().items;e.xp6(1),e.Oqu(e.lcZ(2,1,a[0].name))}}function o(i,p){if(1&i&&(e.TgZ(0,"div",37)(1,"span",38),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const a=e.oxw().items;e.xp6(2),e.AsE("",a.length-1," ",e.lcZ(3,2,"more"),"...")}}function C(i,p){if(1&i){const a=e.EpF();e.TgZ(0,"div",31)(1,"span",32)(2,"span",33),e.YNc(3,P,3,5,"span",34),e.YNc(4,y,3,3,"span",34),e.qZA()(),e.TgZ(5,"span",35),e.NdJ("click",function(){const t=e.CHM(a);return e.KtG((0,t.clear)(t.items[0]))}),e._uU(6,"\xd7"),e.qZA()(),e.YNc(7,o,4,4,"div",36)}if(2&i){const a=p.items;e.xp6(3),e.Q6J("ngIf",a[0].name.length>=10),e.xp6(1),e.Q6J("ngIf",a[0].name.length<10),e.xp6(3),e.Q6J("ngIf",a.length>1)}}function c(i,p){if(1&i){const a=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.exportFun())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"export")))}const f=function(i){return{name:i,id:1}},l=function(i){return{name:i,id:0}},E=function(i,p){return[i,p]};let S=(()=>{class i{documentClickEvent(a){this.showFilters=!1}constructor(a,r,t,_){this.translate=a,this.packagesService=r,this.countriesSer=t,this.datePipe=_,this.canExport=!0,this.moreFilters=!0,this.usersPage=!1,this.status=null,this.tasksPage=!1,this.emitChange=new e.vpe,this.export=new e.vpe,this.showFilters=!1,this.packages=[],this.dir=document.dir,this.dateValue="",this.date="",this.packagesService.getPackages().subscribe(n=>this.packages=n),this.countriesSer.getCountries().subscribe(n=>this.countries=n)}ngOnInit(){}filter(a,r){clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.service.currentPage.next(1),r instanceof x.X&&r.next(a),this.emitChange.emit(a)},500)}search(a,r){r?.next(a)}emitFilter(a,r){this.filter(a.target.value,r)}exportFun(){this.export.emit()}changeDate(a,r){const t=this.datePipe.transform(a,"yyyy-MM-dd");this.filter(t,r),console.log(t)}static{this.\u0275fac=function(r){return new(r||i)(e.Y36(g.sK),e.Y36(A.U),e.Y36(M.K),e.Y36(u.uU))}}static{this.\u0275cmp=e.Xpm({type:i,selectors:[["spaces"]],hostBindings:function(r,t){1&r&&e.NdJ("click",function(n){return t.documentClickEvent(n)},!1,e.evT)},inputs:{service:"service",canExport:"canExport",moreFilters:"moreFilters",usersPage:"usersPage",tasksPage:"tasksPage"},outputs:{emitChange:"emitChange",export:"export"},standalone:!0,features:[e._Bn([u.uU]),e.jDz],decls:34,vars:22,consts:[[1,"tasks-filters","flex","aic","jcsb","gap-x-1"],[1,"start","flex","flex-wrap","aic","gap-x-1","gap-y-1"],[3,"key","valueChanged"],[1,"status"],[3,"key"],["bindLabel","name","bindValue","id","appendTo","body",1,"w-15r",3,"items","multiple","closeOnSelect","change"],["ng-option-tmp",""],["ng-label-tmp",""],[1,"packages"],["key","packages"],["bindLabel","name","bindValue","id","appendTo","body",1,"w-22r",3,"items","multiple","closeOnSelect","change"],["ng-multi-label-tmp",""],[1,"country"],["key","country"],["bindValue","id","appendTo","body",1,"w-22r",3,"items","bindLabel","change"],["key","creationDateFrom",3,"selectedValue","valueChanged"],["key","creationDateTo",3,"selectedValue","valueChanged"],["key","expiredDateFrom",3,"selectedValue","valueChanged"],["key","expiredDateTo",3,"selectedValue","valueChanged"],[1,"user-amount-from"],["key","UserCountFrom"],["type","number","min","0",1,"input","w-15",3,"input"],[1,"user-amount-to"],["key","UserCountTo"],[1,"cost-from"],["key","costFrom"],[1,"cost-to"],["key","costTo"],[1,"end","flex","aic","gap-x-2","pt-75"],["mat-raised-button","","class","bg-success export",3,"click",4,"ngIf"],[1,"fs-14"],[1,"ng-value","flex","aic"],[1,"ng-value-label"],[1,"flex","aic","fs-11"],[4,"ngIf"],["aria-hidden","true",1,"ng-value-icon","right",3,"click"],["class","ng-value rounded-2",4,"ngIf"],[1,"ng-value","rounded-2"],[1,"ng-value-label","fs-11"],["mat-raised-button","",1,"bg-success","export",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"search",2),e.NdJ("valueChanged",function(n){return t.search(n,t.service.search)}),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"input-label",4),e.TgZ(5,"ng-select",5),e.NdJ("change",function(n){return t.filter(1==(null==n?null:n.id)||0==(null==n?null:n.id)?n.id:null,t.service.paymentStatus)}),e.YNc(6,O,2,3,"ng-template",6),e.YNc(7,D,3,3,"ng-template",7),e.qZA()(),e.TgZ(8,"div",8),e._UZ(9,"input-label",9),e.TgZ(10,"ng-select",10),e.NdJ("change",function(n){return t.filter(n,t.service.packages)}),e.YNc(11,L,2,3,"ng-template",6),e.YNc(12,C,8,3,"ng-template",11),e.qZA()(),e.TgZ(13,"div",12),e._UZ(14,"input-label",13),e.TgZ(15,"ng-select",14),e.NdJ("change",function(n){return t.filter(n,t.service.countries)}),e.qZA()(),e.TgZ(16,"date-filter",15),e.NdJ("valueChanged",function(n){return t.changeDate(n,t.service.creationDateFrom)}),e.qZA(),e.TgZ(17,"date-filter",16),e.NdJ("valueChanged",function(n){return t.changeDate(n,t.service.creationDateTo)}),e.qZA(),e.TgZ(18,"date-filter",17),e.NdJ("valueChanged",function(n){return t.changeDate(n,t.service.expiredDateFrom)}),e.qZA(),e.TgZ(19,"date-filter",18),e.NdJ("valueChanged",function(n){return t.changeDate(n,t.service.expiredDateTo)}),e.qZA(),e.TgZ(20,"div",19),e._UZ(21,"input-label",20),e.TgZ(22,"input",21),e.NdJ("input",function(n){return t.emitFilter(n,t.service.userCountFrom)}),e.qZA()(),e.TgZ(23,"div",22),e._UZ(24,"input-label",23),e.TgZ(25,"input",21),e.NdJ("input",function(n){return t.emitFilter(n,t.service.userCountTo)}),e.qZA()(),e.TgZ(26,"div",24),e._UZ(27,"input-label",25),e.TgZ(28,"input",21),e.NdJ("input",function(n){return t.emitFilter(n,t.service.costFrom)}),e.qZA()(),e.TgZ(29,"div",26),e._UZ(30,"input-label",27),e.TgZ(31,"input",21),e.NdJ("input",function(n){return t.emitFilter(n,t.service.costTo)}),e.qZA()()(),e.TgZ(32,"div",28),e.YNc(33,c,3,3,"button",29),e.qZA()()),2&r&&(e.xp6(2),e.Q6J("key",t.service.searchValue),e.xp6(2),e.Q6J("key","status"),e.xp6(1),e.Q6J("items",e.WLB(19,E,e.VKq(15,f,t.translate.instant("paid")),e.VKq(17,l,t.translate.instant("unpaid"))))("multiple",!1)("closeOnSelect",!0),e.xp6(5),e.Q6J("items",t.packages)("multiple",!0)("closeOnSelect",!1),e.xp6(5),e.Q6J("items",t.countries)("bindLabel","rtl"==t.dir?"arName":"enName"),e.xp6(1),e.Q6J("selectedValue",t.service.creationDateFromValue),e.xp6(1),e.Q6J("selectedValue",t.service.creationDateToValue),e.xp6(1),e.Q6J("selectedValue",t.service.expiredDateFromValue),e.xp6(1),e.Q6J("selectedValue",t.service.expiredDateFromTo),e.xp6(14),e.Q6J("ngIf",t.canExport))},dependencies:[u.ez,u.O5,u.OU,m.A0,m.w9,m.ir,m.mR,m.zB,g.aw,g.X$,d.i,h.ot,h.lW,v.g,Z.g]})}}return i})()}}]);