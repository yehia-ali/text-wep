"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[8434],{28434:(y,d,n)=>{n.r(d),n.d(d,{EmployeesRateComponent:()=>f});var r=n(56223),m=n(1428),h=n(24971),c=n(89515),u=n(32801),C=n(64190),p=n(96814),M=n(52081),_=n(76472),O=n(36114),P=n(69862),t=n(65879),b=n(43217);function E(o,g){if(1&o&&(t.TgZ(0,"tr",23)(1,"td"),t._UZ(2,"app-img-title",24),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"app-img-title",24),t.qZA(),t.TgZ(5,"td")(6,"p",16)(7,"span",25),t._uU(8),t.qZA(),t._UZ(9,"i",26),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.qZA()()),2&o){const e=g.$implicit;t.xp6(2),t.Q6J("title",e.raterName)("imgSrc",e.raterPic)("subTitle",e.raterJobTitle||"-"),t.xp6(2),t.Q6J("title",e.ratedName)("imgSrc",e.ratedPic)("subTitle",e.ratedJobTitle||"-"),t.xp6(4),t.Oqu(e.rate),t.xp6(3),t.hij(" ",e.comment||"-"," ")}}const Z=function(o,g,e){return{itemsPerPage:o,currentPage:g,totalItems:e}};let f=(()=>{class o{dateChange(e){this.startDate=this.datePipe.transform(e.startDate,"yyyy-MM-dd"),this.endDate=this.datePipe.transform(e.endDate,"yyyy-MM-dd"),this.getRates()}constructor(e,i){this.service=e,this.datePipe=i,this.startDate=this.datePipe.transform(new Date,"yyyy-MM-01"),this.endDate=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.allRates=[],this.limit=15,this.page=1,this.searchValue="",this.selectedDepartments=[]}ngOnInit(){this.getRates(),localStorage.removeItem("selectedUser")}getRates(){let e=(new P.LE).set("page",this.page).set("limit",this.limit).set("From",this.startDate).set("To",this.endDate).set("search",this.searchValue);this.service.getAllRates(e).subscribe(i=>{this.allRates=i.data.items,this.totalItems=i.data.totalItems})}pageChanged(e){this.page=e,this.getRates()}changeLimit(){this.getRates()}search(e){this.searchValue=e,this.getRates()}department(e){this.selectedDepartments="string"==typeof e?JSON.parse(e):e,this.getRates()}userRole(e){this.roleId=e,this.getRates()}static{this.\u0275fac=function(i){return new(i||o)(t.Y36(b.V),t.Y36(p.uU))}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["employees-rate"]],standalone:!0,features:[t.jDz],decls:47,vars:45,consts:[[1,"flex","flex-column","jcsb","table-filter-content"],[1,"pt-1"],[1,""],[1,"filters","flex-grid","mb-2","aie","px-2"],[1,"col-lg-3"],[3,"newSearch","valueChanged"],[3,"valueChanged"],[1,"table-container"],[1,"w-100","rounded"],[1,"border-bottom","fs-12","simibold"],[1,"text-left","py-1",2,"width","250px"],[1,"text-left","py-1",2,"width","100px"],[1,"text-left","py-1"],[1,"table-body"],["class","border-bottom fs-12",4,"ngFor","ngForOf"],[1,"pagination-content","flex","aic","jcsb","py-1","bg-white","border-top","border-bottom","px-4"],[1,"flex","aic"],[1,"fs-12","simibold"],["type","number","min","1",1,"input","ml-75","limit","text-center","py-50","px-0",2,"width","50px",3,"ngModel","ngModelChange"],[1,"ml-50","primary","fs-12"],[3,"maxSize","directionLinks","previousLabel","nextLabel","pageChange"],[1,"fs-12","simibold","pr-3"],[1,"primary"],[1,"border-bottom","fs-12"],[3,"title","imgSrc","subTitle"],[1,"mr-25","bold"],[1,"bx","bxs-star","gold","fs-16"]],template:function(i,a){1&i&&(t.TgZ(0,"layout")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"search",5),t.NdJ("valueChanged",function(s){return a.search(s)}),t.qZA()(),t.TgZ(7,"div",4)(8,"app-date-range",6),t.NdJ("valueChanged",function(s){return a.dateChange(s)}),t.qZA()()(),t.TgZ(9,"div",7)(10,"table",8)(11,"thead")(12,"tr",9)(13,"th",10),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th",10),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"th",11),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"th",12),t._uU(23),t.ALo(24,"translate"),t.qZA()()(),t.TgZ(25,"tbody",13),t.YNc(26,E,12,8,"tr",14),t.ALo(27,"paginate"),t.qZA()()()()(),t.TgZ(28,"div",15)(29,"div",16)(30,"p",17),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"input",18),t.NdJ("ngModelChange",function(s){return a.limit=s})("ngModelChange",function(){return a.changeLimit()}),t.qZA(),t.TgZ(34,"p",19),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"pagination-controls",20),t.NdJ("pageChange",function(s){return a.pageChanged(s)}),t.ALo(38,"translate"),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"p",21),t._uU(41),t.ALo(42,"translate"),t.TgZ(43,"span",22),t._uU(44),t.ALo(45,"arabicNumbers"),t.ALo(46,"translate"),t.qZA()()()()()),2&i&&(t.xp6(6),t.Q6J("newSearch",!0),t.xp6(8),t.Oqu(t.lcZ(15,16,"rater")),t.xp6(3),t.Oqu(t.lcZ(18,18,"rated")),t.xp6(3),t.Oqu(t.lcZ(21,20,"rate")),t.xp6(3),t.Oqu(t.lcZ(24,22,"comment")),t.xp6(3),t.Q6J("ngForOf",t.xi3(27,24,a.allRates,t.kEZ(41,Z,a.limit,a.page,a.totalItems))),t.xp6(5),t.hij("",t.lcZ(32,27,"pagination_per_page")," "),t.xp6(2),t.Q6J("ngModel",a.limit),t.xp6(2),t.Oqu(t.lcZ(36,29,"record")),t.xp6(2),t.Q6J("maxSize",7)("directionLinks",!0)("previousLabel",t.lcZ(38,31,"previous"))("nextLabel",t.lcZ(39,33,"next")),t.xp6(4),t.hij("",t.lcZ(42,35,"pagination_total_records")," "),t.xp6(3),t.AsE("",t.lcZ(45,37,a.totalItems)," ",t.lcZ(46,39,"record"),""))},dependencies:[_.JX,_._s,_.LS,r.u5,r.Fj,r.wV,r.JJ,r.qQ,r.On,p.ez,p.sg,C.Bz,m.$,h.g,c.aw,c.X$,u.G,M.m,O.S],styles:["[_nghost-%COMP%]     .search, [_nghost-%COMP%]     .ng-select{width:100%}[_nghost-%COMP%]     label{font-size:11px}.table-container[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{border:none;position:sticky;top:0;z-index:1}tbody[_ngcontent-%COMP%]{padding-bottom:5px}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-block:10px;padding-inline:15px;border:none;font-size:12px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding-inline:15px;border:none}tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.btn[_ngcontent-%COMP%]{display:inline-block;height:41.2px}.aie[_ngcontent-%COMP%]{align-items:end}.table-filter-content[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.table-container[_ngcontent-%COMP%]{max-height:calc(100vh - 265px);height:calc(100vh - 265px);overflow:auto}.pagination-content[_ngcontent-%COMP%]{margin-top:-5px}.gold[_ngcontent-%COMP%]{color:#daa520}"]})}}return o})()}}]);