"use strict";(self.webpackChunktaskedin=self.webpackChunktaskedin||[]).push([[3368],{52619:(N,I,e)=>{e.d(I,{C:()=>Z});var t=e(96814),l=e(65879);function r(g,M){if(1&g){const v=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(v);const C=l.oxw();return l.KtG(C.switchLanguage("en"))}),l._UZ(1,"img",3),l.qZA()}}function b(g,M){if(1&g){const v=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(v);const C=l.oxw();return l.KtG(C.switchLanguage("ar"))}),l._UZ(1,"img",4),l.qZA()}}let Z=(()=>{class g{constructor(){this.language=localStorage.getItem("language")||"en"}switchLanguage(v){localStorage.setItem("language",v),window.location.reload()}static{this.\u0275fac=function(u){return new(u||g)}}static{this.\u0275cmp=l.Xpm({type:g,selectors:[["language"]],standalone:!0,features:[l.jDz],decls:3,vars:2,consts:[[1,"flags","pointer"],["class","img",3,"click",4,"ngIf"],[1,"img",3,"click"],["src","assets/images/flags/en.png","alt","","width","30"],["src","assets/images/flags/ar.png","alt","","width","30"]],template:function(u,C){1&u&&(l.TgZ(0,"div",0),l.YNc(1,r,2,0,"div",1),l.YNc(2,b,2,0,"div",1),l.qZA()),2&u&&(l.xp6(1),l.Q6J("ngIf","ar"==C.language),l.xp6(1),l.Q6J("ngIf","en"==C.language))},dependencies:[t.ez,t.O5],encapsulation:2})}}return g})()},34407:(N,I,e)=>{e.d(I,{g:()=>f});var t=e(65879),l=e(96814),r=e(824),b=e(64190),Z=e(92596),g=e(89515),M=e(17476);function v(m,O){if(1&m&&t._UZ(0,"img",9),2&m){const p=t.oxw(2).$implicit;t.Q6J("ngSrc",p.img)}}function u(m,O){if(1&m&&t._UZ(0,"i"),2&m){const p=t.oxw(2).$implicit;t.Gre("bx ",p.icon," fs-24")}}function C(m,O){if(1&m){const p=t.EpF();t.TgZ(0,"a",6),t.NdJ("click",function(){t.CHM(p);const S=t.oxw().$implicit,a=t.oxw();return t.KtG(a.routeMe(S))}),t.ALo(1,"translate"),t.YNc(2,v,1,1,"img",7),t.YNc(3,u,1,3,"i",8),t.qZA()}if(2&m){const p=t.oxw().$implicit;t.Gre("item d-block img ",p.beta?"beta":"",""),t.Q6J("routerLink",p.link)("matTooltip",t.lcZ(1,7,p.tooltip)),t.xp6(2),t.Q6J("ngIf",p.img),t.xp6(1),t.Q6J("ngIf",p.icon)}}function y(m,O){if(1&m&&(t.ynx(0),t.YNc(1,C,4,9,"a",5),t.BQk()),2&m){const p=O.$implicit,h=t.oxw();t.xp6(1),t.Q6J("ngIf",h.shouldDisplayLink(p))}}let f=(()=>{class m{constructor(){this.list=[],this.router=(0,t.f3M)(b.F0),this.rolesSer=(0,t.f3M)(M.f)}shouldDisplayLink(p){const h=!!localStorage.getItem("is-super-admin"),S=!localStorage.getItem("space-id");if(!this.rolesSer.rolesLoaded$.value&&!h)return!1;if(h&&S&&!p.roles?.includes("taskedin-super-admin"))return 0===p.excludeRoles?.length;{const a=this.rolesSer.getUserRoles(),E=!p.roles||0===p.roles.length||p.roles.some(x=>a?.includes(x)),P=p.excludeRoles&&p.excludeRoles.some(x=>a?.includes(x));return E&&!P}}routeMe(p){localStorage.getItem("space-id"),this.router.navigate([p.defaultRoute||p.link])}static{this.\u0275fac=function(h){return new(h||m)}}static{this.\u0275cmp=t.Xpm({type:m,selectors:[["main-sidebar"]],inputs:{list:"list"},standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[["magicScroll","",1,"main-sidebar","h-100v","bg-white","border-right","py-1"],["routerLink","/home",1,"img","text-center","logo","pointer"],["ngSrc","assets/images/logo/logo.png","alt","Taskedin logo","width","27","height","24"],[1,"items-list","mt-2","ml-50"],[4,"ngFor","ngForOf"],["routerLinkActive","active primary-image-container","matTooltipPosition","after","matTooltipClass","tooltip",3,"class","routerLink","matTooltip","click",4,"ngIf"],["routerLinkActive","active primary-image-container","matTooltipPosition","after","matTooltipClass","tooltip",3,"routerLink","matTooltip","click"],["alt","Taskedin logo","width","24","height","24","class","convert-image-color",3,"ngSrc",4,"ngIf"],[3,"class",4,"ngIf"],["alt","Taskedin logo","width","24","height","24",1,"convert-image-color",3,"ngSrc"]],template:function(h,S){1&h&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,y,2,1,"ng-container",4),t.qZA()()),2&h&&(t.xp6(4),t.Q6J("ngForOf",S.list))},dependencies:[l.ez,l.sg,l.O5,r.h,l.Zd,b.rH,b.Od,Z.AV,Z.gM,g.aw,g.X$],styles:['.main-sidebar[_ngcontent-%COMP%]{width:48px}.main-sidebar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-top:1.4rem}.main-sidebar[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{position:relative;padding:5px 7px;border-end-start-radius:1.2rem;border-start-start-radius:1.2rem}.main-sidebar[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .bx[_ngcontent-%COMP%]{color:#9c9c9c}.main-sidebar[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:5px}.main-sidebar[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{background-color:#7b58ca26}.main-sidebar[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .bx[_ngcontent-%COMP%]{color:#7b58ca}.main-sidebar[_ngcontent-%COMP%]   .item.beta[_ngcontent-%COMP%]:before{content:"";height:10px;width:10px;border-radius:50%;background-color:#ea5455;position:absolute;margin-inline-start:-9px;top:-2px}']})}}return m})()},55006:(N,I,e)=>{e.d(I,{o:()=>At});var t=e(65879),l=e(96814),r=e(89515),b=e(68012),Z=e(6311),g=e(32296),M=e(63934),v=e(45843),u=e(824),C=e(17857),y=e(64190);function f(o,d){1&o&&(t.TgZ(0,"div",7),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"current")," "))}function m(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,c=t.oxw();return t.KtG(c.switchSpace(s))}),t.TgZ(1,"div",3),t._UZ(2,"user-image",4),t.TgZ(3,"p",5),t._uU(4),t.qZA()(),t.YNc(5,f,3,3,"div",6),t.qZA()}if(2&o){const n=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("img",n.spaceLogo)("dim",32),t.xp6(2),t.Oqu(n.spaceName),t.xp6(1),t.Q6J("ngIf",i.currentSpaceId==n.spaceId)}}function O(o,d){if(1&o&&(t.ynx(0),t.YNc(1,m,6,4,"div",1),t.BQk()),2&o){const n=d.$implicit;t.xp6(1),t.Q6J("ngIf","90817"!=n.spaceId)}}let p=(()=>{class o{constructor(){this.service=(0,t.f3M)(C.s),this.userSer=(0,t.f3M)(M.K),this.spaces$=this.service.spaces$,this.currentSpaceId=localStorage.getItem("space-id"),this.router=(0,t.f3M)(y.F0)}switchSpace(n){this.service.switchSpace(n.spaceId).subscribe(i=>{i.success&&9954!==i.code&&(localStorage.setItem("space-id",n.spaceId),localStorage.setItem("base-url",n.baseUrl),localStorage.setItem("chat-id",n.chatId),this.userSer.getMyProfile(n.spaceId,n.baseUrl).subscribe(s=>{if(s.success)window.location.href="/";else if(401==s.code){let c=localStorage.getItem("token")||"",T=localStorage.getItem("language")||"en";localStorage.clear(),localStorage.setItem("token",c),localStorage.setItem("language",T),this.router.navigate(["/welcome"])}}))})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["space-list"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],["class","space pointer border-bottom flex aic jcsb gap-x-1 py-1 px-2",3,"click",4,"ngIf"],[1,"space","pointer","border-bottom","flex","aic","jcsb","gap-x-1","py-1","px-2",3,"click"],[1,"flex","aic","gap-x-1"],[3,"img","dim"],[1,"line-height"],["class","flex-center bg-light-primary-2 rounded-5 px-1 py-50 primary current",4,"ngIf"],[1,"flex-center","bg-light-primary-2","rounded-5","px-1","py-50","primary","current"]],template:function(i,s){1&i&&(t.YNc(0,O,2,1,"ng-container",0),t.ALo(1,"async")),2&i&&t.Q6J("ngForOf",t.lcZ(1,1,s.spaces$))},dependencies:[l.ez,l.sg,l.O5,l.Ov,v.l,r.aw,r.X$],styles:[".space[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}"]})}}return o})();var h=e(17700),S=e(83318),a=e(57368);class E{constructor(d,n){this._document=n;const i=this._textarea=this._document.createElement("textarea"),s=i.style;s.position="fixed",s.top=s.opacity="0",s.left="-999em",i.setAttribute("aria-hidden","true"),i.value=d,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){const d=this._textarea;let n=!1;try{if(d){const i=this._document.activeElement;d.select(),d.setSelectionRange(0,d.value.length),n=this._document.execCommand("copy"),i&&i.focus()}}catch{}return n}destroy(){const d=this._textarea;d&&(d.remove(),this._textarea=void 0)}}let P=(()=>{class o{constructor(n){this._document=n}copy(n){const i=this.beginCopy(n),s=i.copy();return i.destroy(),s}beginCopy(n){return new E(n,this._document)}static{this.\u0275fac=function(i){return new(i||o)(t.LFG(l.K0))}}static{this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const x=new t.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let U=(()=>{class o{constructor(n,i,s){this._clipboard=n,this._ngZone=i,this.text="",this.attempts=1,this.copied=new t.vpe,this._pending=new Set,s&&null!=s.attempts&&(this.attempts=s.attempts)}copy(n=this.attempts){if(n>1){let i=n;const s=this._clipboard.beginCopy(this.text);this._pending.add(s);const c=()=>{const T=s.copy();T||! --i||this._destroyed?(this._currentTimeout=null,this._pending.delete(s),s.destroy(),this.copied.emit(T)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(c,1))};c()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(n=>n.destroy()),this._pending.clear(),this._destroyed=!0}static{this.\u0275fac=function(i){return new(i||o)(t.Y36(P),t.Y36(t.R0b),t.Y36(x,8))}}static{this.\u0275dir=t.lG2({type:o,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(i,s){1&i&&t.NdJ("click",function(){return s.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}})}}return o})(),Q=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.oAB({type:o})}static{this.\u0275inj=t.cJS({})}}return o})();var J=e(99758),F=e(49388),B=e(58964),Y=e(1350),L=e(88939),A=e(56223),$=e(74100),R=e(54807);function G(o,d){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.name)}}function H(o,d){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij("",t.Dn7(2,1,n.name,0,20),"...")}}function z(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28),t.YNc(3,G,2,1,"p",29),t.YNc(4,H,3,5,"p",29),t.qZA(),t.TgZ(5,"div",30),t.NdJ("click",function(){const c=t.CHM(n).index,T=t.oxw();return t.KtG(T.removeFile(c))}),t._UZ(6,"i",31),t.qZA()()()}if(2&o){const n=d.$implicit;t.xp6(3),t.Q6J("ngIf",n.name.length<=20),t.xp6(1),t.Q6J("ngIf",n.name.length>20)}}function W(o,d){if(1&o){const n=t.EpF();t.ynx(0,32),t.NdJ("click",function(){const c=t.CHM(n).openFileSelector;return t.KtG(c())}),t.TgZ(1,"div",33),t._UZ(2,"img",34),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.BQk()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"drop_files")),t.xp6(3),t.Oqu(t.lcZ(8,4,"up_to_5_mb")))}const X=function(o){return{"mb-1":o}};let V=(()=>{class o{constructor(n,i,s,c){this.userProfileSer=n,this.fb=i,this.alert=s,this.dialog=c,this.userProfile=this.userProfileSer.user$.value,this.attachments=[],this.loading=!1,this.categories$=this.userProfileSer.getCategories(),this.form=this.fb.group({subject:["",A.kI.required],message:["",A.kI.required],category:[null,A.kI.required]})}send(){if(this.form.valid){this.loading=!0;let n=new FormData;n.append("username",this.userProfile.name),n.append("email",this.userProfile.email),n.append("phone",this.userProfile.phoneNumber),n.append("subject",this.form.value.subject),n.append("category",this.form.value.category),n.append("message",this.form.value.message),this.sound&&n.append("ticket[]",this.sound);for(let i=0;i<this.attachments.length;i++)n.append("ticket[]",this.attachments[i]);(this.attachments.length>0||this.sound)&&this.alert.showAlert("file_uploading","bg-primary",8e8),this.userProfileSer.raiseIssue(n).subscribe(i=>{i.success?(this.dialog.closeAll(),this.alert.showAlert("issue_sent")):this.loading=!1})}}dropped(n){for(const i of n)i.fileEntry.file(c=>{this.attachments.push(c)});this.attachments.length>4&&(this.attachments.length=4)}removeFile(n){this.attachments.splice(n,1)}get f(){return this.form.controls}static{this.\u0275fac=function(i){return new(i||o)(t.Y36(M.K),t.Y36(A.qu),t.Y36(J.c),t.Y36(h.uw))}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["report-problem"]],standalone:!0,features:[t.jDz],decls:37,vars:29,consts:[["dir","auto",1,"raise-issue"],["mat-dialog-content",""],[3,"formGroup"],[1,"module"],["key","module",3,"control"],["formControlName","category","appendTo","body","bindLabel","name","bindValue","id",3,"items","closeOnSelect","multiple"],[3,"control"],[1,"subject","mt-2"],["key","subject",3,"control","maxLength"],["type","text","formControlName","subject","maxlength","250",1,"input"],[1,"message","mt-2"],["key","message",3,"control"],["rows","5","formControlName","message",1,"input"],[1,"record","mt-2"],["key","sound_description"],[3,"soundDescription"],[1,"attachments","mt-2"],["key","attachments"],[1,"flex-grid","gap-y-1",3,"ngClass"],["class","col-lg-6",4,"ngFor","ngForOf"],[1,"mt-50","pointer"],["accept","image/*, video/*, audio/*",3,"multiple","onFileDrop"],["ngx-file-drop-content-tmp",""],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary",1,"border","border-dark","px-3","mr-1","shadow-0",3,"disabled","click"],["mat-raised-button","","mat-dialog-close","",1,"border","border-dark","px-2","shadow-0"],[1,"col-lg-6"],[1,"attachment-card","p-1","bg-gray","rounded","flex","jcsb","aic"],[1,"start","flex","aic"],[4,"ngIf"],[1,"end","img","pointer",3,"click"],[1,"bx","bx-x","danger","fs-23"],[3,"click"],[1,"img","mb-50"],["src","assets/images/icons/attachments.svg","width","25","alt",""]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",1)(5,"form",2)(6,"div",3),t._UZ(7,"input-label",4)(8,"ng-select",5),t.ALo(9,"async"),t._UZ(10,"input-error",6),t.qZA(),t.TgZ(11,"div",7)(12,"form",2),t._UZ(13,"input-label",8)(14,"input",9)(15,"input-error",6),t.qZA()(),t.TgZ(16,"div",10),t._UZ(17,"input-label",11)(18,"textarea",12)(19,"input-error",6),t.qZA(),t.TgZ(20,"div",13),t._UZ(21,"input-label",14),t.TgZ(22,"record",15),t.NdJ("soundDescription",function(T){return s.sound=T}),t.qZA()(),t.TgZ(23,"div",16),t._UZ(24,"input-label",17),t.TgZ(25,"div",18),t.YNc(26,z,7,2,"div",19),t.qZA(),t.TgZ(27,"label",20)(28,"ngx-file-drop",21),t.NdJ("onFileDrop",function(T){return s.dropped(T)}),t.YNc(29,W,9,6,"ng-template",22),t.qZA()()()()(),t.TgZ(30,"div",23)(31,"button",24),t.NdJ("click",function(){return s.send()}),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"button",25),t._uU(35),t.ALo(36,"translate"),t.qZA()()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,19,"raise_issue")),t.xp6(3),t.Q6J("formGroup",s.form),t.xp6(2),t.Q6J("control",s.f.category),t.xp6(1),t.Q6J("items",t.lcZ(9,21,s.categories$))("closeOnSelect",!0)("multiple",!1),t.xp6(2),t.Q6J("control",s.f.category),t.xp6(2),t.Q6J("formGroup",s.form),t.xp6(1),t.Q6J("control",s.f.subject)("maxLength",250),t.xp6(2),t.Q6J("control",s.form.controls.subject),t.xp6(2),t.Q6J("control",s.f.message),t.xp6(2),t.Q6J("control",s.f.message),t.xp6(6),t.Q6J("ngClass",t.VKq(27,X,s.attachments.length>0)),t.xp6(1),t.Q6J("ngForOf",s.attachments),t.xp6(2),t.Q6J("multiple",!0),t.xp6(3),t.Q6J("disabled",s.loading),t.xp6(1),t.Oqu(t.lcZ(33,23,"send")),t.xp6(3),t.Oqu(t.lcZ(36,25,"cancel")))},dependencies:[l.ez,l.mk,l.sg,l.O5,l.Ov,l.OU,F.vT,F.Lv,B.w,Y.i,g.ot,g.lW,h.Is,h.ZT,h.xY,h.H8,L.Yi,L.CB,L.L9,A.UX,A._Y,A.Fj,A.JJ,A.JL,A.nD,A.sg,A.u,$.H,r.aw,r.X$,R.A0,R.w9]})}}return o})();function k(o,d){if(1&o){const n=t.EpF();t.ynx(0),t._UZ(1,"user-image",1,2),t.TgZ(3,"mat-menu",3,4)(5,"div",5),t.NdJ("click",function(s){return s.stopImmediatePropagation()}),t._UZ(6,"user-image",6),t.TgZ(7,"div",7),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",8),t._uU(11),t.qZA(),t.TgZ(12,"div",9),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.copy())}),t.TgZ(13,"p",10)(14,"span",11),t._uU(15),t.qZA(),t._UZ(16,"i",12),t.qZA()(),t.TgZ(17,"div",13),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"div",14)(21,"div",15),t._UZ(22,"space-list"),t.qZA(),t.TgZ(23,"button",16),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.joinSpace())}),t._UZ(24,"img",17),t.TgZ(25,"p"),t._uU(26),t.ALo(27,"translate"),t.qZA()(),t.TgZ(28,"button",16),t.NdJ("click",function(){t.CHM(n);const s=t.MAs(2),c=t.oxw();return t.KtG(c.raiseIssue(s))}),t._UZ(29,"img",18),t.TgZ(30,"p"),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.TgZ(33,"button",19),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.logout())}),t._UZ(34,"img",20),t.TgZ(35,"p"),t._uU(36),t.ALo(37,"translate"),t.qZA()()(),t.TgZ(38,"div",21)(39,"p"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"p"),t._uU(43,"."),t.qZA(),t.TgZ(44,"p"),t._uU(45),t.ALo(46,"translate"),t.qZA()()()(),t.BQk()}if(2&o){const n=d.ngIf,i=t.MAs(4);t.xp6(1),t.Q6J("matMenuTriggerFor",i)("img",n.imageUrl)("dim",32),t.xp6(5),t.Q6J("img",n.imageUrl)("dim",70),t.xp6(2),t.AsE("",t.lcZ(9,16,"hi"),", ",n.name,"!"),t.xp6(3),t.Oqu(n.phoneNumber),t.xp6(1),t.Q6J("cdkCopyToClipboard",n.memberCode),t.xp6(3),t.Oqu(n.memberCode),t.xp6(3),t.hij(" ",t.lcZ(19,18,"manage_your_account")," "),t.xp6(8),t.Oqu(t.lcZ(27,20,"join_space")),t.xp6(5),t.Oqu(t.lcZ(32,22,"raise_issue")),t.xp6(5),t.Oqu(t.lcZ(37,24,"sign_out")),t.xp6(4),t.Oqu(t.lcZ(41,26,"privacy_policy")),t.xp6(5),t.Oqu(t.lcZ(46,28,"terms_of_service"))}}let w=(()=>{class o{constructor(){this.userService=(0,t.f3M)(M.K),this.user$=this.userService.user$,this.dialog=(0,t.f3M)(h.uw),this.router=(0,t.f3M)(y.F0),this.alert=(0,t.f3M)(J.c)}joinSpace(){this.dialog.open(a.p,{panelClass:"small-dialog"})}copy(){this.alert.showAlert("copied")}raiseIssue(n){n.closeMenu(),this.dialog.open(V,{width:"600px",panelClass:"raise-issue-dialog"})}logout(){this.dialog.open(S.v,{panelClass:"small-dialog",data:{message:"logout_message",btn_name:"logout",classes:"bg-primary white"}}).afterClosed().subscribe(i=>{if(i){let s=localStorage.getItem("language")||"en",c=localStorage.getItem("mode")||"light";localStorage.clear(),localStorage.setItem("language",s),localStorage.setItem("mode",c),this.router.navigate(["/auth/login"])}})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["user-card"]],standalone:!0,features:[t.jDz],decls:2,vars:3,consts:[[4,"ngIf"],[1,"pointer",3,"matMenuTriggerFor","img","dim"],["menuTrigger","matMenuTrigger"],[1,"user-card-menu","bg-gray"],["menu","matMenu"],[1,"p-1","text-center","mt-1",3,"click"],[3,"img","dim"],[1,"name","mt-1","bold","primary","fs-18"],[1,"phone"],[1,"manager-code",3,"cdkCopyToClipboard","click"],[1,"flex-center","pointer","mt-25","primary"],[1,"fs-16","mr-25"],[1,"bx","bx-copy","fs-16"],["routerLink","/settings",1,"edit-profile","border","py-1","px-2","inline-block","mt-75","primary","fs-14","pointer"],[1,"spaces","mt-1","text-left"],["magicScroll","",1,"all-spaces","bg-white"],[1,"clickable-btn","w-100","fs-17","border-bottom","bg-white","py-1","px-2","flex","aic","gap-x-1",3,"click"],["alt","action icon","src","assets/images/icons/join.svg",1,"convert-image-color"],["alt","action icon","src","assets/images/icons/info.svg",1,"convert-image-color"],[1,"clickable-btn","fs-17","w-100","bg-white","py-1","px-2","rounded-bl-5","rounded-br-5","flex","aic","gap-x-1","pointer",3,"click"],["alt","action icon","src","assets/images/icons/welcome-logout.svg",1,"convert-image-color"],[1,"terms","flex-center","gap-x-1","fs-14","mt-1"]],template:function(i,s){1&i&&(t.YNc(0,k,47,30,"ng-container",0),t.ALo(1,"async")),2&i&&t.Q6J("ngIf",t.lcZ(1,1,s.user$))},dependencies:[l.ez,l.O5,l.Ov,Z.Tx,Z.VK,Z.p6,g.ot,v.l,r.aw,r.X$,u.h,p,y.rH,Q,U],styles:[".edit-profile[_ngcontent-%COMP%]{border-radius:2.5rem}"]})}}return o})();var q=e(52619),_=e(52081),tt=e(9619),et=e(37398),nt=e(65619),D=e(20553),ot=e(69862);let it=(()=>{class o{constructor(n,i){this.http=n,this.translate=i,this.notifications=new nt.X([]),this.notificationsValue=[],this.notifications.subscribe(s=>this.notificationsValue=s)}getNotifications(n){return this.http.get(`${D.N.apiUrl}api/Notification/Get?limit=30&page=${n}`).pipe((0,et.U)(i=>{let s=i.data.items;return s.forEach(c=>{9!=c.notificationTypeId&&14!=c.notificationTypeId&&15!=c.notificationTypeId&&16!=c.notificationTypeId&&17!=c.notificationTypeId&&(c.message=c.message+` ${this.translate.instant("by")} ${c.fromUserName}`)}),this.notifications.next([...this.notificationsValue,...s]),i}))}markAsSeen(n){return this.http.put(`${D.N.apiUrl}api/Notification/UpdateSeen`,{id:n})}markAllNotificationsAsSeen(){return this.http.put(`${D.N.apiUrl}api/Notification/UpdateAllAsSeen`,{})}static{this.\u0275fac=function(i){return new(i||o)(t.LFG(ot.eN),t.LFG(r.sK))}}static{this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var st=e(9174);const at=["container"];function lt(o,d){1&o&&t._UZ(0,"span",12)}function rt(o,d){if(1&o&&(t.TgZ(0,"div",13),t._uU(1),t.ALo(2,"arabicNumbers"),t.ALo(3,"translate"),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.AsE("",t.lcZ(2,2,n.unSeen)," ",t.lcZ(3,4,"new"),"")}}const ct=function(o){return{"":o}},dt=function(o){return{black:o}};function mt(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){const c=t.CHM(n).$implicit,T=t.oxw();return t.KtG(T.markAsSeen(c))}),t._UZ(1,"user-image",15),t.TgZ(2,"div",16)(3,"h3",17),t._uU(4),t.qZA(),t.TgZ(5,"p",18),t._uU(6),t.qZA(),t.TgZ(7,"small",19),t._uU(8),t.ALo(9,"arabicDate"),t.qZA()()()}if(2&o){const n=d.$implicit;t.xp6(1),t.Q6J("img",n.fromUserImageUrl),t.xp6(2),t.Q6J("ngClass",t.VKq(9,ct,!n.isSeen)),t.xp6(1),t.Oqu(n.title),t.xp6(1),t.Q6J("ngClass",t.VKq(11,dt,!n.isSeen)),t.xp6(1),t.Oqu(n.message),t.xp6(2),t.Oqu(t.xi3(9,6,n.creationDate,"long"))}}function gt(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",20)(1,"button",21),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.markAllAsSeen())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"mark_as_read")))}const pt=function(o){return{active:o}};let ht=(()=>{class o{constructor(n,i,s){this.service=n,this.router=i,this.voteDetailsSer=s,this.notifications=[],this.menuOpen=!0,this.page=2}ngOnInit(){this.service.notifications.subscribe(n=>{this.notifications=n}),this.getNotifications()}ngAfterViewInit(){this.onScroll()}onScroll(){this.container.nativeElement.addEventListener("scroll",()=>{this.container.nativeElement.scrollTop+900>=this.container.nativeElement.scrollHeight&&this.totalItems>this.notifications.length&&(clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.service.getNotifications(this.page).subscribe(()=>{this.page++})},700))})}getNotifications(){this.service.getNotifications(1).subscribe(n=>{this.notifications=n.data.items,this.unSeen=n.data.totalUnSeen,this.totalItems=n.data.totalItems})}markAsSeen(n){this.menuOpen=!0,this.service.markAsSeen(n.id).subscribe(()=>{this.notifications.forEach(i=>{i.id===n.id&&(n.isSeen=!0,this.unSeen--)}),3!=n.notificationTypeId&&24!=n.notificationTypeId&&(n.notificationTypeId>0&&n.notificationTypeId<18&&13!=n.notificationTypeId&&16!=n.notificationTypeId?this.router.navigate([`/tasks/details/${n.typeObjectId}`]):13==n.notificationTypeId?this.router.navigate(["/company/requests"]):n.notificationTypeId>18&&n.notificationTypeId<24?(this.voteDetailsSer.id.next(n.typeObjectId),this.voteDetailsSer.hasChanged.next(!0),this.router.navigate([`/votes/details/${n.typeObjectId}`])):n.notificationTypeId>23&&n.notificationTypeId<26&&this.router.navigate(["/admin/subscription/details"]),4==n.notificationCategoryId&&this.router.navigate(["/hr/leaves-requests/details/"+n.typeObjectId]),5==n.notificationCategoryId&&this.router.navigate(["/hr/overtime/details/"+n.typeObjectId])),41==n.notificationTypeId&&this.router.navigate(["/kpis/rater-kpis/ "+n.typeObjectId]),42==n.notificationTypeId&&this.router.navigate(["/kpis/details/ "+n.typeObjectId])})}markAllAsSeen(){this.menuOpen=!0,this.service.markAllNotificationsAsSeen().subscribe(()=>{this.notifications.forEach(n=>{n.isSeen=!0,this.unSeen=0})})}onClick(n){this.menuOpen||(this.menuOpen=!0)}trackBy(n,i){return i.id}static{this.\u0275fac=function(i){return new(i||o)(t.Y36(it),t.Y36(y.F0),t.Y36(st.z))}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["notifications"]],viewQuery:function(i,s){if(1&i&&t.Gf(at,5),2&i){let c;t.iGM(c=t.CRH())&&(s.container=c.first)}},hostBindings:function(i,s){1&i&&t.NdJ("click",function(T){return s.onClick(T)},!1,t.evT)},standalone:!0,features:[t.jDz],decls:15,vars:11,consts:[[1,"notification-container","relative"],[1,"bell","relative","clickable-btn","flex"],[1,"img",3,"click"],["ngSrc","assets/images/icons/notification.svg","alt","notification icon","width","27","height","27",1,"convert-image-color"],["class","red-dot",4,"ngIf"],[1,"menu","shadow","rounded-3","bg-white",3,"ngClass","click"],[1,"header","border-bottom","flex","aic","jcsb","p-2"],["class","py-1 px-2 bg-light-primary-1 rounded-5",4,"ngIf"],["magicScroll","40rem",1,"all-notifications"],["container",""],["class","notification-content flex border-bottom aifs px-2 py-1 pointer",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","read p-2 border-top",4,"ngIf"],[1,"red-dot"],[1,"py-1","px-2","bg-light-primary-1","rounded-5"],[1,"notification-content","flex","border-bottom","aifs","px-2","py-1","pointer",3,"click"],[3,"img"],[1,"right-side","ml-1"],[1,"fs-12","simibold","one-line",3,"ngClass"],[1,"fs-14",3,"ngClass"],[1,"fs-13"],[1,"read","p-2","border-top"],["color","primary","mat-raised-button","",1,"d-block","w-100",3,"click"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"button",1)(2,"div",2),t.NdJ("click",function(T){return T.stopImmediatePropagation(),s.menuOpen=!s.menuOpen}),t._UZ(3,"img",3),t.qZA(),t.YNc(4,lt,1,0,"span",4),t.qZA(),t.TgZ(5,"div",5),t.NdJ("click",function(T){return T.stopImmediatePropagation()}),t.TgZ(6,"div",6)(7,"h4"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,rt,4,6,"div",7),t.qZA(),t.TgZ(11,"div",8,9),t.YNc(13,mt,10,13,"div",10),t.qZA(),t.YNc(14,gt,4,3,"div",11),t.qZA()()),2&i&&(t.xp6(4),t.Q6J("ngIf",s.unSeen>0),t.xp6(1),t.Q6J("ngClass",t.VKq(9,pt,!s.menuOpen)),t.xp6(3),t.Oqu(t.lcZ(9,7,"notifications")),t.xp6(2),t.Q6J("ngIf",s.unSeen>0),t.xp6(3),t.Q6J("ngForOf",s.notifications)("ngForTrackBy",s.trackBy),t.xp6(1),t.Q6J("ngIf",s.unSeen>0))},dependencies:[l.ez,l.mk,l.sg,l.O5,v.l,l.Zd,r.aw,r.X$,_.m,u.h,g.ot,g.lW,tt.P],styles:["[_ngcontent-%COMP%]:root{--primary: #7b58ca;--light-primary: #7b58ca80;--dark-color: #707070;--gray: #FAF9FD;--success: #29CC99;--danger: #ea5455;--canceled: #C7C7CC;--warning: #F69E42;--info: #007AFF;--dark-white: #283046;--dark-gray: #161D31;--white-color: #b4b7bd;--dark-border: #404656;--border-color: #e7e7e7;--closed: rgba(234, 84, 85, .53)}.primary[_ngcontent-%COMP%]{color:#7b58ca!important}.bg-primary[_ngcontent-%COMP%]{background:#7b58ca!important}.bg-light-primary-10[_ngcontent-%COMP%]{background:rgba(123,88,202,.1)!important}.light-primary[_ngcontent-%COMP%]{color:#7b58ca80!important}.bg-light-primary[_ngcontent-%COMP%]{background:rgba(123,88,202,.5019607843)!important}.closed-color[_ngcontent-%COMP%]{color:#ea545587!important}.bg-closed-color[_ngcontent-%COMP%]{background:rgba(234,84,85,.53)!important}.bg-archived[_ngcontent-%COMP%]{background:#c5c5c5!important}.bg-light-success-1[_ngcontent-%COMP%]{color:#29cc99b5;background-color:#f7fffa}.bg-light-primary-1[_ngcontent-%COMP%]{color:#7b58ca;background:#fbf9ff}.bg-light-warning-2[_ngcontent-%COMP%]{color:#f69e42;background-color:#f69e4233!important}.bg-light-primary-2[_ngcontent-%COMP%]{color:#7b58ca;background-color:#7b58ca33!important}.bg-light-success-2[_ngcontent-%COMP%]{color:#29cc99;background-color:#29cc991a!important}.bg-light-canceled-2[_ngcontent-%COMP%]{color:#c7c7cc;background-color:#c7c7cc33!important}.bg-light-danger-1[_ngcontent-%COMP%]{color:#ea5455;background-color:#fff3f3}.border-primary[_ngcontent-%COMP%]{border:1px solid #7b58ca!important}.red-dot[_ngcontent-%COMP%]{position:absolute;top:1px;inset-inline-end:4px;background-color:#ea5455;border-radius:50%;height:7px;width:7px}.menu[_ngcontent-%COMP%]{position:absolute;top:50px;inset-inline-end:-50px;opacity:0;width:min(88vw,500px);transition:all .1s linear;background-color:#fff;cursor:auto;visibility:hidden;z-index:100}.menu[_ngcontent-%COMP%]   .all-notifications[_ngcontent-%COMP%]{overflow-x:hidden!important}.menu[_ngcontent-%COMP%]   .all-notifications[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]:hover{background-color:#8080801a}.active.menu[_ngcontent-%COMP%]{opacity:1!important;visibility:visible!important;z-index:1111}"]})}}return o})();function ut(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"i",3),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.switchMode("dark"))}),t.qZA()}}function ft(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"i",4),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.switchMode("light"))}),t.qZA()}}let vt=(()=>{class o{constructor(){this.mode=localStorage.getItem("mode")||"light"}switchMode(n){localStorage.setItem("mode",n),this.mode=n,"dark"==n?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["dark-mode"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[1,"mode","pointer","line-height"],["class","bx bx-moon fs-25",3,"click",4,"ngIf"],["class","bx bx-sun fs-25",3,"click",4,"ngIf"],[1,"bx","bx-moon","fs-25",3,"click"],[1,"bx","bx-sun","fs-25",3,"click"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0),t.YNc(1,ut,1,0,"i",1),t.YNc(2,ft,1,0,"i",2),t.qZA()),2&i&&(t.xp6(1),t.Q6J("ngIf","light"==s.mode),t.xp6(1),t.Q6J("ngIf","dark"==s.mode))},dependencies:[l.ez,l.O5],encapsulation:2})}}return o})();var Ct=e(17476),j=e(52341),xt=e(6593);let Tt=(()=>{class o{constructor(){this.service=(0,t.f3M)(j.Z),this.sanitizer=(0,t.f3M)(xt.H7),this.baseUrl="https://www.youtube.com/embed/"}ngOnInit(){this.service.pageInfo.subscribe(n=>{this.url=this.sanitizer.bypassSecurityTrustResourceUrl(this.baseUrl+n)})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["page-info"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["width","100%","height","500","title","YouTube video player","frameborder","0","allow","accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen","",2,"display","block",3,"src"]],template:function(i,s){1&i&&t._UZ(0,"iframe",0),2&i&&t.Q6J("src",s.url,t.uOi)},dependencies:[l.ez,h.Is],encapsulation:2})}}return o})();var K=e(92596);function yt(o,d){if(1&o&&(t.TgZ(0,"h4"),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Oqu(n.spaceName)}}function Zt(o,d){1&o&&(t._UZ(0,"notifications",7),t.ALo(1,"translate")),2&o&&t.s9C("matTooltip",t.lcZ(1,1,"notifications"))}function Mt(o,d){1&o&&(t.TgZ(0,"div",10),t.ALo(1,"translate"),t._UZ(2,"img",11),t.qZA()),2&o&&t.s9C("matTooltip",t.lcZ(1,1,"chat"))}function bt(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.getInfo())}),t.ALo(1,"translate"),t._UZ(2,"i",13),t.qZA()}2&o&&t.s9C("matTooltip",t.lcZ(1,1,"info"))}function It(o,d){1&o&&(t._UZ(0,"user-card",7),t.ALo(1,"translate")),2&o&&t.s9C("matTooltip",t.lcZ(1,1,"profile"))}function Ot(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.logout())}),t._UZ(1,"img",15),t.qZA()}}let At=(()=>{class o{constructor(){this.rolesSer=(0,t.f3M)(Ct.f),this.dialog=(0,t.f3M)(h.uw),this.router=(0,t.f3M)(y.F0),this.pageInfoSer=(0,t.f3M)(j.Z),this.isSuperAdmin=localStorage.getItem("is-super-admin"),this.spaceName=localStorage.getItem("space-name")}getInfo(){this.dialog.open(Tt,{panelClass:"large-dialog"})}logout(){this.dialog.open(S.v,{panelClass:"small-dialog",data:{message:"logout_message",btn_name:"logout",classes:"bg-primary white"}}).afterClosed().subscribe(i=>{if(i){let s=localStorage.getItem("language")||"en";localStorage.clear(),localStorage.setItem("language",s),this.router.navigate(["/auth/login"])}})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=t.Xpm({type:o,selectors:[["user-navbar"]],standalone:!0,features:[t.jDz],decls:15,vars:12,consts:[[1,"user-navbar","relative","w-100","bg-white","flex","aic","jcsb","px-2","py-1"],[1,"flex","aic","gap-x-2"],[4,"ngIf"],[1,"a-center"],[1,"user","flex","aic"],[3,"matTooltip",4,"ngIf"],["class","img","routerLink","/chat",3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["class","page-info",3,"matTooltip","click",4,"ngIf"],["class","logout img right",3,"click",4,"ngIf"],["routerLink","/chat",1,"img",3,"matTooltip"],["src","assets/images/icons/messages.svg","alt","chat icon","width","28",1,"convert-image-color"],[1,"page-info",3,"matTooltip","click"],[1,"bx","bx-error-circle","bx-rotate-180","warning","fs-28"],[1,"logout","img","right",3,"click"],["src","assets/images/icons/welcome-logout.svg","alt","logout icon",1,"convert-image-color"]],template:function(i,s){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,yt,2,1,"h4",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"time-card"),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,Zt,2,3,"notifications",5),t.YNc(7,Mt,3,3,"div",6),t._UZ(8,"dark-mode",7),t.ALo(9,"translate"),t._UZ(10,"language",7),t.ALo(11,"translate"),t.YNc(12,bt,3,3,"div",8),t.YNc(13,It,2,3,"user-card",5),t.YNc(14,Ot,2,0,"div",9),t.qZA()()),2&i&&(t.xp6(2),t.Q6J("ngIf",s.isSuperAdmin),t.xp6(4),t.Q6J("ngIf",!s.isSuperAdmin),t.xp6(1),t.Q6J("ngIf",!s.isSuperAdmin),t.xp6(1),t.s9C("matTooltip",t.lcZ(9,8,"dark_mode")),t.xp6(2),t.s9C("matTooltip",t.lcZ(11,10,"language")),t.xp6(2),t.Q6J("ngIf",s.pageInfoSer.pageInfo.value),t.xp6(1),t.Q6J("ngIf",!s.isSuperAdmin),t.xp6(1),t.Q6J("ngIf",s.isSuperAdmin))},dependencies:[l.ez,l.O5,r.aw,r.X$,b.c,w,q.C,y.rH,ht,vt,K.AV,K.gM],styles:[".user[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:4.5rem;min-height:4.5rem;display:flex;align-items:center;justify-content:center;cursor:pointer;margin-inline-start:.3rem}.user[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:hover{border-radius:50%;background-color:#3c404314}.user-navbar[_ngcontent-%COMP%]{box-shadow:0 1px 1px #0000000a}"]})}}return o})()},52341:(N,I,e)=>{e.d(I,{Z:()=>v});var t=e(65619),l=e(94664),r=e(37398),b=e(52572),Z=e(20553),g=e(65879),M=e(69862);let v=(()=>{class u{constructor(y){this.http=y,this.hasChanged=new t.X(!1),this.pageInfo=new t.X(""),this.pageInfoEnum=new t.X(""),this.pageInfoList=this.hasChanged.pipe((0,l.w)(()=>this.getPageInfo().pipe((0,r.U)(f=>f)))),this.lang=localStorage.getItem("language")||"en",(0,b.a)([this.pageInfoEnum,this.pageInfoList]).subscribe(([f,m])=>{f?m.forEach(O=>{O.pageName===f&&this.pageInfo.next("ar"==this.lang?O.arLinkWeb:O.enLinkWeb)}):this.pageInfo.next("")})}getPageInfo(){return this.http.get(`${Z.N.apiUrl}api/ApplicationConfigration/GetVideos`).pipe((0,r.U)(y=>y.data))}updatePageInfo(y){return this.http.put(`${Z.N.apiUrl}api/ApplicationConfigration/UpdateVideo`,y)}static{this.\u0275fac=function(f){return new(f||u)(g.LFG(M.eN))}}static{this.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})()},9174:(N,I,e)=>{e.d(I,{z:()=>u});var t=e(20553),l=e(24708),r=e(65619),b=e(83620),Z=e(94664),g=e(37398),M=e(65879),v=e(69862);let u=(()=>{class C{constructor(f){this.http=f,this.hasChanged=new r.X(!1),this.details$=this.hasChanged.pipe((0,b.b)(400),(0,Z.w)(()=>this.getDetails().pipe((0,g.U)(m=>m)))),this.id=new r.X(0),this.loading=new r.X(!0)}getDetails(){return this.loading.next(!0),this.http.get(`${t.N.apiUrl}api/VoteFormAssignee/GetDetails?voteFormId=${this.id.value}`).pipe((0,g.U)(f=>{this.loading.next(!1);let m=f.data;return m.hasStarted=(0,l.u)(m.startDate).getTime()<(new Date).getTime(),m.hasEnded=(0,l.u)(m.endDate).getTime()<(new Date).getTime(),m}))}submitAnswers(f){return this.http.post(`${t.N.apiUrl}api/VoteFormQuestionChoiceAssignee/Create`,f)}static{this.\u0275fac=function(m){return new(m||C)(M.LFG(v.eN))}}static{this.\u0275prov=M.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},3368:(N,I,e)=>{e.r(I),e.d(I,{UserModule:()=>S});var t=e(96814),l=e(64190),r=e(65879),b=e(63934),Z=e(52572),g=e(22096),M=e(9315),v=e(17857),u=e(24110),C=e(17476),y=e(52341),f=e(34407);const O=[{path:"",component:(()=>{class a{constructor(){this.userService=(0,r.f3M)(b.K),this.rolesService=(0,r.f3M)(C.f),this.spaceService=(0,r.f3M)(v.s),this.globalService=(0,r.f3M)(u.U),this.pageInfoSer=(0,r.f3M)(y.Z)}ngOnInit(){let P=localStorage.getItem("is-super-admin"),x=localStorage.getItem("space-id");this.source$=(0,Z.a)([P?(0,g.of)(null):this.userService.getMyProfile(),P?(0,g.of)(null):this.spaceService.getSpaces(),x?this.rolesService.getRoles():(0,g.of)(null),this.rolesService.isTaskedinSuperAdmin(),x?(0,M.D)([this.globalService.getDepartments(),this.globalService.getManagers(),this.globalService.getJobTitles(),this.globalService.getPlaces(),this.globalService.getLevels()]):(0,g.of)(null),P?(0,g.of)(null):this.pageInfoSer.getPageInfo(),x?this.spaceService.getSpaceConfiguration():(0,g.of)(null)]).subscribe(),this.rolesService.taskedinSuperAdmin.subscribe(U=>{this.sidebarList=[{img:"assets/images/main-sidebar/departments.svg",link:"/new-spaces",tooltip:"spaces",roles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/departments.svg",link:"/all-spaces",tooltip:"spaces",roles:["taskedin-super-admin"]},{img:"assets/images/sub-sidebar/profile.svg",link:"/registerd-users",tooltip:"registerd_users",roles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/payment.svg",link:"/billing-orders",tooltip:"billing_orders",roles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/payment.svg",link:"/packages",tooltip:"packages",roles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/templates.svg",link:"/templates",tooltip:"templates",roles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/home.svg",link:"/home",tooltip:"home",excludeRoles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/home.svg",link:"/manager-dashboard",tooltip:"manager_dashboard",roles:["can-access-admin"],excludeRoles:["taskedin-super-admin"]},{icon:"bx-task",link:"/board",tooltip:"tasks_board",excludeRoles:["taskedin-super-admin"]},{icon:"bx-star",link:"/leader-board",tooltip:"leader_board",excludeRoles:["taskedin-super-admin"],beta:!0},{icon:"bx-tachometer",link:"/kpis",tooltip:"kpis",excludeRoles:["taskedin-super-admin"],beta:!0},{img:"assets/images/main-sidebar/tasks.svg",link:"/tasks",tooltip:"tasks",defaultRoute:U?"/tasks/all-tasks":"/tasks"},{img:"assets/images/sub-sidebar/team-attendance1.svg",link:"/manager-attendance",tooltip:"team_attendance",roles:["can-access-admin"],excludeRoles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/calendar.svg",link:"/calendar",tooltip:"manager_calendar",roles:["can-access-admin"],excludeRoles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/calendar.svg",link:"/calendar2",tooltip:"my_calendar"},{img:"assets/images/main-sidebar/meeting.svg",link:"/meeting",tooltip:"meetings",excludeRoles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/voting.svg",link:"/votes",tooltip:"votes",excludeRoles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/company.svg",link:"/company",tooltip:"space",roles:["can-access-admin"],excludeRoles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/hr.svg",link:"/hr",tooltip:"hr",defaultRoute:U?"/hr/users-attendance":"/hr"},{img:"assets/images/main-sidebar/project.svg",link:"/projects",tooltip:"projects",excludeRoles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/report.svg",link:"/reports",tooltip:"reports",roles:["can-access-admin"]},{img:"assets/images/main-sidebar/videos.svg",link:"/videos",tooltip:"videos",roles:["taskedin-super-admin"]},{img:"assets/images/sub-sidebar/lock.svg",link:"/reset-account",tooltip:"reset_account",roles:["taskedin-super-admin"]},{img:"assets/images/main-sidebar/subscription.svg",link:"/subscription",tooltip:"subscription",roles:["can-access-admin"]}]})}ngOnDestroy(){this.source$.unsubscribe()}static{this.\u0275fac=function(x){return new(x||a)}}static{this.\u0275cmp=r.Xpm({type:a,selectors:[["user"]],decls:4,vars:1,consts:[[1,"flex"],[3,"list"],[1,"flex-auto"]],template:function(x,U){1&x&&(r.TgZ(0,"div",0),r._UZ(1,"main-sidebar",1),r.TgZ(2,"div",2),r._UZ(3,"router-outlet"),r.qZA()()),2&x&&(r.xp6(1),r.Q6J("list",U.sidebarList))},dependencies:[l.lC,f.g]})}}return a})(),children:[{path:"home",loadChildren:()=>Promise.all([e.e(2339),e.e(8592),e.e(5146)]).then(e.bind(e,5097)).then(a=>a.DashboardModule)},{path:"manager-dashboard",loadComponent:()=>Promise.all([e.e(6472),e.e(2339),e.e(4462)]).then(e.bind(e,54462)).then(a=>a.ManagerDashboardComponent)},{path:"manager-attendance",loadComponent:()=>Promise.all([e.e(6472),e.e(5867),e.e(6975)]).then(e.bind(e,46975)).then(a=>a.ManagerAttendanceComponent)},{path:"board",loadComponent:()=>Promise.all([e.e(4104),e.e(400),e.e(2339),e.e(3166),e.e(6902),e.e(474),e.e(5447),e.e(9203),e.e(4224)]).then(e.bind(e,14224)).then(a=>a.KanbanBoardComponent)},{path:"board/template",loadComponent:()=>Promise.all([e.e(4104),e.e(400),e.e(2339),e.e(3166),e.e(6902),e.e(474),e.e(5447),e.e(9203),e.e(8846)]).then(e.bind(e,28846)).then(a=>a.TemplateKanbanBoardComponent),title:"Taskedin - Template Board"},{path:"leader-board",loadComponent:()=>Promise.all([e.e(6472),e.e(6521)]).then(e.bind(e,46521)).then(a=>a.LeaderBoardComponent)},{path:"tasks",loadChildren:()=>e.e(898).then(e.bind(e,50898)).then(a=>a.TasksModule)},{path:"calendar",loadComponent:()=>Promise.all([e.e(4104),e.e(6902),e.e(9767),e.e(8609),e.e(2181)]).then(e.bind(e,69755)).then(a=>a.ManagerCalendarComponent)},{path:"calendar2",loadComponent:()=>Promise.all([e.e(4104),e.e(6902),e.e(9767),e.e(8609),e.e(6684)]).then(e.bind(e,86684)).then(a=>a.Calendar2Component)},{path:"votes",loadChildren:()=>Promise.all([e.e(6472),e.e(2339),e.e(7466),e.e(8592),e.e(5927)]).then(e.bind(e,25927)).then(a=>a.VotesModule)},{path:"sessions",loadChildren:()=>Promise.all([e.e(6472),e.e(5423),e.e(8592),e.e(5097)]).then(e.bind(e,45097)).then(a=>a.SessionsModule)},{path:"kpis",loadChildren:()=>Promise.all([e.e(6472),e.e(4104),e.e(1486),e.e(400),e.e(2339),e.e(3166),e.e(6902),e.e(474),e.e(5447),e.e(2084),e.e(8995)]).then(e.bind(e,68995)).then(a=>a.KpisModule)},{path:"wallet",loadChildren:()=>Promise.all([e.e(6472),e.e(3251),e.e(5423),e.e(2400)]).then(e.bind(e,12400)).then(a=>a.WalletModule)},{path:"chat",loadChildren:()=>Promise.all([e.e(4104),e.e(400),e.e(3166),e.e(1428)]).then(e.bind(e,77053)).then(a=>a.ChatModule)},{path:"hr",loadChildren:()=>e.e(2647).then(e.bind(e,92647)).then(a=>a.HrModule)},{path:"users",loadChildren:()=>e.e(7432).then(e.bind(e,87432)).then(a=>a.UsersModule)},{path:"settings",loadChildren:()=>e.e(9325).then(e.bind(e,49325)).then(a=>a.SettingsModule)},{path:"company",loadChildren:()=>Promise.all([e.e(8840),e.e(5247),e.e(8592),e.e(5822)]).then(e.bind(e,26579)).then(a=>a.CompanyModule)},{path:"reports",loadChildren:()=>e.e(2639).then(e.bind(e,2639)).then(a=>a.ReportsModule)},{path:"projects",loadChildren:()=>Promise.all([e.e(6472),e.e(1079)]).then(e.bind(e,31079)).then(a=>a.ProjectsModule)},{path:"meeting",loadChildren:()=>Promise.all([e.e(6472),e.e(4104),e.e(400),e.e(2339),e.e(3166),e.e(6902),e.e(474),e.e(5447),e.e(8592),e.e(862)]).then(e.bind(e,90862)).then(a=>a.MeetingModule)},{path:"email",loadChildren:()=>e.e(4916).then(e.bind(e,84916)).then(a=>a.EmailModule)},{path:"subscription",loadChildren:()=>Promise.all([e.e(8840),e.e(2814)]).then(e.bind(e,12814)).then(a=>a.SubscriptionModule)},{path:"all-spaces",loadComponent:()=>Promise.all([e.e(6472),e.e(1486),e.e(3340),e.e(7841),e.e(7749)]).then(e.bind(e,27749)).then(a=>a.AllSpacesComponent)},{path:"new-spaces",loadComponent:()=>Promise.all([e.e(6472),e.e(1486),e.e(3340),e.e(974)]).then(e.bind(e,40974)).then(a=>a.AllSpacesNewComponent)},{path:"registerd-users",loadComponent:()=>Promise.all([e.e(6472),e.e(5689)]).then(e.bind(e,15689)).then(a=>a.RegisterdUsersComponent)},{path:"billing-orders",loadComponent:()=>Promise.all([e.e(6472),e.e(1486),e.e(7841),e.e(7614)]).then(e.bind(e,74266)).then(a=>a.BillingOrdersComponent)},{path:"packages",loadComponent:()=>Promise.all([e.e(6472),e.e(8436)]).then(e.bind(e,68436)).then(a=>a.PackagesComponent)},{path:"templates",loadComponent:()=>Promise.all([e.e(6472),e.e(2055),e.e(9936)]).then(e.bind(e,29936)).then(a=>a.GlobalTemplatesComponent)},{path:"videos",loadComponent:()=>Promise.all([e.e(6472),e.e(7302)]).then(e.bind(e,37302)).then(a=>a.VideosComponent)},{path:"reset-account",loadComponent:()=>Promise.all([e.e(6472),e.e(8192)]).then(e.bind(e,68192)).then(a=>a.ResetAccountComponent)},{path:"",redirectTo:"home",pathMatch:"full"}]}];let p=(()=>{class a{static{this.\u0275fac=function(x){return new(x||a)}}static{this.\u0275mod=r.oAB({type:a})}static{this.\u0275inj=r.cJS({imports:[l.Bz.forChild(O),l.Bz]})}}return a})();var h=e(55006);let S=(()=>{class a{static{this.\u0275fac=function(x){return new(x||a)}}static{this.\u0275mod=r.oAB({type:a})}static{this.\u0275inj=r.cJS({imports:[t.ez,p,f.g,h.o]})}}return a})()}}]);